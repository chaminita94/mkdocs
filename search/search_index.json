{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Benvingut/da al Projecte de Virtualitzaci\u00f3 amb Ubuntu","text":"<p>En aquesta web, et guiarem pas a pas per a la instal\u00b7laci\u00f3 i configuraci\u00f3 d'Ubuntu Linux dins d'un entorn de m\u00e0quina virtual, amb l'objectiu de facilitar l'\u00fas i la gesti\u00f3 del sistema per a usuaris avan\u00e7ats i principiants.</p>"},{"location":"#que-aprendrem","title":"Qu\u00e8 aprendrem?","text":"<p>Explorarem tots els aspectes necessaris per dominar l'\u00fas d'Ubuntu en un entorn virtual:</p> <ul> <li>Instal\u00b7laci\u00f3 i configuraci\u00f3 inicial: Com comen\u00e7ar amb Ubuntu i preparar el sistema en una m\u00e0quina virtual.</li> <li>Configuraci\u00f3 de xarxa: Configurar i gestionar la connexi\u00f3 a Internet de manera eficient.</li> <li>Gesti\u00f3 del sistema: Inclou gestors d'arrencada, reparaci\u00f3 d'inici i creaci\u00f3 d'instant\u00e0nies del sistema.</li> <li>\u00das de comandes b\u00e0siques: Per moure't amb flu\u00efdesa pel sistema operatiu.</li> <li>Permisos i sistemes de fitxers: Treballar amb permisos especials, ACL, particions i quotes de disc.</li> <li>C\u00f2pies de seguretat i automatitzacions: Configurar tasques autom\u00e0tiques per garantir la seguretat de les teves dades.</li> <li>Gesti\u00f3 avan\u00e7ada: Administrar usuaris, processos i fitxers cr\u00edtics del sistema.</li> <li>Llic\u00e8ncies: Entendre els tipus de llic\u00e8ncies i com s'apliquen al programari.</li> </ul> <p>Durant el proc\u00e9s, et proporcionarem documentaci\u00f3 detallada amb captures de pantalla i eines pr\u00e0ctiques per verificar i solucionar incid\u00e8ncies.</p> <p> </p>        Made by Vitaliy | \u00a9 2024 | Licensed under License      About Me    About Me <p>Hi, I\u2019m Vitaliy. I created this MkDocs so everyone can use it, no matter what language you speak.</p> <p>While instant translation isn\u2019t perfect, it\u2019s better than nothing.</p> <p>What else can I say about myself? I\u2019m currently studying IT. I love self-learning more than anything else, and sometimes I can spend hours and hours trying to fix something. If something works on the first try, it doesn\u2019t satisfy me; I enjoy the challenge of figuring it out!</p> <p>I also enjoy creating programs, building websites, configuring servers, and starting interesting projects. Lately, I\u2019ve been getting into AI and cloud computing.</p> <p>I\u2019m not a programmer, but I know how to figure things out, which is my best skill.</p> <p>This \"About Me\" is in English because I\u2019m more comfortable writing it in English rather than Catalan. However, the documentation is in Catalan because it was a requirement, so I included a translation for the whole site.</p>      X"},{"location":"actualizacion/","title":"Servidor d'Actualitzacions","text":""},{"location":"actualizacion/#que-es-un-servidor-dactualitzacions","title":"\u00bfQu\u00e8 \u00e9s un Servidor d'Actualitzacions?","text":"<p>El Servidor d'Actualitzacions \u00e9s un servidor central que concentra tots els paquets d'actualitzaci\u00f3. Tots els clients es configuren per apuntar a aquest servidor per descarregar les actualitzacions, evitant aix\u00ed la necessitat d'accedir als repositoris web per defecte.</p>"},{"location":"actualizacion/#funcionament","title":"Funcionament","text":"<p>El sistema utilitza eines com apt-mirror i apache2 per baixar i servir localment els paquets d'actualitzacions. Quan els clients executen <code>apt update</code>, es connecten a la IP del servidor central per obtenir els paquets, assegurant una gesti\u00f3 centralitzada de les actualitzacions.</p> <ul> <li>Centralitzaci\u00f3 dels paquets: El servidor mant\u00e9 una c\u00f2pia local de tots els paquets necessaris.</li> <li>Actualitzaci\u00f3 amb <code>apt update</code>: Els clients descarreguen les actualitzacions des del servidor, evitant connexions directes als repositoris oficials.</li> </ul>"},{"location":"actualizacion/#usos-i-beneficis-practics","title":"Usos i Beneficis Pr\u00e0ctics","text":"<p>Aquest model de servidor \u00e9s especialment \u00fatil en entorns on:</p> <ul> <li>Entorns corporatius: Es necessita un control estricte de les versions per garantir la compatibilitat i la seguretat en tots els dispositius.</li> <li>Xarxes amb restriccions d'acc\u00e9s a Internet: Permet que els clients actualitzin els seus sistemes sense exposar-los directament a Internet.</li> <li>Proves pr\u00e8vies d'actualitzacions: Es poden validar i aprovar les actualitzacions en un entorn controlat abans de distribuir-les a tots els clients.</li> <li>Auditoria i control: El servidor central pot registrar els paquets descarregats i les actualitzacions, facilitant el seguiment i la resoluci\u00f3 d'incid\u00e8ncies.</li> </ul>"},{"location":"actualizacion/#pros-i-cons","title":"Pros i Cons","text":"Pros Cons Centralitzaci\u00f3 i control: Facilita la gesti\u00f3 de les actualitzacions i permet validar els paquets abans de la distribuci\u00f3. Punt \u00fanic de fallada: Si el servidor central no est\u00e0 disponible, els clients no podran actualitzar-se. Reducci\u00f3 del tr\u00e0fic d'Internet: Nom\u00e9s es descarrega una c\u00f2pia local dels paquets, estalviant banda ampla. Manteniment addicional: Cal dedicar recursos per mantenir, actualitzar i assegurar el servidor central. Uniformitat de versions: Tots els clients reben els mateixos paquets, garantint coher\u00e8ncia en el sistema. Configuraci\u00f3 inicial complexa: La implementaci\u00f3 pot ser m\u00e9s complexa que l'\u00fas directe dels repositoris en l\u00ednia."},{"location":"actualizacion/#aspectes-de-seguretat","title":"Aspectes de Seguretat","text":"<ul> <li>Filtrat de continguts: El servidor pot estar configurat per descarregar nom\u00e9s paquets verificats, reduint el risc d'actualitzacions malicioses.</li> <li>Entorns tancats: En xarxes amb acc\u00e9s restringit, els clients no necessiten connexi\u00f3 directa a Internet, disminuint l'exposici\u00f3 a amenaces externes.</li> <li>Control d'acc\u00e9s: Es poden implementar mecanismes d'autenticaci\u00f3 i registre per monitoritzar quins dispositius accedeixen als paquets, facilitant l'auditoria.</li> </ul>"},{"location":"actualizacion/#configuracio-del-servidor","title":"Configuraci\u00f3 del Servidor","text":"<p>Primerament, s'executa <code>sudo apt update</code> al servidor per actualitzar la llista de paquets. A continuaci\u00f3, s'instal\u00b7la el servidor web Apache2 amb la comanda <code>sudo apt install apache2</code>.</p> <pre><code>sudo apt update &amp;&amp; sudo apt install apache2\n</code></pre> <p></p> <p>Instal\u00b7lem el paquet apt-mirror, una eina que permet descarregar una c\u00f2pia local dels repositoris APT. Aquest paquet s'encarrega de descarregar i sincronitzar els paquets indicats en el fitxer de configuraci\u00f3, de manera que els clients es podran actualitzar des del servidor local en lloc d'accedir directament a Internet.</p> <p></p> <p>Editem el fitxer <code>/etc/apt/mirror.list</code>. En aquest fitxer, es comenten les l\u00ednies que es troben dins de l'apartat (1) i s'afegeix la l\u00ednia n\u00famero (2) per definir el repositori o paquet que es vol mirrorar.**</p> <pre><code>sudo nano /etc/apt/mirror.list\n</code></pre> <p></p> <p>Despr\u00e9s, s'executa apt-mirror amb permisos d'administrador (utilitzant sudo) per baixar els paquets definits en el fitxer mirror.list. Aquest proc\u00e9s descarrega els paquets especificats.</p> <p></p> <p>Finalment, s'afegeix un enlla\u00e7 simb\u00f2lic del paquet (per exemple, el paquet de Google) dins del directori <code>/var/www/html</code>, de manera que el contingut descarregat sigui accessible a trav\u00e9s d'Apache2.</p> <p></p> <p>Amb aquests passos, la configuraci\u00f3 del servidor queda completa. L'exemple utilitza Google com a refer\u00e8ncia, per\u00f2 es pot substituir pel repositori o paquet que es desitgi.</p>"},{"location":"actualizacion/#configuracio-dels-clients","title":"Configuraci\u00f3 dels Clients","text":"<p>Primer de tot, s'executa <code>sudo apt update</code> per actualitzar la llista de paquets.</p> <p>A continuaci\u00f3, s'executa la comanda  </p> <pre><code>wget -q -O https://dl.google.com/linux/linux_signing_key.pub | apt-key add - \n</code></pre> <p>que descarrega la clau de signatura p\u00fablica des de Google de manera silenciosa i la passa a <code>apt-key</code> per afegir-la al sistema. Aix\u00f2 permet verificar l'autenticitat dels paquets que es descarregaran del repositori.</p> <p>\u00c9s possible que surti un warning, no pateixis.</p> <p></p> <p>Despr\u00e9s, s'obre el fitxer de configuraci\u00f3 de les fonts amb  </p> <pre><code>nano /etc/apt/sources.list\n</code></pre> <p>i s'afegeix la ruta del nostre servidor, per exemple:  </p> <pre><code>deb [arch=amd64] http://10.0.2.15/dl.google.com/linux/chrome/deb stable main\n</code></pre> <p></p> <p>Un cop guardat el fitxer, s'executa un altre <code>apt update</code> i es pot observar que el paquet es descarrega directament des del servidor amb IP 10.0.2.15.</p> <p></p> <p>Finalment, s'instal\u00b7la el paquet amb  </p> <pre><code>apt install google-chrome-stable\n</code></pre> <p></p>"},{"location":"anacron/","title":"Automatitzaci\u00f3 amb Scripts, Cron i Anacron","text":""},{"location":"anacron/#automatitzacio-amb-scripts-i-cron-i-anacron","title":"Automatitzaci\u00f3 amb Scripts i Cron i Anacron","text":"<p>En aquest apartat es descriuen dos processos importants per automatitzar tasques en sistemes operatius basats en Linux: Cron i Anacron.  Aquests sistemes permeten programar l'execuci\u00f3 d'scripts i tasques de manera recurrent, tot i que presenten algunes difer\u00e8ncies que es detallen a continuaci\u00f3.</p>"},{"location":"anacron/#crontab-vs-anacron","title":"Crontab vs Anacron","text":"<p>Cron i Anacron s\u00f3n eines que s'utilitzen per a l'automatitzaci\u00f3 de tasques, i mentre que antigament funcionaven de manera separada, avui dia treballen conjuntament en molts sistemes operatius moderns, com Ubuntu.</p> <p>Quan utilitzar Cron o Anacron?</p> <ul> <li> <p>Cron: Es fa servir quan els ordinadors estan encesos de manera constant i volem que les tasques es duguin a terme a hores concretes, com per exemple: \"executar aquest script cada dia a les 12:00\".</p> </li> <li> <p>Anacron: Ideal per a sistemes que no estan sempre en funcionament. Permet assegurar-se que una tasca es realitzi encara que el sistema hagi estat apagat durant el moment programat.</p> </li> </ul> <p>Usos generals</p> Eina Cas d'\u00fas Cron Tasques espec\u00edfiques d'usuari o programades a hores concretes. Anacron Tasques de manteniment general del sistema operatiu, com neteja i actualitzacions. <p>Funcionament te\u00f2ric</p> <p>Cron: </p> <ul> <li>Si volem programar tasques globals per a tots els usuaris, editem el fitxer: <code>/etc/crontab</code>.</li> <li>Si volem programar tasques espec\u00edfiques per a un usuari, utilitzem: <code>crontab -e -u &lt;usuari&gt;</code>.</li> </ul> <p>Anacron:</p> <ul> <li>S'utilitza per programar tasques que han de garantir la seva execuci\u00f3, independentment de si el sistema estava apagat durant l'hora programada.</li> <li>Els arxius rellevants inclouen:<ul> <li><code>/etc/anacrontab</code>: Configuraci\u00f3 principal d'Anacron.</li> <li><code>/var/spool/anacron/</code>: Cont\u00e9 la informaci\u00f3 sobre les tasques ja executades.</li> <li>Directoris com <code>/etc/cron.daily/</code>, <code>/etc/cron.weekly/</code>, <code>/etc/cron.monthly/</code>.</li> </ul> </li> </ul>"},{"location":"anacron/#taula-comparativa-cron-vs-anacron","title":"Taula comparativa: Cron vs Anacron","text":"Caracter\u00edstica Cron Anacron Execuci\u00f3 programada A hores i dates concretes. Dins d'un per\u00edode flexible (diari, setmanal, mensual). Necessitat d'estar encesos Requereix que el sistema estigui en funcionament en el moment exacte de l'execuci\u00f3. No requereix que el sistema estigui encesos; executa tasques pendents quan es reinicia. Configuraci\u00f3 principal <code>/etc/crontab</code> i fitxers personals amb <code>crontab -e</code>. <code>/etc/anacrontab</code>. Freq\u00fc\u00e8ncia t\u00edpica Hores espec\u00edfiques, segons l'horari definit. Tasques di\u00e0ries, setmanals o mensuals. \u00das principal Automatitzaci\u00f3 de tasques espec\u00edfiques per a usuaris o processos puntuals. Tasques de manteniment i gesti\u00f3 del sistema operatiu. Adequat per a Sistemes sempre en funcionament (servidors, per exemple). Sistemes que poden estar apagats durant per\u00edodes de temps (port\u00e0tils, ordinadors personals). Ubicaci\u00f3 de tasques <code>/etc/crontab</code>, <code>/etc/cron.d/</code>, <code>crontab -e</code>. <code>/etc/anacrontab</code>, <code>/var/spool/anacron/</code>, <code>/etc/cron.daily/</code>, etc."},{"location":"anacron/#arxius-dinteres","title":"Arxius d'inter\u00e8s","text":"<p>Cron:</p> <ul> <li><code>/etc/crontab</code>: Fitxer principal per a configurar tasques globals.</li> <li><code>/etc/cron.d/</code>: Directori per afegir tasques personalitzades.</li> <li><code>crontab -e</code>: Per configurar tasques espec\u00edfiques d'usuari.</li> </ul> <p>Anacron:</p> <ul> <li><code>/etc/anacrontab</code>: Fitxer principal de configuraci\u00f3.</li> <li><code>/var/spool/anacron/</code>: Cont\u00e9 registres de tasques ja realitzades.</li> </ul> <p>Directoris:</p> <ul> <li><code>/etc/cron.daily/</code>: Tasques di\u00e0ries.</li> <li><code>/etc/cron.weekly/</code>: Tasques setmanals.</li> <li><code>/etc/cron.monthly/</code>: Tasques mensuals.</li> </ul>"},{"location":"anacron/#exemple-practic","title":"Exemple pr\u00e0ctic","text":"<p>Per aquest exemple, crearem dos fitxers dins del directori <code>/home/Im\u00e1genes</code> per verificar que l'script funciona correctament.</p> <p></p> <p>Aquest script s'utilitza per crear una c\u00f2pia de seguretat comprimida del directori d'imatges ubicat a <code>/home/alumne/Im\u00e1genes</code>. La c\u00f2pia es guarda al directori <code>Escritorio</code> amb un nom que inclou una marca de temps per identificar-la.</p> <p></p> <p>Explicaci\u00f3 de la captura</p> <ol> <li> <p>Inicialitzaci\u00f3 del script    L'script est\u00e0 preparat per executar-se amb el shell <code>bash</code>, tal com indica la primera l\u00ednia (<code>#!/bin/bash</code>).</p> </li> <li> <p>Generaci\u00f3 de la marca de temps (<code>TIMESTAMP</code>)    Es genera una cadena amb la data i hora actuals en el format <code>YYYYMMDD_HHMMSS</code>. Aquesta marca de temps permet crear noms \u00fanics per a cada c\u00f2pia de seguretat.</p> </li> <li> <p>Creaci\u00f3 de la c\u00f2pia de seguretat    S'utilitza una eina per empaquetar i comprimir el directori <code>/home/alumne/Im\u00e1genes</code>.     El resultat \u00e9s un fitxer comprimit (<code>.tar.gz</code>) que es guarda al directori <code>/home/alumne/Escritorio</code> amb un nom que inclou la marca de temps (<code>copia_YYYYMMDD_HHMMSS.tar.gz</code>).</p> </li> </ol> <p>Exemple de resultat</p> <p>Si l'script s'executa el 16 de gener de 2025 a les 13:30:45, el fitxer resultant tindria el seg\u00fcent nom: <code>/home/alumne/Escritorio/copia_20250116_133045.tar.gz</code>.</p> <p>Assignem permisos d'execuci\u00f3 al fitxer <code>copia.sh</code> amb la comanda <code>chmod +x copia.sh</code> i l'executem manualment per verificar el seu funcionament.</p> <p></p>"},{"location":"anacron/#automatitzacio-del-proces-amb-crontab","title":"Automatitzaci\u00f3 del proc\u00e9s amb <code>crontab</code>","text":"<p>Per automatitzar l'execuci\u00f3 del nostre script <code>copia.sh</code>, utilitzarem el programador de tasques <code>crontab</code>. A continuaci\u00f3, es detallen els passos per configurar-ho:</p> <p>Editar el fitxer <code>crontab</code> del sistema</p> <p>Obrim el fitxer de configuraci\u00f3 del <code>crontab</code> amb permisos d'administrador per afegir la tasca programada:</p> <pre><code>sudo nano /etc/crontab\n</code></pre> <p>Afegir la l\u00ednia de programaci\u00f3</p> <p>Afegim la seg\u00fcent l\u00ednia al final del fitxer: 05 13 16 1 * /home/alumne/copia.sh </p> <p></p> <p>Aquesta l\u00ednia indica que l'script <code>copia.sh</code> s'executar\u00e0 autom\u00e0ticament segons la programaci\u00f3 especificada.</p> <p>Explicaci\u00f3 de la sintaxi</p> <p>Els camps de la l\u00ednia afegida al <code>crontab</code> tenen el seg\u00fcent significat:</p> <ul> <li>05: Minut en qu\u00e8 s'executar\u00e0 la tasca (05 minuts).</li> <li>13: Hora del dia (13:00 h).</li> <li>16: Dia del mes (16 de gener en aquest cas).</li> <li>1: Mes de l'any (gener).</li> <li>*: Qualsevol dia de la setmana (de dilluns a diumenge).  </li> </ul> <p>En el nostre cas, aix\u00f2 significa que l'script s'executar\u00e0 el 16 de gener de cada any a les 13:05, independentment del dia de la setmana.</p> <p>Guardar i sortir </p> <p>Despr\u00e9s d'afegir la l\u00ednia, guardem els canvis i sortim de l'editor.</p> <p>Esperem uns minuts i podem observar que s'ha realitzat la copia dels arxius.</p> <p></p>"},{"location":"anacron/#configuracio-amb-anacron","title":"Configuraci\u00f3 amb Anacron","text":"<p>A continuaci\u00f3, configurarem el nostre script perqu\u00e8 s'executi autom\u00e0ticament amb Anacron. Aquesta eina \u00e9s ideal per a tasques peri\u00f2diques en sistemes que no estan en funcionament constant.</p> <p>Moure el script a <code>/etc/cron.daily</code></p> <p>Per comen\u00e7ar, copiem el nostre script a la carpeta designada per a tasques di\u00e0ries:</p> <ul> <li>Accedim al directori <code>/etc/cron.daily/</code>.</li> <li>Copiem el fitxer <code>copia.sh</code> des de la seva ubicaci\u00f3 original.</li> </ul> <p>Nota: El fitxer no pot tenir extensions, aix\u00ed que canviem el nom per eliminar-la. Exemple:</p> <ul> <li>Original: <code>copia.sh</code></li> <li>Renombrat: <code>copia</code></li> </ul> <p></p> <p>Assegurar que s'executa avui mateix</p> <p>Per comprovar que l'script s'executa correctament, editem el fitxer de registre d'Anacron per a tasques di\u00e0ries:</p> <ul> <li>Obrim el fitxer /var/spool/anacron/cron.daily i eliminem les dades que hi trobem.</li> </ul> <p></p> <p>Configuraci\u00f3 del temps d'execuci\u00f3</p> <p>Per ajustar el temps d'execuci\u00f3 de la tasca di\u00e0ria, editem el fitxer de configuraci\u00f3 d'Anacron:</p> <ul> <li>Obrim /etc/anacrontab i localitzem la l\u00ednia corresponent a les tasques di\u00e0ries.</li> <li>Modifiquem el segon valor (temps en minuts) a 1 si volem que la tasca s'executi nom\u00e9s un minut despr\u00e9s d'iniciar el sistema.  </li> </ul> <p></p> <p>Per defecte, Anacron espera 5 minuts, per\u00f2 es pot ajustar segons les prefer\u00e8ncies. Jo he triat 1 minut, perqu\u00e8 \"Ain't Nobody Got Time For That!\"</p> <p>Amb aix\u00f2, Anacron s'encarregar\u00e0 d'executar l'script di\u00e0riament quan l'ordinador estigui en funcionament.</p> <p>Reiniciem l'ordinador, esperem un minut i verifiquem que el proc\u00e9s s'ha executat correctament.</p> <p></p>"},{"location":"aplicar/","title":"Aplicarci\u00f3 de Permisos Especial i ACL","text":""},{"location":"aplicar/#demostracio-de-permisos-amb-chown-chgrp-i-chmod","title":"Demostraci\u00f3 de Permisos amb <code>chown</code>, <code>chgrp</code> i <code>chmod</code>","text":"<p>Per aquesta demostraci\u00f3, hem creat quatre usuaris per exemplificar com aplicar els permisos amb les comandes <code>chown</code>, <code>chgrp</code> i <code>chmod</code>.</p> <p></p> <p>A m\u00e9s, hem creat un grup anomenat group1 espec\u00edficament per a aquesta demostraci\u00f3.</p> <p></p> <p>Creaci\u00f3 d'un Directori</p> <p>Comencem creant un nou directori que hem anomenat carpeta1.</p> <pre><code>sudo mkdir carpeta1\n</code></pre> <p>Assignaci\u00f3 del Grup com a Propietari del Directori</p> <p>Afegim el group1 com a propietari del directori carpeta1 utilitzant <code>chgrp</code>.</p> <pre><code>sudo chown :group1 carpeta1\n</code></pre> <p></p> <p>Assignaci\u00f3 dels permisos del Directori</p> <p>En aquest cas assignem els permisos de 770</p> <pre><code>sudo chmod 770\n</code></pre> <p></p> <p>770 permet:</p> <p>Usuari propietari: llegir, escriure i executar.</p> <p>Grup: llegir, escriure i executar.</p> <p>Altres: cap perm\u00eds.</p>"},{"location":"aplicar/#comprovacio","title":"Comprovaci\u00f3","text":"<p>Per verificar els permisos, entrem amb l'usuari user1 i intentem accedir al directori carpeta1.</p> <p></p> <p>Com es pot observar, l'acc\u00e9s \u00e9s denegat. Aix\u00f2 es deu al fet que l'usuari user1 encara no forma part del grup Group1 i, per tant, no t\u00e9 els permisos necessaris per accedir al directori.</p> <p>Afegim els usuaris dins del group1</p> <pre><code>sudo usermod -aG group1 user1\nsudo usermod -aG group1 user2\n</code></pre> <p></p> <p>Comprovem que els usuaris estan dins del Group1</p> <pre><code>cat /etc/group | grep group1\n</code></pre> <p></p> <p>Entrem un altre cop amb l'usuari user1 i intentem crear un fitxer i un directori.</p> <p></p> <p>Com es pot observar, s'han creat correctament, i el propietari d'aquests fitxers \u00e9s user1.</p>"},{"location":"aplicar/#esborrat-de-fitxers-i-directoris","title":"Esborrat de fitxers i directoris","text":"<p>Entrem amb l'usuari user2 i intentem esborrar els directoris i fitxers.</p> <p></p> <p>Com es pot observar, els fitxers han estat esborrats. Aix\u00f3 no \u00e9s desitjable, ja que els fitxers eren propietat d'altres usuaris i haurien d'estar protegits.</p> <p>NOTA! La restricci\u00f3 dels fitxers la explicarem mes endavant.</p>"},{"location":"aplicar/#herencia-de-grup","title":"Her\u00e8ncia de Grup","text":"<p>El bit SGID (Set Group ID) \u00e9s una caracter\u00edstica del sistema de permisos en Linux que assegura que els fitxers i directoris creats dins d\u2019un directori hereten el grup propietari del directori pare en lloc del grup predeterminat de l\u2019usuari que els crea.</p> <p></p>"},{"location":"aplicar/#com-funciona-chmod-2770","title":"Com funciona <code>chmod 2770</code>?","text":"<p>Bit SGID (2):</p> <ul> <li> <p>Activa l'her\u00e8ncia de grup, garantint que:</p> </li> <li> <p>Els fitxers i directoris creats dins d\u2019un directori amb SGID activat heretin autom\u00e0ticament el grup propietari del directori pare.</p> </li> <li> <p>Aix\u00f2 assegura que tots els fitxers i directoris dins del directori comparteixin el mateix grup, facilitant el treball col\u00b7laboratiu.</p> </li> </ul> <p>Permisos 770:</p> <p>Configura els permisos del directori amb el seg\u00fcent significat:</p> <ul> <li> <p>7 (Propietari): Permet llegir, escriure i executar.</p> </li> <li> <p>7 (Grup): Permet als membres del grup llegir, escriure i executar.</p> </li> <li> <p>0 (Altres): No dona cap perm\u00eds als usuaris que no s\u00f3n ni el propietari ni membres del grup.</p> </li> </ul> <p>Amb aquests permisos:</p> <ul> <li> <p>Nom\u00e9s el propietari i els membres del grup poden accedir al directori o modificar el seu contingut.</p> </li> <li> <p>Altres usuaris queden completament exclosos.</p> </li> </ul>"},{"location":"aplicar/#beneficis-de-chmod-2770","title":"Beneficis de <code>chmod 2770</code>","text":"<p>Seguretat:</p> <ul> <li> <p>Es limita l\u2019acc\u00e9s al directori exclusivament al propietari i als membres del grup.</p> </li> <li> <p>Els usuaris no autoritzats no poden veure, modificar ni esborrar el contingut del directori.</p> </li> </ul> <p>Col\u00b7laboraci\u00f3:</p> <ul> <li>L\u2019her\u00e8ncia de grup assegura que els fitxers i directoris creats dins del directori comparteixin el mateix grup, facilitant la col\u00b7laboraci\u00f3 entre els membres.</li> </ul> <p>Control:</p> <ul> <li>Garanteix que nom\u00e9s el propietari i els membres del grup tinguin permisos per gestionar els fitxers, mantenint una estructura de permisos clara i coherent.</li> </ul>"},{"location":"aplicar/#situacions-recomanades-per-utilitzar-aquesta-configuracio","title":"Situacions recomanades per utilitzar aquesta configuraci\u00f3","text":"<p>La configuraci\u00f3 amb chmod 2770 \u00e9s especialment \u00fatil en entorns on: - Diversos usuaris treballen conjuntament en un projecte. - Els fitxers i directoris han de ser accessibles nom\u00e9s per als membres del grup. - \u00c9s important mantenir la seguretat i coher\u00e8ncia dels permisos en un entorn compartit.</p> <p>Amb aquesta configuraci\u00f3, es pot assegurar un control adequat dels fitxers i una col\u00b7laboraci\u00f3 efica\u00e7 en projectes d\u2019equip.</p>"},{"location":"aplicar/#acl","title":"ACL","text":"<p>Una ACL (Access Control List) \u00e9s una llista que defineix permisos espec\u00edfics per a usuaris o grups sobre un fitxer o directori en sistemes operatius com Linux. A difer\u00e8ncia dels permisos tradicionals de Linux (propietari, grup i altres), les ACL permeten una configuraci\u00f3 m\u00e9s granular, com donar permisos diferents a usuaris o grups espec\u00edfics.</p> <p></p> <p>user1: Pot llegir, escriure i esborrar fitxers, ja que est\u00e0 al grup i no t\u00e9 restriccions addicionals.</p> <p>user2: Pot llegir i escriure fitxers dins de Carpeta1, per\u00f2 no pot esborrar-los perqu\u00e8 no \u00e9s el propietari.</p>"},{"location":"aplicar/#permisos-actuals-de-carpeta1","title":"Permisos actuals de <code>carpeta1</code>","text":""},{"location":"aplicar/#permisos-del-directori","title":"Permisos del directori","text":"Tipus Usuari/Grup Permisos Descripci\u00f3 Propietari <code>root</code> <code>rwx</code> El propietari t\u00e9 permisos complets. Usuari espec\u00edfic <code>user2</code> <code>rw-</code> Pot llegir i escriure, per\u00f2 no executar ni esborrar. Grup <code>group1</code> <code>rwx</code> Els membres del grup tenen permisos complets. Mask - <code>rwx</code> Defineix el m\u00e0xim perm\u00e8s pels ACLs. Altres - <code>---</code> Els altres usuaris no tenen cap acc\u00e9s."},{"location":"aplicar/#permisos-predeterminats-per-a-nous-fitxers","title":"Permisos predeterminats per a nous fitxers","text":"Tipus Usuari/Grup Permisos Descripci\u00f3 Propietari <code>root</code> <code>rwx</code> Els nous fitxers tindran permisos complets per al propietari. Usuari espec\u00edfic <code>user2</code> <code>rw-</code> Els nous fitxers tindran permisos de lectura i escriptura, per\u00f2 no d'execuci\u00f3. Grup <code>group1</code> <code>rwx</code> Els nous fitxers tindran permisos complets per al grup. Mask - <code>rwx</code> Defineix el m\u00e0xim perm\u00e8s pels ACLs predeterminats. Altres - <code>---</code> Els altres usuaris no tindran acc\u00e9s als nous fitxers."},{"location":"aplicar/#comprovacio-de-les-acl","title":"Comprovaci\u00f3 de les ACL","text":"<p>Per verificar si s'ha aplicat correctament la configuraci\u00f3 de la ACL, utilitzem la seg\u00fcent comanda:</p> <pre><code>getfacl carpeta1/\n</code></pre>"},{"location":"aplicar/#verificacio-de-permisos-acl","title":"Verificaci\u00f3 de permisos ACL","text":"<p>La sortida hauria de mostrar els permisos configurats actualment per al directori:</p> <p></p> <p>Pas 1: Crear un fitxer o directori amb <code>user1</code></p> <p>Entrem amb l'usuari user1 i creem un directori o un fitxer dins de <code>carpeta1</code>.</p> <p></p> <p>Pas 2: Intentem accedir amb <code>user2</code></p> <p>Ara entrem amb l'usuari user2 i intentem accedir a carpeta1 o llegir els fitxers.</p> <ul> <li>Resultat: No podem accedir al directori ni llegir els fitxers. Nom\u00e9s podem veure que existeix la carpeta, per\u00f2 no tenim informaci\u00f3 sobre els permisos ni el seu contingut.</li> </ul> <p></p> <p>Pas 3: Afegim permisos per a <code>user2</code> amb ACL</p> <p>Per permetre que <code>user2</code> pugui accedir a la carpeta, llegir i modificar fitxers, afegim permisos rwx (lectura, escriptura i execuci\u00f3) dins de l'ACL.</p> <p></p> <pre><code>sudo setfacl -d -m u:user2:rwx carpeta1\n</code></pre> <pre><code>sudo setfacl -m u:user2:rwx carpeta1\n</code></pre> <p>NOTA: Compte! Amb aquesta configuraci\u00f3, el user2 pot llegir, escriure i tamb\u00e9 esborrar els fitxers dins de <code>carpeta1</code>. Per evitar que el user2 pugui esborrar els fitxers d'altres usuaris, cal activar el Sticky Bit, com veurem a continuaci\u00f3.</p>"},{"location":"aplicar/#sticky-bit","title":"Sticky Bit","text":""},{"location":"aplicar/#que-es-el-sticky-bit","title":"Qu\u00e8 \u00e9s el Sticky Bit?","text":"<p>El Sticky Bit \u00e9s una caracter\u00edstica que s'utilitza en sistemes Linux per protegir els fitxers en directoris compartits. Quan s'activa, nom\u00e9s el propietari del fitxer o un administrador pot esborrar-lo, encara que altres usuaris tinguin permisos d'escriptura al directori.</p>"},{"location":"aplicar/#com-funciona","title":"Com funciona?","text":"<p>En un directori compartit, com ara <code>/carpeta1</code>: - Els usuaris poden crear i editar fitxers lliurement. - Amb el Sticky Bit, un usuari no pot esborrar els fitxers d'altres usuaris, per\u00f2 s\u00ed els seus propis.</p> <p>Per evitar que <code>user2</code> o qualsevol altre usuari pugui esborrar fitxers que no s\u00f3n seus, afegim el Sticky Bit al directori. Aix\u00f2 assegura que nom\u00e9s el propietari del fitxer o un administrador pot esborrar-lo.</p> <p></p>"},{"location":"aplicar/#exemple-practic","title":"Exemple pr\u00e0ctic","text":"<p>Entrem amb el user1, creem un directori i un fitxer. Posteriorment, entrem amb el user2 i intentem esborrar els fitxers de l'usuari user1, per\u00f2 no es poden esborrar per falta de permisos. Tot i aix\u00f2, podem crear fitxers propis dins del directori.</p> <p></p> <p>Conclusi\u00f3</p> <p>Amb aquesta configuraci\u00f3: - user1 pot crear fitxers i directoris, i nom\u00e9s ell pot esborrar els seus fitxers. - user2 pot accedir, llegir i escriure fitxers dins de <code>/carpeta1</code>, per\u00f2 no pot esborrar els fitxers d'altres usuaris.</p>"},{"location":"aplicar/#que-es-umask","title":"Qu\u00e8 \u00e9s <code>umask</code>?","text":"<p>Umask \u00e9s una configuraci\u00f3 en sistemes Linux que controla els permisos que tindran els fitxers i directoris nous quan es cre\u00efn. En altres paraules, determina qui podr\u00e0 accedir o modificar aquests fitxers o directoris per defecte.</p>"},{"location":"aplicar/#com-funciona_1","title":"Com funciona?","text":"<ul> <li>Quan es crea un fitxer o directori nou, el sistema li assigna uns permisos predeterminats.</li> <li><code>Umask</code> resta alguns permisos d'aquests valors predeterminats per garantir la seguretat i el control d'acc\u00e9s.</li> </ul>"},{"location":"aplicar/#valors-predeterminats","title":"Valors predeterminats:","text":"<ul> <li>Fitxers: Els permisos inicials s\u00f3n <code>666</code> (lectura i escriptura per a tothom, per\u00f2 sense execuci\u00f3).</li> <li>Directoris: Els permisos inicials s\u00f3n <code>777</code> (lectura, escriptura i execuci\u00f3 per a tothom).</li> </ul>"},{"location":"aplicar/#per-que-es-important","title":"Per qu\u00e8 \u00e9s important?","text":"<p><code>Umask</code> ajuda a controlar la seguretat i la col\u00b7laboraci\u00f3 en un sistema: - Seguretat: Evita que altres usuaris tinguin acc\u00e9s complet als teus fitxers per defecte. - Col\u00b7laboraci\u00f3: Permet ajustar els permisos perqu\u00e8 els membres del teu grup puguin treballar amb els teus fitxers si cal.</p>"},{"location":"aplicar/#canviar-umask-temporalment-i-crear-un-fitxer","title":"Canviar <code>Umask</code> temporalment i crear un fitxer","text":"<p>Primeramen comprova el valor actual de la <code>Umask</code>:</p> <p>Comprovaci\u00f3 de la <code>umask</code> actual: </p> <p></p> <p>L'usuari user2 t\u00e9 configurada la <code>umask</code> com <code>0002</code>, permetent que els fitxers nous siguin accessibles pel grup.</p> <p>Creaci\u00f3 d'un fitxer: </p> <p>user2 crea un fitxer anomenat <code>umask.txt</code>.</p> <p>Permisos del fitxer: </p> <p>En fer <code>ls -l</code>, els permisos s\u00f3n <code>-rw-rw----</code>, indicant que:</p> <ul> <li> <p>El propietari i el grup poden llegir i escriure.</p> </li> <li> <p>Altres no tenen cap acc\u00e9s.</p> </li> </ul>"},{"location":"aplicar/#assignacio-duna-umask-diferent","title":"Assignaci\u00f3 d'una <code>umask</code> diferent","text":"<p>Assignem una <code>umask</code> m\u00e9s restrictiva i creem un fitxer anomenat <code>hello</code>.</p> <pre><code>umask 0077\n</code></pre> <p></p> <p>Comprovaci\u00f3 dels permisos: </p> <p>En fer <code>ls -l</code>, els permisos s\u00f3n <code>-rw-------</code>, indicant que:</p> <ul> <li> <p>Nom\u00e9s el propietari pot llegir i escriure.</p> </li> <li> <p>El grup i altres no tenen cap acc\u00e9s.</p> </li> </ul> <p>Explicaci\u00f3:</p> <p>Amb la <code>umask</code> configurada com <code>0077</code>:</p> <ul> <li> <p>Els fitxers s\u00f3n completament privats.</p> </li> <li> <p>Aquesta configuraci\u00f3 \u00e9s \u00fatil per garantir la seguretat en fitxers sensibles.</p> </li> </ul> <p>NOTA! La configuraci\u00f3 de la <code>umask</code> no s'aplicar\u00e0 si el directori on es creen els fitxers t\u00e9 permisos configurats amb ACLs. En aquest cas, els permisos dels fitxers i directoris nous heretaran les configuracions de l'ACL, independentment del valor de la <code>umask</code>.</p> <p></p>"},{"location":"aplicar/#que-es-sgid","title":"Qu\u00e8 \u00e9s SGID?","text":"<p>SGID (Set Group ID) \u00e9s un perm\u00eds especial en sistemes Unix/Linux que permet que un fitxer o directori hereti el grup propietari de l'arxiu o carpeta en lloc del grup de l'usuari que el va crear.</p>"},{"location":"aplicar/#funcionament-amb-fitxers","title":"Funcionament amb fitxers","text":"<p>Quan un programa amb SGID s'executa, funciona amb els permisos del grup propietari del fitxer. Aix\u00f2 \u00e9s \u00fatil per assegurar que els processos heretin permisos del grup correcte.</p>"},{"location":"aplicar/#configuracio-de-sgid-en-un-fitxer","title":"Configuraci\u00f3 de SGID en un fitxer:","text":"<p>chmod g+s fitxer</p>"},{"location":"aplicar/#funcionament-amb-directoris","title":"Funcionament amb directoris","text":"<p>Quan SGID est\u00e0 activat en un directori, qualsevol fitxer creat dins d'aquest heretar\u00e0 el grup propietari del directori en lloc del grup de l'usuari que el va crear. Aix\u00f2 facilita la col\u00b7laboraci\u00f3 en grups.</p>"},{"location":"aplicar/#configuracio-de-sgid-en-un-directori","title":"Configuraci\u00f3 de SGID en un directori:","text":"<p>chmod g+s directori</p>"},{"location":"aplicar/#notes","title":"Notes","text":"<ul> <li>L'\u00fas de SGID en directoris \u00e9s especialment \u00fatil per a projectes col\u00b7laboratius, on diversos usuaris necessiten compartir fitxers dins d'un mateix grup.</li> <li> <p>Per eliminar el perm\u00eds SGID d'un fitxer o directori:</p> </li> <li> <p>chmod g-s fitxer_o_directori</p> </li> </ul>"},{"location":"aplicar/#que-es-suid","title":"Qu\u00e8 \u00e9s SUID?","text":"<p>SUID (Set User ID) \u00e9s un perm\u00eds especial en sistemes Unix/Linux que permet que un programa s'executi amb els privilegis del propietari del fitxer, en lloc de l'usuari que l'executa. Aix\u00f2 \u00e9s \u00fatil per a certs programes que necessiten permisos elevats per funcionar correctament, com ara aquells que accedeixen a recursos restringits del sistema.</p>"},{"location":"aplicar/#exemple-dus-de-suid","title":"Exemple d'\u00fas de SUID","text":"<p>En aquest exemple, veurem com configurar SUID per a un programa escrit en C, permetent a un usuari sense privilegis accedir al directori <code>/root</code>.</p>"},{"location":"aplicar/#passos-a-seguir","title":"Passos a seguir","text":"<p>Posar-se com a <code>root</code></p> <p>Primer, assegura't d'executar tots els passos seg\u00fcents com a usuari <code>root</code>:</p> <pre><code>sudo su\n</code></pre> <p>Crear l'arxiu <code>script.c</code></p> <p>Crea un fitxer anomenat <code>script.c</code> i afegeix el seg\u00fcent codi:</p> <pre><code>#include &lt;stdio.h&gt;  \n#include &lt;dirent.h&gt;  \n\nint main() {  \n    struct dirent *entry;  \n    DIR *dp = opendir(\"/root\");  \n    if (dp == NULL) {  \n        perror(\"No s'ha pogut obrir /root\");  \n        return 1;  \n    }  \n    printf(\"Contingut de /root:\\n\");  \n    while ((entry = readdir(dp))) {  \n        printf(\"%s\\n\", entry-&gt;d_name);  \n    }  \n    closedir(dp);  \n    return 0;  \n}\n</code></pre> <p>Aquest codi intenta obrir el directori <code>/root</code> i llistar el seu contingut.</p> <p>Compilar el codi</p> <p>Compila el codi per generar un executable:</p> <pre><code>sudo gcc script.c -o script\n</code></pre> <p>Assignar permisos d'execuci\u00f3 i SUID</p> <p>Ara, dona permisos d'execuci\u00f3 al programa i configura SUID:</p> <pre><code>sudo chmod +x script  \nsudo chmod u+s script  \n</code></pre> <p></p> <p>Amb aquests permisos, qualsevol usuari que executi aquest programa tindr\u00e0 temporalment els privilegis de <code>root</code> per accedir al directori <code>/root</code>.</p> <p>Provar amb un usuari sense privilegis</p> <p>Connecta't amb un usuari que no formi part del grup de sudoers, per exemple, un usuari anomenat <code>user1</code>:</p> <p>su prova</p> <p>Executa l'script:</p> <pre><code>./script\n</code></pre> <p></p> <p>Si s'ha configurat correctament, l'usuari <code>user1</code> podr\u00e0 veure el contingut del directori <code>/root</code>:</p>"},{"location":"bootloaders/","title":"Gestors d'Arrencada i Sistemes d'Emmagatzematge","text":""},{"location":"bootloaders/#gestors-darrencada","title":"Gestors d'Arrencada","text":""},{"location":"bootloaders/#que-es-un-gestor-darrencada","title":"Qu\u00e8 \u00e9s un Gestor d'Arrencada?","text":"<p>Un gestor d'arrencada \u00e9s un programa que s'executa quan engeguem l'ordinador. S'encarrega de carregar el sistema operatiu que volem utilitzar. Aix\u00ed, si tenim m\u00e9s d'un sistema operatiu instal\u00b7lat, podem triar quin volem arrencar.</p> <p>Beneficis: - M\u00faltiples opcions: Ens permet escollir entre diferents sistemes operatius en un mateix ordinador. - Personalitzaci\u00f3: Podem configurar com volem que funcioni l'engegada. - Suport per a diferents sistemes: Alguns gestors poden treballar amb diversos tipus d'ordinadors.</p> <p>Inconvenients: - Complexitat: La configuraci\u00f3 pot ser dif\u00edcil per a qui no tingui experi\u00e8ncia. - Problemes d'engegada: Si hi ha errors en la configuraci\u00f3, pot ser que no pugui arrencar el sistema operatiu.</p>"},{"location":"bootloaders/#windows","title":"Windows","text":"<ul> <li>Gestor d'Arrencada de Windows</li> <li>Nom: <code>bootmgr</code></li> <li>Utilitzat en: Windows Vista, 7, 8, 10, 11.</li> <li>Funci\u00f3: Ajuda a arrencar el sistema operatiu, trobant i carregant el programa necessari.</li> </ul>"},{"location":"bootloaders/#linux","title":"Linux","text":"<ul> <li>GRUB (GRand Unified Bootloader)</li> <li>Versi\u00f3: GRUB 2 \u00e9s la versi\u00f3 m\u00e9s comuna ara mateix.</li> <li>Funci\u00f3: Permet escollir entre diferents sistemes operatius i facilita la seva arrencada.</li> <li> <p>Configuraci\u00f3: Funciona amb fitxers que contenen la informaci\u00f3 necess\u00e0ria.</p> </li> <li> <p>LILO (Linux Loader)</p> </li> <li>Antiga: \u00c9s un gestor m\u00e9s antic que ja s'utilitza poc.</li> <li>Funci\u00f3: Fa el mateix que GRUB, per\u00f2 amb menys opcions.</li> </ul>"},{"location":"bootloaders/#sistemes-demmagatzematge","title":"Sistemes d'Emmagatzematge","text":""},{"location":"bootloaders/#que-es-mbr","title":"Qu\u00e8 \u00e9s MBR?","text":"<p>El Master Boot Record (MBR) \u00e9s un format d'emmagatzematge antic que utilitzem en discos durs. Cont\u00e9 la informaci\u00f3 que ajuda a arrencar l'ordinador i a saber com est\u00e0 organitzat el disc.</p> <p>Beneficis: - Compatibilitat: Funciona amb molts sistemes operatius. - Simplicitat: \u00c9s f\u00e0cil d'entendre i configurar.</p> <p>Inconvenients: - Limitacions de mida: Nom\u00e9s permet discos d'un m\u00e0xim de 2 TB i 4 particions. - Sense c\u00f2pies de seguretat: Si falla, no t\u00e9 un sistema de recuperaci\u00f3.</p>"},{"location":"bootloaders/#que-es-gpt","title":"Qu\u00e8 \u00e9s GPT?","text":"<p>La GUID Partition Table (GPT) \u00e9s un format m\u00e9s modern que reempla\u00e7a MBR. S'utilitza en sistemes m\u00e9s nous que funcionen amb UEFI. GPT permet crear m\u00e9s particions i gestionar discs m\u00e9s grans.</p> <p>Beneficis: - Major capacitat: Permet crear particions de m\u00e9s de 2 TB i fins a 128 particions. - C\u00f2pies de seguretat: T\u00e9 mesures de seguretat per evitar p\u00e8rdues d'informaci\u00f3. - Identificaci\u00f3 clara: Utilitza identificadors \u00fanics per a cada partici\u00f3, millorant la seva gesti\u00f3.</p> <p>Inconvenients: - Compatibilitat limitada: No funciona amb sistemes antics que nom\u00e9s suporten MBR. - Complexitat: Pot ser m\u00e9s dif\u00edcil d'entendre per a usuaris menys experimentats.</p>"},{"location":"bootloaders/#comparativa-mbr-vs-gpt","title":"Comparativa MBR vs GPT","text":"Caracter\u00edstica MBR GPT Tipus de sistema BIOS UEFI M\u00e0xim de particions 4 prim\u00e0ries (extensibles) 128 particions Mida m\u00e0xima de partici\u00f3 2 TB M\u00e9s de 2 TB C\u00f2pies de seguretat No S\u00ed Compatibilitat amb sistemes antics Alta Limitada (requereix UEFI)"},{"location":"bootloaders/#conclusio","title":"Conclusi\u00f3","text":"<p>Els gestors d'arrencada i els sistemes d'emmagatzematge s\u00f3n molt importants per fer funcionar els sistemes operatius moderns. Windows utilitza el seu propi gestor, mentre que Linux sovint fa servir GRUB. MBR i GPT s\u00f3n dues maneres de gestionar l'emmagatzematge dels discs, cada una amb els seus avantatges i inconvenients segons les necessitats de l'usuari.</p>"},{"location":"client_ldap/","title":"Uni\u00f3 de Clients al Domini LDAP","text":"<p>Aquesta secci\u00f3 se centra en el proc\u00e9s per unir els clients al domini LDAP. Els passos s\u00f3n senzills.</p>"},{"location":"client_ldap/#installacio-dels-paquets-necessaris","title":"Instal\u00b7laci\u00f3 dels Paquets Necessaris","text":"<p>Primer, assegureu-vos d'actualitzar el sistema abans de procedir amb la instal\u00b7laci\u00f3:</p> <p>Actualitzeu la llista de paquets:</p> <ul> <li>Executeu un <code>apt update</code> per assegurar-vos que disposeu de la informaci\u00f3 m\u00e9s recent dels paquets.</li> </ul> <p>Instal\u00b7leu els paquets necessaris:</p> <ul> <li>Instal\u00b7leu els seg\u00fcents paquets: <code>libnss-ldap</code>, <code>libpam-ldap</code> i <code>nscd</code>.</li> </ul> <pre><code>sudo apt install libnss-ldap libpam-ldap nscd\n</code></pre> <p>Quan premeu la tecla ENTER durant el proc\u00e9s, apareixer\u00e0 una finestra de configuraci\u00f3. Si tanqueu aquesta finestra accidentalment o voleu reconfigurar el domini, no us preocupeu: podeu tornar a obrir-la.</p>"},{"location":"client_ldap/#reobrir-la-finestra-de-configuracio","title":"Reobrir la Finestra de Configuraci\u00f3","text":"<p>Per reobrir o reconfigurar la configuraci\u00f3 del domini, executeu la comanda seg\u00fcent:</p> <ul> <li>Utilitzeu <code>dpkg-reconfigure lpda-auth-config</code> per accedir de nou a la finestra de configuraci\u00f3.</li> </ul> <pre><code>dpkg-reconfigure lpda-auth-config\n</code></pre>"},{"location":"client_ldap/#configuracio-avancada-per-unir-clients-al-domini-ldap","title":"Configuraci\u00f3 Avan\u00e7ada per Unir Clients al Domini LDAP","text":"<p>A continuaci\u00f3, detallo els passos per completar la configuraci\u00f3 del client LDAP, amb explicacions clares i refer\u00e8ncies visuals per facilitar el proc\u00e9s.</p>"},{"location":"client_ldap/#configuracio-inicial-del-reconfigure","title":"Configuraci\u00f3 Inicial del Reconfigure","text":"<ol> <li> <p>Servidor LDAP:    Quan aparegui la primera finestra, assegureu-vos d'introduir l'adre\u00e7a del servidor en el format seg\u00fcent: <code>ldap://ip-of-the-server</code>. Nota: Si apareix <code>ldapi:///</code>, \u00e9s incorrecte. </p> </li> <li> <p>Versi\u00f3 de LDAP:    Seleccioneu la versi\u00f3 3 del protocol LDAP. </p> </li> <li> <p>Fer que el root local sigui administrador de la base de dades:    Seleccioneu S\u00ed en aquesta finestra. </p> </li> <li> <p>Requereix autenticaci\u00f3 la base de dades LDAP?    Trieu S\u00ed. </p> </li> <li> <p>Compte LDAP per al root:    Utilitzeu un usuari \"admin\" que ja hagueu creat. </p> </li> <li> <p>Contrasenya del compte root de LDAP:    Introdu\u00efu la contrasenya corresponent al compte d'administrador LDAP. </p> </li> <li> <p>Usuari sense privilegis per a la base de dades:    En aquest cas, s'ha afegit un altre \"usuari\", per\u00f2 en entorns reals caldria usar un altre nom. </p> </li> <li> <p>Contrasenya per accedir a la base de dades LDAP:    Introdu\u00efu la contrasenya que s'utilitzar\u00e0 per accedir-hi. </p> </li> <li> <p>Hash per defecte:    Deixeu el valor predeterminat com MD5. </p> </li> </ol>"},{"location":"client_ldap/#configuracio-addicional","title":"Configuraci\u00f3 Addicional","text":""},{"location":"client_ldap/#modificar-etcnsswitchconf","title":"Modificar <code>/etc/nsswitch.conf</code>","text":"<p>Afegiu les l\u00ednies seg\u00fcents al fitxer per integrar LDAP al sistema. Aquestes l\u00ednies asseguren que el sistema consulti l\u2019LDAP per a l\u2019autenticaci\u00f3 en lloc de buscar la informaci\u00f3 localment.</p> <p></p>"},{"location":"client_ldap/#afegir-configuracio-a-common-session","title":"Afegir Configuraci\u00f3 a <code>common-session</code>","text":"<p>Editeu el fitxer amb: <code>sudo nano /etc/pam.d/common-session</code> i afegiu aquesta l\u00ednia al final:</p> <pre><code>sudo nano /etc/pam.d/common-session\n</code></pre> <pre><code>session optional pam_mkhomedir.so skel=/etc/skel umask=022\n</code></pre> <p>Aquesta l\u00ednia crea autom\u00e0ticament el directori personal dels usuaris amb un umask de 022. </p>"},{"location":"client_ldap/#configuracio-opcional-de-lightdm","title":"Configuraci\u00f3 Opcional de LightDM","text":"<p>Pot ser que no sigui necessari, per\u00f2 si trobeu problemes per iniciar sessi\u00f3 amb un usuari, editeu el fitxer seg\u00fcent:</p> <pre><code>sudo nano /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf\n</code></pre> <p>Afegiu aquesta l\u00ednia al final: <code>greeter-show-manual-login=true</code> </p> <p>Nota: Amb Ubuntu 24.0, no \u00e9s necessari. Nom\u00e9s afegiu aquesta configuraci\u00f3 si no podeu iniciar sessi\u00f3.  </p> <p></p>"},{"location":"client_ldap/#comprovacio-de-la-configuracio-ldap","title":"Comprovaci\u00f3 de la Configuraci\u00f3 LDAP","text":"<p>Per verificar que el sistema pot autenticar-se correctament amb LDAP, seguirem els passos seg\u00fcents:</p> <p>Comprovar l'usuari amb la comanda <code>getent</code>: Per assegurar-vos que el sistema consulta correctament l\u2019LDAP, podeu utilitzar la comanda <code>sudo getent passwd</code>. Si apareix l'usuari que heu afegit, per exemple, <code>alu1</code>, vol dir que la configuraci\u00f3 \u00e9s correcta.  </p> <p></p> <p>Reiniciar la m\u00e0quina: Reinicieu la m\u00e0quina per garantir que tots els serveis estan completament operatius abans d'intentar iniciar sessi\u00f3.</p> <p>Iniciar sessi\u00f3 amb l'usuari LDAP: Proveu d'iniciar sessi\u00f3 utilitzant l'usuari <code>alu1</code> i la seva contrasenya definida a l'LDAP.</p> <p>Verificar la sessi\u00f3: Un cop h\u00e0giu iniciat sessi\u00f3, podeu comprovar si sou realment l'usuari <code>alu1</code> escrivint <code>whoami</code>. Si el resultat \u00e9s <code>alu1</code>, vol dir que l\u2019autenticaci\u00f3 ha estat un \u00e8xit.  </p> <p></p>"},{"location":"comandes/","title":"Comandes per a la gesti\u00f3 de paquets en sistemes Debian/Ubuntu","text":""},{"location":"comandes/#apt-get-o-apt","title":"apt-get o apt","text":"<p><code>apt</code> \u00e9s un front-end per a <code>dpkg</code> amb millores respecte a <code>apt-get</code>, facilitant la gesti\u00f3 de paquets i el manteniment del sistema.</p>"},{"location":"comandes/#comandes-basiques-dapt","title":"Comandes B\u00e0siques d'<code>apt</code>","text":"<ul> <li> <p><code>apt update</code>   Actualitza la llista de tots els paquets mirant el fitxer <code>/etc/apt/sources.list</code>.   Exemple: Despr\u00e9s d'executar <code>sudo apt update</code>, hauries de veure un missatge que indica que la llista de paquets s'ha actualitzat correctament, amb informaci\u00f3 sobre paquets que s'han actualitzat.</p> </li> <li> <p><code>apt upgrade</code>   Actualitza el sistema instal\u00b7lant noves versions de paquets existents, per\u00f2 no instal\u00b7la nous paquets.   Exemple: Si executeu <code>sudo apt upgrade</code>, es mostrar\u00e0 una llista de paquets que seran actualitzats, amb la quantitat d'espai que ocuparan.</p> </li> <li> <p><code>apt dist-upgrade</code>   Igual que l'anterior, per\u00f2 tamb\u00e9 instal\u00b7la nous paquets si cal, i pot eliminar paquets si \u00e9s necessari per resoldre depend\u00e8ncies.   Exemple: <code>sudo apt dist-upgrade</code> \u00e9s \u00fatil quan s'actualitzen les versions del nucli o altres components importants del sistema.</p> </li> <li> <p><code>apt install paquet</code>   Instal\u00b7la un paquet espec\u00edfic.   Exemple: <code>sudo apt install vim</code> instal\u00b7lar\u00e0 l'editor de text Vim.</p> </li> <li> <p><code>apt remove paquet</code>   Elimina un paquet instal\u00b7lat, per\u00f2 mant\u00e9 els fitxers de configuraci\u00f3.   Exemple: <code>sudo apt remove vim</code> eliminar\u00e0 Vim, per\u00f2 els fitxers de configuraci\u00f3 es mantindran.</p> </li> <li> <p><code>apt purge paquet</code>   Elimina un paquet juntament amb els seus fitxers de configuraci\u00f3.   Exemple: <code>sudo apt purge vim</code> eliminar\u00e0 Vim i tots els fitxers associats.</p> </li> <li> <p><code>apt autoremove</code>   Esborra els paquets que ja no s\u00f3n necessaris ni utilitzats pel sistema.</p> </li> <li> <p><code>apt clean</code>   Esborra els paquets descarregats que es troben en la mem\u00f2ria cau (<code>cache</code>).</p> </li> <li> <p><code>apt-cache depends paquet</code>   Mostra les depend\u00e8ncies d'un paquet determinat.</p> </li> <li> <p><code>apt-rdepends paquet</code>   Mostra les depend\u00e8ncies de les depend\u00e8ncies d'un paquet (en forma recursiva).</p> </li> <li> <p><code>apt -f install</code>   Corregeix instal\u00b7lacions a mitges i repara paquets trencats.</p> </li> <li> <p><code>apt-cache policy paquet</code>   Mostra les versions disponibles d'un paquet i el seu estat, incloent-hi informaci\u00f3 sobre el \"pinning\".</p> </li> <li> <p>Fitxers de configuraci\u00f3:   Es pot configurar la pol\u00edtica de \"pinning\" a trav\u00e9s del fitxer <code>/etc/apt/preferences.d/</code>.</p> </li> </ul>"},{"location":"comandes/#aptitude","title":"aptitude","text":"<p><code>aptitude</code> \u00e9s una altra eina per gestionar paquets que inclou una interf\u00edcie gr\u00e0fica i \u00e9s m\u00e9s sofisticada per gestionar depend\u00e8ncies.</p> <ul> <li> <p><code>aptitude remove paquet</code>   Elimina un paquet instal\u00b7lat, igual que <code>apt remove</code>.</p> </li> <li> <p><code>aptitude purge paquet</code>   Elimina un paquet i els seus fitxers de configuraci\u00f3, igual que <code>apt purge</code>.</p> </li> <li> <p><code>aptitude install paquet</code>   Instal\u00b7la un paquet espec\u00edfic.</p> </li> <li> <p><code>aptitude show paquet</code>   Mostra informaci\u00f3 detallada sobre un paquet, i si no est\u00e0 instal\u00b7lat, ho indica.</p> </li> </ul>"},{"location":"comandes/#dpkg","title":"dpkg","text":"<p><code>dpkg</code> \u00e9s l'eina b\u00e0sica per a la gesti\u00f3 de paquets en sistemes Debian, per\u00f2 \u00e9s m\u00e9s baixa a nivell que <code>apt</code> o <code>aptitude</code>.</p> <ul> <li> <p><code>dpkg -r paquet</code>   Elimina un paquet instal\u00b7lat, per\u00f2 conserva els fitxers de configuraci\u00f3.</p> </li> <li> <p><code>dpkg -P paquet</code>   Elimina un paquet i tamb\u00e9 els seus fitxers de configuraci\u00f3.</p> </li> <li> <p><code>dpkg -i arxiu.deb</code>   Instal\u00b7la un paquet des d'un fitxer <code>.deb</code> local.</p> </li> <li> <p><code>dpkg -s paquet</code>   Mostra informaci\u00f3 sobre un paquet instal\u00b7lat, incloent-hi la seva prioritat (e.g., <code>required</code>, <code>important</code>, <code>standard</code>, etc.).</p> </li> <li> <p><code>dpkg-reconfigure</code>   Reconfigura un paquet ja instal\u00b7lat.</p> </li> <li> <p><code>dpkg --get-selections | grep paquet</code>   Mostra l'estat d'un paquet; no el mostra si no est\u00e0 instal\u00b7lat.</p> </li> </ul>"},{"location":"comandes/#repositoris","title":"Repositoris","text":"<p>Els repositoris s\u00f3n col\u00b7leccions de paquets on el sistema obt\u00e9 el programari. Aquests es configuren en el fitxer <code>/etc/apt/sources.list</code>.</p> <ul> <li> <p>main   Programari suportat oficialment per la distribuci\u00f3.</p> </li> <li> <p>restricted   Programari suportat per\u00f2 amb llic\u00e8ncies no completament lliures.</p> </li> <li> <p>universe   Programari suportat per la comunitat.</p> </li> <li> <p>multiverse   Programari no lliure, per\u00f2 disponible en els repositoris.</p> </li> </ul>"},{"location":"comandes/#com-afegir-repositoris","title":"Com afegir repositoris","text":"<p>Aquest document explica com afegir nous repositoris al sistema APT en sistemes basats en Debian o Ubuntu.</p> <p>Editar el fitxer <code>sources.list</code></p> <p>El fitxer <code>/etc/apt/sources.list</code> \u00e9s on es defineixen els repositoris des d'on APT obt\u00e9 els paquets. Per afegir un nou repositori:</p> <p>Obre el fitxer amb un editor de text, amb privilegis d'administrador:</p> <pre><code>sudo nano /etc/apt/sources.list\n</code></pre> <p>Tamb\u00e9 pots crear un nou fitxer:</p> <pre><code>sudo nano /etc/apt/sources.list.d/google.list.\n</code></pre> <p>Afegeix aquesta l\u00ednia per afegir el repositori de Google Chrome:</p> <pre><code>deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main\n</code></pre> <p>Actualitza la base de dades de paquets per incloure el repositori afegit:</p> <pre><code>sudo apt update\n</code></pre> <p>Per instal\u00b7lar Google Chrome, utilitza la comanda seg\u00fcent:</p> <pre><code>sudo apt install google-chrome-stable\n</code></pre>"},{"location":"comandes/#afegir-la-clau-gpg-de-google","title":"Afegir la clau GPG de Google","text":"<p>Per verificar els paquets descarregats de Google, \u00e9s necessari afegir la clau p\u00fablica. Aix\u00f2 es pot fer amb:</p> <p>Afegir la clau p\u00fablica: </p> <pre><code>wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -\n</code></pre>"},{"location":"comandes/#afegir-el-repositori-de-google","title":"Afegir el repositori de Google","text":"<p>Abans d'instal\u00b7lar Google Chrome, necessitar\u00e0s afegir el repositori de Google a les fonts d'APT. Aix\u00f2 es pot fer amb:</p> <p>Afegir el repositori: </p> <pre><code>echo \"deb [arch=amd64] https://dl.google.com/linux/chrome/deb/ stable main\" | sudo tee /etc/apt/sources.list.d/google-chrome.list\n</code></pre> <p>Actualitzar la llista de paquets</p> <p>Un cop afegit el repositori, \u00e9s necessari actualitzar la llista de paquets. Aix\u00f2 es pot fer amb:</p> <p>Actualitzar la llista: </p> <pre><code>sudo apt update\n</code></pre> <p>Instal\u00b7lar Google Chrome</p> <p>Ara pots instal\u00b7lar Google Chrome amb la seg\u00fcent comanda:</p> <p>Instal\u00b7lar Google Chrome: </p> <pre><code>sudo apt install google-chrome-stable\n</code></pre> <p>Comprovar la instal\u00b7laci\u00f3</p> <p>Despr\u00e9s de la instal\u00b7laci\u00f3, pots iniciar Google Chrome cercant-lo al men\u00fa d'aplicacions o executant la seg\u00fcent comanda en el terminal:</p>"},{"location":"comandes/#compilar-a-traves-de-codi-font","title":"Compilar a trav\u00e9s de codi font","text":"<p>Abans de compilar un programa des del codi font, cal tenir un compilador instal\u00b7lat al sistema. Una opci\u00f3 comuna \u00e9s el paquet <code>build-essential</code>, que es pot instal\u00b7lar amb la seg\u00fcent comanda:</p> <pre><code>apt-get install build-essential\n</code></pre> <p>Instal\u00b7la el paquet <code>build-essential</code>, que cont\u00e9 eines necess\u00e0ries per compilar programari.</p>"},{"location":"comandes/#compilar-el-codi-font","title":"Compilar el codi font","text":"<p>Un cop dins de la carpeta, es poden executar les seg\u00fcents comandes per compilar el programa:</p> <ul> <li> <p>Configuraci\u00f3 del programa <code>./configure</code>   Prepara el sistema per a la compilaci\u00f3 del programa, verificant requisits i generant fitxers de configuraci\u00f3.</p> </li> <li> <p>Compilar el programa <code>make</code>   Inicia el proc\u00e9s de compilaci\u00f3 del codi font, generant executables o binaris.</p> </li> <li> <p>Instal\u00b7lar el programa <code>make install</code>   Instal\u00b7la el programa al sistema, copiant els fitxers necessaris als directoris apropiats.</p> </li> <li> <p>Desinstal\u00b7lar el programa <code>make uninstall</code>   Desinstal\u00b7la el programa, eliminant els fitxers instal\u00b7lats anteriorment.</p> </li> </ul>"},{"location":"comandes/#comandes-per-a-descomprimir-arxiusa","title":"Comandes per a descomprimir arxiusa","text":"<ul> <li> <p>Arxiu <code>.tar</code> <code>tar xvf archivo.tar</code>   Descomprimeix un arxiu amb extensi\u00f3 <code>.tar</code>. <code>x</code> indica que volem extreure, <code>v</code> mostra els noms dels arxius extrets, i <code>f</code> especifica el fitxer.</p> </li> <li> <p>Arxiu <code>.gz</code> <code>gunzip archivo.gz</code>   O b\u00e9 <code>gzip -d archivo.gz</code>   Descomprimeix un arxiu <code>.gz</code>. <code>gunzip</code> \u00e9s la manera espec\u00edfica de fer-ho, mentre que <code>gzip -d</code> \u00e9s una forma general per descomprimir.</p> </li> <li> <p>Arxiu <code>.tgz</code> o <code>.tar.gz</code> <code>tar xvzf archivo.tar.gz</code>   Descomprimeix arxius amb format <code>.tar.gz</code> o <code>.tgz</code>. <code>z</code> indica que el fitxer est\u00e0 comprimit amb gzip.</p> </li> <li> <p>Arxiu <code>.bz2</code> <code>bunzip2 archivo.bz2</code>   O b\u00e9 <code>bzip2 -d archivo.bz2</code>   Descomprimeix arxius <code>.bz2</code>. <code>bunzip2</code> \u00e9s un m\u00e8tode m\u00e9s directe, mentre que <code>bzip2 -d</code> \u00e9s una forma general.</p> </li> <li> <p>Arxiu <code>.tar.bz2</code> <code>tar xvjf archivo.tar.bz2</code>   Descomprimeix arxius amb extensi\u00f3 <code>.tar.bz2</code>. <code>j</code> indica que s'utilitza el m\u00e8tode de compressi\u00f3 bzip2.</p> </li> <li> <p>Arxiu <code>.zip</code> <code>unzip archivo.zip</code>   Descomprimeix fitxers en format <code>.zip</code>.</p> </li> <li> <p>Arxiu <code>.rar</code> <code>rar -x archivo.rar</code>   Descomprimeix arxius <code>.rar</code>. <code>-x</code> indica que volem extreure els fitxers.</p> </li> </ul>"},{"location":"comandes/#entrar-a-la-carpeta","title":"Entrar a la Carpeta","text":"<p>Un cop descomprimits els fitxers, \u00e9s necessari accedir a la carpeta creada. Aix\u00f2 es pot fer amb:</p> <p>Accedir a la carpeta: <code>cd nom_de_la_carpeta</code> Exemple: <code>cd projecte</code></p> <p>Sortir de la carpeta: <code>cd ..</code> Torna al directori pare. Exemple: Si est\u00e0s a <code>projecte</code>, <code>cd ..</code> et portar\u00e0 al directori anterior.</p> <p>Tornar al directori anterior: <code>cd --</code> Exemple: Si has canviat de <code>~/documents</code> a <code>~/documents/projecte</code>, <code>cd --</code> et portar\u00e0 de nou a <code>~/documents</code>.</p> <p>Notes: - <code>cd</code> \u00e9s sensible a maj\u00fascules i min\u00fascules. - Utilitza <code>cd ..</code> per navegar cap enrere en l'estructura de carpetes. - <code>cd --</code> \u00e9s \u00fatil per alternar entre dues carpetes sense recordar la ruta completa.</p> <p>Les comandes <code>cd nom_de_la_carpeta</code>, <code>cd ..</code> i <code>cd --</code> s\u00f3n essencials per navegar pel sistema de fitxers i accedir a les carpetes descompresses.</p>"},{"location":"copies_segur/","title":"C\u00f2pies de Seguretat","text":"<p>Qu\u00e8 \u00e9s una c\u00f2pia de seguretat?</p> <p>Una c\u00f2pia de seguretat \u00e9s una r\u00e8plica dels fitxers i dades importants emmagatzemades en un dispositiu o sistema. S'utilitza per prevenir la p\u00e8rdua d'informaci\u00f3 en cas d'errors, atacs, o danys en el sistema original. Normalment, es guarda en un lloc separat, com un disc extern, un servidor, o el n\u00favol, per garantir la seva seguretat.</p>"},{"location":"copies_segur/#tipus-de-copies-de-seguretat","title":"Tipus de C\u00f2pies de Seguretat","text":"<p>C\u00f2pies completes</p> Descripci\u00f3 Avantatges Desavantatges Una c\u00f2pia de totes les dades seleccionades. - Es copia i guarda tot.  - Independent d'altres c\u00f2pies per a la restauraci\u00f3. - Ocupa molt espai d'emmagatzematge.  - Tarda molt a realitzar-se. <p>Nota: Nom\u00e9s es necessita l'\u00faltima c\u00f2pia completa per recuperar les dades.</p> <p>C\u00f2pies diferencials</p> Descripci\u00f3 Avantatges Desavantatges Inclou els canvis des de l'\u00faltima c\u00f2pia completa. - Ocupa menys espai que una c\u00f2pia completa.  - M\u00e9s r\u00e0pida de crear que una c\u00f2pia completa. - Necessites l'\u00faltima c\u00f2pia completa i l'\u00faltima c\u00f2pia diferencial per restaurar les dades. <p>Nota: Acumula canvis fins que es realitza una nova c\u00f2pia completa.</p> <p>C\u00f2pies incrementals</p> Descripci\u00f3 Avantatges Desavantatges Inclou els canvis des de l'\u00faltima c\u00f2pia (completa o incremental). - Ocupa menys espai que una c\u00f2pia diferencial.  - La m\u00e9s r\u00e0pida de crear. - Necessites l'\u00faltima c\u00f2pia completa i totes les c\u00f2pies incrementals fins al punt de restauraci\u00f3. <p>Nota: Redueix espai i temps, per\u00f2 requereix m\u00e9s passos per a la recuperaci\u00f3.</p>"},{"location":"copies_segur/#recomanacions","title":"Recomanacions","text":"<ul> <li>Realitza c\u00f2pies completes peri\u00f2dicament (per exemple, setmanalment).</li> <li>Completa-les amb c\u00f2pies diferencials o incrementals di\u00e0ries per optimitzar l'espai i el temps.</li> <li>Assegura't de provar les c\u00f2pies de seguretat peri\u00f2dicament per garantir la seva integritat.</li> <li>Emmagatzema c\u00f2pies fora del lloc (off-site) per protegir-les contra desastres locals.</li> </ul>"},{"location":"copies_segur/#copies-de-seguretat-cp-rsync-i-dd","title":"C\u00f2pies de Seguretat: CP, rsync i DD","text":""},{"location":"copies_segur/#explicacio-i-taula-comparativa","title":"Explicaci\u00f3 i Taula Comparativa","text":"<p>Les comandes per a la gesti\u00f3 de c\u00f2pies de seguretat tenen usos espec\u00edfics segons les necessitats. A continuaci\u00f3, es presenta una explicaci\u00f3 i una taula comparativa dels principals comandaments:</p> Comanda Descripci\u00f3 Treball Local Treball Remot Intel\u00b7lig\u00e8ncia (nom\u00e9s modifica canvis) cp C\u00f2pia simple, no intel\u00b7ligent. Es limita a copiar fitxers o directoris sense optimitzaci\u00f3. S\u00ed No No rsync Permet copiar nom\u00e9s les modificacions de fitxers, optimitzant espai i temps. Suporta SSH per a c\u00f2pies remotes. S\u00ed S\u00ed S\u00ed dd Clonaci\u00f3 de discos o particions a nivell de blocs. No \u00e9s espec\u00edfic per a c\u00f2pies de seguretat de fitxers. S\u00ed No No"},{"location":"copies_segur/#cp","title":"cp","text":"<p>Descripci\u00f3: La comanda cp \u00e9s una eina simple per copiar fitxers i directoris. Limitaci\u00f3: No \u00e9s capa\u00e7 de recon\u00e8ixer canvis en els fitxers, per tant, sempre copia tot de nou.</p> <p>Exemple d'\u00fas: cp -r /origen /destinaci\u00f3  </p> <p>Par\u00e0metres comuns: - -r: Copia recursivament un directori i els seus continguts. - -u: Nom\u00e9s copia fitxers m\u00e9s nous o que no existeixen al dest\u00ed.  </p> <p>Crearem un directori i un fitxer per a fer aquesta prova.</p> <pre><code>touch /home/alumne/Documentos/hola\n</code></pre> <pre><code>mkdir /home/alumne/Documentos/adeu\n</code></pre> <p></p> <p>Posteriorment, utilitzarem la comanda cp per copiar els fitxers i directoris de /Documentos/ al nou directori.</p> <pre><code>cp -R /home/alumne/Documentos/* /var/copies/\n</code></pre> <p>Nota: El s\u00edmbol asterisc (*) despr\u00e9s de /Documentos/ indica que es copiar\u00e0 tot el que es trobi dins d'aquest directori.</p> <p></p> <p>Un punt important \u00e9s que hem copiat \u00fanicament els fitxers i subdirectoris que es trobaven al directori <code>/home/alumne/Documentos</code> en el moment de la c\u00f2pia:</p> <p></p> <pre><code>cp -R /home/alumne/Documentos/* /var/copies/\n</code></pre> <p>Aquesta comanda copia tot el que hi ha al directori <code>/home/alumne/Documentos</code> (fitxers i subdirectoris) al directori <code>/var/copies</code>. </p> <p>Un cop feta la c\u00f2pia, els fitxers copiat a <code>/var/copies</code> s\u00f3n independents. Aix\u00f2 significa que si posteriorment esborrem els fitxers o directoris de <code>/home/alumne/Documentos</code>, no afectaran la c\u00f2pia que hem fet a <code>/var/copies</code>.</p> <p>Aquesta operaci\u00f3 crea una c\u00f2pia segura dels fitxers en un altre directori i no es veu afectada pels canvis posteriors al directori original.</p>"},{"location":"copies_segur/#rsync","title":"rsync","text":"<p>Descripci\u00f3: rsync \u00e9s una eina avan\u00e7ada per a c\u00f2pies de seguretat que nom\u00e9s copia els canvis en els fitxers, reduint l'\u00fas de recursos. Avantatges: Permet c\u00f2pies locals i remotes via SSH. Pot mantenir sincronitzades dues ubicacions.</p> <p>Par\u00e0metres comuns: - -a: Mode arxiu (conserva permisos, propietaris, etc.). - -v: Mostra informaci\u00f3 detallada del proc\u00e9s. - -z: Comprimeix les dades durant la transfer\u00e8ncia per optimitzar la velocitat.  </p> <p>Exemple d'\u00fas: rsync -avz /origen user@host:/destinaci\u00f3  </p> <p></p> <pre><code>rsync -av --delete /home/alumne/Documentos/ /var/copies/\n</code></pre> <p>Aquesta comanda sincronitza el contingut del directori <code>/home/alumne/Documentos</code> amb <code>/var/copies</code>. L'opci\u00f3 <code>--delete</code> elimina qualsevol fitxer o directori a <code>/var/copies</code> que no estigui present a <code>/home/alumne/Documentos</code>. Aix\u00f2 significa que:</p> <ul> <li>Es copien els nous fitxers (<code>www</code> i <code>uwuw</code>).</li> <li>Esborra fitxers o directoris a <code>/var/copies</code> que ja no existeixen a <code>/home/alumne/Documentos</code> (com <code>hola</code> i <code>lost+found</code>).</li> </ul> <p>Llistem els continguts actuals del directori <code>/var/copies</code>, que ara cont\u00e9:</p> <ul> <li><code>tttt</code>: Fitxer pr\u00e8viament copiat.</li> <li><code>www</code>: Nou fitxer copiat.</li> <li><code>uwuw</code>: Nou directori copiat.</li> </ul> <p>Resum</p> <p>L'\u00fas de <code>rsync --delete</code> assegura que <code>/var/copies</code> sigui una c\u00f2pia exacta de <code>/home/alumne/Documentos</code>, eliminant qualsevol fitxer que no existeixi al directori original.</p>"},{"location":"copies_segur/#dd","title":"dd","text":"<p>Descripci\u00f3: dd no \u00e9s espec\u00edficament per a c\u00f2pies de seguretat, sin\u00f3 per a clonaci\u00f3 de discos i particions a nivell de blocs. Tamb\u00e9 es pot utilitzar per sobreescriure blocs o particions abans de formatar.</p> <p>Precaucions: - dd \u00e9s una eina potent per\u00f2 perillosa; un mal \u00fas pot provocar la p\u00e8rdua de dades. - Sempre assegura't d'especificar correctament els dispositius d'origen (if) i dest\u00ed (of).  </p> <p>Exemple d'\u00fas: Clonar un disc: dd if=/dev/sdX of=/dev/sdY bs=4M status=progress Sobreescriure una partici\u00f3 amb zeros: dd if=/dev/zero of=/dev/sdX bs=1M  </p> <p>En aquesta imatge es mostren dues operacions utilitzant les comandes <code>dd</code> i <code>md5sum</code> per copiar i verificar la integritat de les dades entre dues particions:</p> <p></p> <pre><code>dd if=/dev/sdb1 of=/dev/sdc1 bs=4M status=progress\n</code></pre> <p>Aquesta comanda copia el contingut de la partici\u00f3 <code>/dev/sdb1</code> a la partici\u00f3 <code>/dev/sdc1</code>. Els par\u00e0metres utilitzats s\u00f3n:</p> <ul> <li><code>if=/dev/sdb1</code>: Especifica la partici\u00f3 d'entrada (origen).</li> <li><code>of=/dev/sdc1</code>: Especifica la partici\u00f3 de sortida (dest\u00ed).</li> <li><code>bs=4M</code>: Defineix una mida de bloc de 4 MB per a una transfer\u00e8ncia m\u00e9s eficient.</li> <li><code>status=progress</code>: Mostra el progr\u00e9s de la c\u00f2pia en temps real.</li> </ul> <pre><code>md5sum /dev/sdb1 /dev/sdc1\n</code></pre> <p>Aquesta comanda calcula el hash MD5 de les particions <code>/dev/sdb1</code> i <code>/dev/sdc1</code> per verificar que les dades copiades s\u00f3n id\u00e8ntiques.</p> <p>Resultat:</p> <ul> <li>Els hash generats per totes dues particions s\u00f3n iguals (<code>1290d56dac7b80ca2eccc83bbf1ed605</code>), la qual cosa confirma que la c\u00f2pia s'ha realitzat correctament i sense errors.</li> </ul>"},{"location":"customize/","title":"Welcome to Customizing Your MkDocs","text":"<p>Feel free to copy, adapt, and make use of my code and discoveries to enhance your MkDocs project.</p>"},{"location":"customize/#customization-for-your-mkdocs","title":"Customization for Your MkDocs","text":"<p>Below is an example of a button that opens a modal popup displaying my YAML configuration code and instructions. This approach keeps the page organized while providing detailed code samples. Users can click the button to view the code and learn where and how to implement it.</p>"},{"location":"customize/#yaml-configuration-example","title":"YAML Configuration ExampleYAML Configuration","text":"<p>This YAML configuration defines the layout, theme, and features of your MkDocs site.</p> <p>Where to Implement: Place the following YAML configuration into your <code>mkdocs.yml</code> file, located in the root of your project, to achieve the same customizations.</p> <p>Showcase YAML Code</p> \u00d7 <p>Copy the following code into your <code>mkdocs.yml</code> file:</p> <pre><code>\nsite_name: Virtualitzaci\u00f3\ntheme:\n  logo: linux-ethandud.gif\n  name: material\n  custom_dir: docs/custom\n  features:\n    - navigation.tabs\n    - navigation.sections\n    - toc.integrate\n    - navigation.top\n    - search.suggest\n    - search.highlight\n    - content.tabs.link\n    - content.code.copy\n    - content.code.download\n    - footer.hide\n    - palette.toggle\n\n  palette: \n    - scheme: default\n      primary: light blue\n      accent: red\n      toggle:\n        icon: material/weather-sunny\n        name: Switch to dark mode\n\n    - scheme: slate\n      primary: teal\n      accent: amber\n      toggle:\n        icon: material/weather-night\n        name: Switch to light mode\n\nnav:\n  - Welcome: 'index.md'\n  - Per qu\u00e8 triar Linux?: 'objectius.md'\n  - Typeracer: 'Typeracer.html'\n  - Sprint 1:\n      - \"Instalaci\u00f3 Inicial Usuari Avan\u00e7at\": 'instalacio_inicial.md'\n      - \"Configuraci\u00f3 Inicial\": 'vbox.md'\n      - \"Configuraci\u00f3 de Xarxa\": 'netplan.md'\n      - \"Gestors D'arrancada\": 'bootloaders.md'\n      - \"Reparaci\u00f3 d'inici\": 'grub.md'\n      - \"Creaci\u00f3 d'una instant\u00e0nia del sistema\": 'timeshift.md'\n      - \"Comandes b\u00e0ssiques\": 'comandes.md'\n      - \"Fixaci\u00f3 de Paquets\": 'packet.md'\n\n  - Sprint 2:\n    - \"Fitxers Importants\": 'fitx_importants.md'\n    - \"Gesti\u00f3 d'Usuaris\": 'gestio_usuaris.md'\n    - \"Gesti\u00f3 de Processos\": 'gestproces.md'\n    - \"Permisos Especials i ACL\": 'permisos_especials.md'\n    - \"Aplicarci\u00f3 de Permisos Especial i ACL\": 'aplicar.md'\n    - \"Sistemes de Fitxers\": 'sistemes_fitxers.md'\n    - \"Gesti\u00f3 de Particions i Compartici\u00f3 de Recursos\": 'particions.md'\n    - \"C\u00f2pies de Seguretat i Automatitzacions de Tasques\": 'copies_segur.md'\n    - \"Quotes per a Usuaris i Grups\": 'quotes_disc.md'\n\n  - Lic\u00e8ncia: \n    - \"Llic\u00e8ncia d'us\": 'licencia.md'\n    - \"Tipus de Llic\u00e8ncies\": 'tipus-licencia.md'\n\n  - Customize your MKDOCS: 'customize.md'\n\nextra:\n  social:\n    - icon: fontawesome/brands/google\n      link: https://insebre.cat/\n    - icon: fontawesome/brands/facebook\n      link: https://www.facebook.com/pages/IES-de-lEbre/112464068780017/\n  generator: false\n\nextra_javascript:\n  - consent.js\n  - https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\n\nstatic_templates:\n  - 404.html\n\nextra_css:\n  - custom.css\n  </code></pre> <p>Additional Tips</p> <ul> <li>The button is defined with standard HTML inside a Markdown file. MkDocs Material allows this by default.</li> <li>You can duplicate the button and modal sections for different code snippets. Just ensure you use unique IDs for each pair of modal and overlay.</li> <li>Adjust colors, fonts, and layout as needed in the CSS below.</li> </ul>"},{"location":"customize/#custom-button-code-showcase-example","title":"Custom Button Code Showcase Example","text":"<p>In this section, we\u2019re demonstrating a meta-example: a button that reveals its own source code including the HTML, CSS, and JS needed to create it. Clicking the button below will open a popup showing exactly how to create a button-triggered modal popup within a Markdown page.</p>"},{"location":"customize/#the-button-and-its-code","title":"The Button and Its CodeSource Code for the Button, Modal, CSS, and JS","text":"<p>Click the button below to view the full source code (HTML, CSS, and JS).</p> <p>Show Button Source Code</p> \u00d7 <p>The code below shows how to place a button in Markdown that, when clicked, displays this popup modal. You can copy and modify it to suit your needs.</p> <pre><code>\n&lt;!-- The button to open the modal --&gt;\n&lt;button class=\"popup-button\" onclick=\"showPopup('popupButtonCode', 'overlayButtonCode')\"&gt;Show Button Source Code&lt;/button&gt;\n\n&lt;!-- Overlay and Modal --&gt;\n&lt;div class=\"overlay\" id=\"overlayButtonCode\" onclick=\"hidePopup('popupButtonCode', 'overlayButtonCode')\"&gt;&lt;/div&gt;\n&lt;div class=\"popup\" id=\"popupButtonCode\"&gt;\n  &lt;span class=\"close-btn\" onclick=\"hidePopup('popupButtonCode', 'overlayButtonCode')\"&gt;\u00d7&lt;/span&gt;\n  &lt;h3&gt;Source Code for the Button, Modal, CSS, and JS&lt;/h3&gt;\n  &lt;p&gt;The code below shows how to place a button in Markdown that, when clicked, displays this popup modal. You can copy and modify it to suit your needs.&lt;/p&gt;\n\n  &lt;pre&gt;&lt;code&gt;\n  &lt;!-- The button to open the modal --&gt;\n  &lt;button class=\"popup-button\" onclick=\"showPopup('popupButtonCode', 'overlayButtonCode')\"&gt;Show Button Source Code&lt;/button&gt;\n\n  &lt;!-- Overlay and Modal --&gt;\n  &lt;div class=\"overlay\" id=\"overlayButtonCode\" onclick=\"hidePopup('popupButtonCode', 'overlayButtonCode')\"&gt;&lt;/div&gt;\n  &lt;div class=\"popup\" id=\"popupButtonCode\"&gt;\n    &lt;span class=\"close-btn\" onclick=\"hidePopup('popupButtonCode', 'overlayButtonCode')\"&gt;\u00d7&lt;/span&gt;\n    &lt;h3&gt;Source Code for the Button, Modal, CSS, and JS&lt;/h3&gt;\n    &lt;p&gt;...Explanation text here...&lt;/p&gt;\n  &lt;/div&gt;\n\n  &lt;style&gt;\n    .popup-button {\n      background-color: #007bff;\n      color: white;\n      border: none;\n      padding: 10px 20px;\n      font-size: 16px;\n      cursor: pointer;\n      border-radius: 5px;\n      margin: 10px 0;\n    }\n\n    .popup-button:hover {\n      background-color: #0056b3;\n    }\n\n    .overlay {\n      display: none;\n      position: fixed;\n      top: 0; left: 0;\n      width: 100%; height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: 999;\n    }\n\n    .popup {\n      display: none;\n      position: fixed;\n      top: 50%; left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: #2c2c2c;\n      border: 1px solid #444444;\n      box-shadow: 0 0 10px rgba(0,0,0,0.6);\n      padding: 20px;\n      z-index: 1000;\n      width: 80%;\n      max-width: 900px;\n      max-height: 80%;\n      overflow-y: auto;\n      color: #fff;\n      border-radius: 5px;\n    }\n\n    .popup .close-btn {\n      float: right;\n      cursor: pointer;\n      font-size: 18px;\n      color: #bbb;\n      margin-left: 10px;\n    }\n\n    .popup .close-btn:hover {\n      color: #fff;\n    }\n\n    pre code {\n      background: #1e1e1e;\n      color: #cfcfcf;\n      padding: 10px;\n      display: block;\n      overflow-x: auto;\n      white-space: pre;\n      font-family: Consolas, monospace;\n    }\n  &lt;/style&gt;\n\n  &lt;script&gt;\n    function showPopup(popupId, overlayId) {\n      document.getElementById(popupId).style.display = 'block';\n      document.getElementById(overlayId).style.display = 'block';\n    }\n\n    function hidePopup(popupId, overlayId) {\n      document.getElementById(popupId).style.display = 'none';\n      document.getElementById(overlayId).style.display = 'none';\n    }\n  &lt;/script&gt;\n  &lt;/code&gt;&lt;/pre&gt;\n\n&lt;/div&gt;\n  </code></pre>"},{"location":"customize/#custom-cssjs-for-the-whole-site","title":"Custom CSS/JS For the Whole SITE","text":"<p>You can also introduce site-wide customizations by adding your own <code>custom.js</code> and <code>custom.css</code> files. These files can be referenced directly in your <code>mkdocs.yml</code> configuration, allowing you to apply global JavaScript and CSS changes across your entire MkDocs site.</p> <p>Note: Since MkDocs often uses styles from the Material or Bootstrap frameworks, you might occasionally need to use <code>!important</code> in your CSS rules to ensure your custom styles override the default theme.</p> <p>Example <code>mkdocs.yml</code> Configuration:</p> <p></p> <p>Your <code>custom.js</code> file can contain features such as Google Translate integration or other enhancements (not shown in the image):</p> <p></p> <p>Your <code>custom.css</code> file includes CSS rules that apply to the entire site, ensuring a consistent and unified look:</p> <p></p>"},{"location":"customize/#custom-html-pages-in-mkdocs","title":"Custom HTML Pages in MkDocs","text":"<p>You can integrate custom <code>.html</code> pages into your MkDocs project, allowing for highly tailored content beyond Markdown's capabilities. Below are two examples of custom HTML pages I\u2019ve created and embedded within MkDocs.</p>"},{"location":"customize/#example-1-custom-404-page","title":"Example 1: Custom 404 Page","text":"<p>This is a fully customized 404 page featuring a snake game, complete with a falling stars effect and a ripple animation. </p> <p>You can view the page directly here: Access 404.html</p> <p></p>"},{"location":"customize/#example-2-typeracer-game","title":"Example 2: Typeracer Game","text":"<p>This is a pure HTML/CSS/JS game where you race to type words correctly. Each correctly typed word disappears and increases your accuracy. The game includes penalties: - Wrong word: -5% HP. - Word reaches the red line: -10% HP.</p> <p>There are also custom surprises in the gameplay!  </p> <p>You can try it out here: Access Typeracer.html</p> <p></p>"},{"location":"customize/#css-showcase-example","title":"CSS Showcase ExampleCustom CSS Code","text":"<p>Click the button below to view the custom CSS code snippet in a modal popup.</p> <p>Show CSS Code</p> \u00d7 <p>Below is the CSS code snippet. You can copy and modify it as needed.</p> <pre><code>\n  .custom-footer {\n    position: fixed;\n    /* Fixed position */\n    left: 0;\n    /* Align to the left */\n    bottom: 0;\n    /* Align to the bottom */\n    width: 100%;\n    /* Full width */\n    padding: 2px;\n    /* Padding around the text */\n    background: linear-gradient(45deg, #3d0606, #3498db, #030303);\n    /* Gradient background */\n    text-align: left;\n    /* Left align the text */\n    z-index: 1000;\n    /* High z-index to stay on top */\n    font-size: 14px;\n    /* Smaller text size */\n    color: white;\n    animation: gradientAnimation 10s ease infinite;\n\n}\n\n@keyframes gradientAnimation {\n    0% {\n        background-position: 0% 50%;\n    }\n\n    50% {\n        background-position: 100% 50%;\n    }\n\n    100% {\n        background-position: 0% 50%;\n    }\n}\n\n/* Style the code blocks */\npre {\n    background-color: #2d3e50;\n    /* Dark background for code blocks */\n    color: #ecf0f1;\n    /* Light text for code blocks */\n    padding: 7px;\n    /* Padding */\n    border-radius: 5px;\n    /* Rounded corners */\n    border: 1px solid #34495e;\n    /* Optional border */\n    font-family: 'Courier New', monospace;\n    /* Monospace font */\n    line-height: 1.5;\n    /* Increase line height */\n    transition: background-color 0.3s;\n    /* Smooth transition */\n}\n\npre:hover {\n    background-color: #34495e;\n    /* Change background on hover */\n}\n\n.md-content {\n    text-align: justify;\n}\n\n/* Global image styling */\nimg {\n    width: 650px;\n    height: auto;\n    /* Maintain aspect ratio */\n    object-fit: cover;\n    /* Ensures the aspect ratio is maintained and the image fills the area */\n    transition: transform 0.3s ease, border 0.3s ease;\n    /* Smooth transition for transform and border */\n    border: 3px solid transparent;\n    /* Default border (transparent) */\n    border-radius: 3px;\n    /* Optional: rounded corners for the image */\n}\n\n/* Hover effect for all images except specific exceptions */\nimg:hover {\n    transform: scale(1.3);\n    /* Enlarges the image by 1.3x on hover */\n    border: 5px solid #3498db;\n    /* Adds a blue border on hover */\n    box-shadow: 0px 0px 15px rgba(52, 152, 219, 0.7);\n    /* Adds a glowing shadow effect */\n}\n\n/* Override styles for the footer image */\nimg.footer-img {\n    width: auto;\n    /* Use the natural size of the footer image */\n    height: auto;\n    /* Ensure natural height */\n    object-fit: unset;\n    /* Remove object-fit (no resizing or cropping) */\n    transition: none;\n    /* Disable any transitions on hover */\n    border: none;\n    /* Remove border for the footer image */\n}\n\n/* Optional: Add custom footer image styling */\nimg.footer-img {\n    margin-left: 5px;\n    /* Optional: keeps the same left margin */\n    vertical-align: middle;\n    /* Optional: ensures it stays vertically aligned with text */\n}\n\n\n/* Enlla\u00e7os amb subratllat animat */\na {\n    position: relative;\n    text-decoration: none;\n}\n\na::after {\n    content: \"\";\n    position: absolute;\n    left: 0;\n    bottom: -2px;\n    width: 100%;\n    height: 2px;\n    background-color: #3498db;\n    transform: scaleX(0);\n    transform-origin: bottom right;\n    transition: transform 0.25s ease-out;\n}\n\na:hover::after {\n    transform: scaleX(1);\n    transform-origin: bottom left;\n}\n\n/* Ensure the inner content does not overflow */\n.goog-te-gadget-simple {\n    width: 50% !important;\n    /* Fit the parent container */\n    max-width: 300px;\n    /* Set a maximum width */\n    height: auto !important;\n    /* Adjust height dynamically */\n    overflow: hidden;\n    /* Prevent content overflow */\n    text-align: center;\n    /* Center align text inside */\n    border-radius: 5px;\n    /* Optional: rounded corners */\n    padding: 5px;\n    /* Optional: internal padding */\n}\n\n/* Reduce the size of the language selection text and images */\n.goog-te-gadget-simple span,\n.goog-te-gadget-simple img {\n    max-height: 18px !important;\n    /* Reduce the height */\n    vertical-align: middle !important;\n    /* Align properly */\n}\n\nbody {\n    top: 0 !important;\n}\n\n#goog-gt-tt {\n    display: none !important;\n\n}\n\nbody&gt;.skiptranslate&gt;iframe.skiptranslate {\n    display: none !important;\n    visibility: hidden !important;\n}\n  </code></pre>"},{"location":"customize/#javascript-showcase-example","title":"JavaScript Showcase ExampleJavaScript Code Showcase","text":"<p>This example demonstrates a JavaScript script that retrieves and displays IP and location information using the <code>ipwhois.app</code> API. It also includes functionality to show a modal window with additional information when a button is clicked.</p> <p>Click the button below to view the full JavaScript code and an explanation of what it does.</p> <p></p> <p>NOTE: You need to call this JavaScript somewhere in your code. In this example, it is called inside a footer using a <code>&lt;div&gt;</code> element.</p> <p>Showcase JavaScript Code</p> \u00d7 <p>This script fetches the user's IP address, location, ISP, and local time from an external API and dynamically updates the page with this information. It also manages the visibility of a modal window triggered by the \"About Me\" button.</p> <pre><code>\n  &lt;script&gt;\n    window.addEventListener('load', function () {\n      fetch('https://ipwhois.app/json/')\n        .then(response =&gt; response.json())\n        .then(data =&gt; {\n          const ip = data.ip || 'Unknown IP';\n          const city = data.city || 'Unknown City';\n          const country = data.country || 'Unknown Country';\n          const isp = data.isp || 'Unknown ISP';\n          const now = new Date().toLocaleString();\n\n          // Update the user info div\n          const userInfo = document.getElementById('user-info');\n          userInfo.innerHTML = `\n            &lt;strong&gt;Location:&lt;/strong&gt; ${city}, ${country}&lt;br&gt;\n            &lt;strong&gt;Time:&lt;/strong&gt; ${now}&lt;br&gt;\n            &lt;strong&gt;ISP:&lt;/strong&gt; ${isp}&lt;br&gt;\n            And &lt;strong&gt;Your IP:&lt;/strong&gt; ${ip}&lt;br&gt;\n          `;\n        })\n        .catch(error =&gt; {\n          console.error('Error fetching IP/location data:', error);\n          const userInfo = document.getElementById('user-info');\n          userInfo.innerHTML = 'Failed to load your IP and ISP information.';\n        });\n    });\n\n    document.getElementById('about-me-button').addEventListener('click', function() {\n      document.getElementById('about-me-modal').style.display = 'block';\n      document.getElementById('modal-overlay').style.display = 'block';\n    });\n\n    document.getElementById('close-modal').addEventListener('click', function() {\n      document.getElementById('about-me-modal').style.display = 'none';\n      document.getElementById('modal-overlay').style.display = 'none';\n    });\n\n    document.getElementById('modal-overlay').addEventListener('click', function() {\n      document.getElementById('about-me-modal').style.display = 'none';\n      document.getElementById('modal-overlay').style.display = 'none';\n    });\n  &lt;/script&gt;\n  </code></pre>"},{"location":"fitx_importants/","title":"Fitxers Importants","text":""},{"location":"fitx_importants/#introduccio-als-fitxers-de-configuracio","title":"Introducci\u00f3 als fitxers de configuraci\u00f3","text":"<p>Els fitxers que explicarem a continuaci\u00f3 es poden visualitzar mitjan\u00e7ant la comanda <code>cat /etc/passwd</code>. A m\u00e9s, es poden editar, per\u00f2 no es recomana fer-ho d'aquesta manera.</p> <pre><code>sudo nano /etc/passwd\n</code></pre>"},{"location":"fitx_importants/#terminal-nativa","title":"Terminal nativa","text":"<p>El primer pas explica com accedir a la terminal nativa (TTY) utilitzant la combinaci\u00f3 de tecles <code>Control + Alt + F3</code>. Aix\u00f2 \u00e9s \u00fatil en situacions on l'entorn gr\u00e0fic no respon o necessites treballar des d'una consola directa.</p> <p></p> <p>Per tornar enrere pots fer-ho amb <code>Control + Alt + F1</code>.</p>"},{"location":"fitx_importants/#larxiu-etcpasswd","title":"L'arxiu <code>/etc/passwd</code>","text":"<p>Aquest fitxer cont\u00e9 la informaci\u00f3 b\u00e0sica sobre tots els usuaris del sistema, incloent-hi els noms d'usuari i els seus identificadors. Editar aquest fitxer pot ser necessari per gestionar usuaris o solucionar problemes de configuraci\u00f3.</p> <p></p> <p>Desglossament de <code>/etc/passwd</code></p> <ul> <li><code>alumnat</code>: Nom d'usuari, amb el qual l'usuari inicia sessi\u00f3.</li> <li><code>x</code>: Indica que la contrasenya encriptada es troba a <code>/etc/shadow</code>.</li> <li><code>1000</code>: Identificador d'usuari (UID), \u00fanic per a cada usuari normal.</li> <li><code>1000</code>: Identificador de grup (GID), que indica el grup principal de l'usuari.</li> <li><code>Vitaliy</code>: Nom complet o informaci\u00f3 addicional sobre l'usuari.</li> <li><code>/home/alumnat</code>: Directori home de l'usuari, on s'emmagatzemen fitxers personals.</li> <li><code>/bin/bash</code>: Shell predeterminat que s'utilitza quan l'usuari inicia sessi\u00f3.</li> </ul> <p>Aquesta l\u00ednia cont\u00e9 informaci\u00f3 essencial sobre l'usuari <code>alumnat</code> i el seu entorn al sistema Linux.</p>"},{"location":"fitx_importants/#larxiu-etcgroup","title":"L'arxiu <code>/etc/group</code>","text":"<p>Aquest arxiu gestiona els grups d'usuaris al sistema. \u00c9s \u00fatil per gestionar permisos i recursos compartits entre diversos usuaris.</p> <p></p> <p>Desglossament de <code>/etc/group</code></p> <ul> <li><code>alumnat</code>: Nom del grup. En aquest cas, indica el grup associat a l'usuari <code>alumnat</code>.</li> <li><code>x</code>: Indica que les contrasenyes de grup no es mostren o no s\u00f3n utilitzades, ja que normalment s'emmagatzemen en un altre fitxer.</li> <li><code>1000</code>: Identificador del grup (GID), que \u00e9s \u00fanic per a cada grup. En aquest cas, <code>1000</code> \u00e9s el GID del grup <code>alumnat</code>.</li> </ul> <p>Aquesta l\u00ednia cont\u00e9 informaci\u00f3 b\u00e0sica sobre el grup <code>alumnat</code>, que pot incloure altres usuaris i determinar permisos d'acc\u00e9s.</p>"},{"location":"fitx_importants/#larxiu-etcshadow","title":"L'arxiu <code>/etc/shadow</code>","text":"<p>Aqu\u00ed \u00e9s on es guarden les contrasenyes encriptades dels usuaris. El s\u00edmbol <code>!</code> indica que la contrasenya est\u00e0 bloquejada, mentre que <code>$</code> significa que la contrasenya est\u00e0 encriptada amb un algoritme fort com SHA-512. \u00c9s crucial no manipular malament aquest fitxer per evitar problemes d'acc\u00e9s.</p> <p></p> <p>Desglossament de <code>/etc/shadow</code></p> <ul> <li> <p>Nom d'usuari: <code>alumnat</code>   Nom del compte d'usuari al sistema.</p> </li> <li> <p>Hash de contrasenya: <code>$y$j9T$jKK1.vU6gMnulFm9HjYTY/$D1QlW2QSkS7ZLm.p4wYUP9Dq0li8720JcFN8QvrC.ID</code>   \u00c9s el valor generat a partir de la contrasenya de l'usuari, utilitzant un algorisme de hashing.</p> </li> <li> <p>ID d'usuari: <code>19992</code>   Identificador \u00fanic de l'usuari dins del sistema.</p> </li> <li> <p>ID de grup: <code>0</code>   Indica que l'usuari pertany al grup <code>root</code>, que t\u00e9 permisos d'administrador.</p> </li> <li> <p>Expiraci\u00f3 de contrasenya: <code>99999</code>   Indica que la contrasenya no t\u00e9 una data d'expiraci\u00f3 definida.</p> </li> <li> <p>Advert\u00e8ncia: <code>7</code>   Significa que s'advertir\u00e0 a l'usuari 7 dies abans de que la contrasenya expiri (tot i que no s'aplica en aquest cas).</p> </li> <li> <p>Altres camps:   Els camps finals s\u00f3n buits, que podrien contenir informaci\u00f3 addicional com l'\u00faltim canvi de contrasenya.</p> </li> </ul>"},{"location":"fitx_importants/#larxiu-etcgshadow","title":"L'arxiu <code>/etc/gshadow</code>","text":"<p>L'arxiu <code>gshadow</code> cont\u00e9 informaci\u00f3 sobre contrasenyes espec\u00edfiques de grups. \u00c9s menys com\u00fa d'editar per\u00f2 important quan cal gestionar l'acc\u00e9s a grups amb permisos espec\u00edfics.</p> <p></p> <p>Desglossament de <code>/etc/gshadow</code></p> <ul> <li> <p>Nom del grup: <code>alumnat</code>   Representa un grup d'usuaris dins del sistema, potencialment destinat a estudiants o usuaris relacionats amb el m\u00f3n acad\u00e8mic.</p> </li> <li> <p>Contrasenya: <code>!</code>   El s\u00edmbol <code>!</code> indica que no hi ha contrasenya associada amb aquest grup, per tant, no es requereix autenticaci\u00f3 per accedir a les seves funcionalitats.</p> </li> <li> <p>Membres del grup: (buit)   No hi ha membres assignats al grup \"alumnat\", cosa que significa que actualment no s'ha creat cap connexi\u00f3 amb usuaris.</p> </li> <li> <p>Administradors del grup: (buit)   No s'han especificat administradors per gestionar aquest grup, indicant que no hi ha un control assignat sobre la seva administraci\u00f3.</p> </li> </ul>"},{"location":"gestio_domini/","title":"Gestio del domini LDAP","text":"<p>\ud83d\udd17 Consulta m\u00e9s comandes LDAP aqu\u00ed</p> <p>En aquest apartat farem una breu explicaci\u00f3 i introducci\u00f3 a les comandes i com podem gestionar el nostre servidor LDAP: add, delete i modify.</p> <p>Ja tenim el nostre LDAP configurat com hem fet en l\u2019apartat anterior. Fem un slapcat per comprovar.</p> <p></p> <p>En el nostre cas, tinc dos fitxers: un per a modificar i l\u2019altre amb totes les dades.</p> <p></p> <p>La informaci\u00f3 que cont\u00e9 aquest fitxer \u00e9s tota la relacionada amb els usuaris.</p> <p></p>"},{"location":"gestio_domini/#ldapadd","title":"ldapadd","text":"<p>La comanda ldapadd serveix per afegir els fitxers al domini LDAP. Podem fer-ho utilitzant l'ordre seg\u00fcent per afegir un fitxer <code>.ldif</code> que contingui les dades necess\u00e0ries:</p> <pre><code>ldapadd -c -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f gestiodades.ldif\n</code></pre> <p></p>"},{"location":"gestio_domini/#afegir-un-nou-usuari","title":"Afegir un nou usuari","text":"<p>Per afegir un nou usuari, creem un fitxer amb extensi\u00f3 <code>.ldif</code> que contingui el seg\u00fcent codi:</p> <p></p> <p>Un cop preparat, executem la comanda <code>ldapadd</code> per afegir l'usuari al domini.</p> <p>Execuci\u00f3 de la comanda</p> <p>Utilitzem la seg\u00fcent comanda per afegir l\u2019usuari:</p> <pre><code>ldapadd -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f addnewuser.ldif\n</code></pre> <p>Podem veure que l'usuari s'ha afegit correctament:</p> <p></p> <p>Comprovaci\u00f3</p> <p>Finalment, realitzem una verificaci\u00f3 amb la comanda <code>ldapsearch</code> per assegurar-nos que l'usuari s'ha creat correctament:</p> <pre><code>ldapsearch -xLLL -b \"uid=vdomin,ou=People,dc=vitaliy,dc=com\"\n</code></pre> <p>Resultat de la comprovaci\u00f3:</p> <p></p>"},{"location":"gestio_domini/#ldapsearch","title":"ldapsearch","text":"<p>El comandament <code>ldapsearch</code> \u00e9s una eina molt \u00fatil per consultar informaci\u00f3 dins d\u2019un domini LDAP. Amb aquesta eina podem buscar entrades, comprovar atributs, filtrar resultats i molt m\u00e9s. A continuaci\u00f3, veurem algunes de les seves funcionalitats b\u00e0siques.</p>"},{"location":"gestio_domini/#comprovacio-de-les-dades-al-domini","title":"Comprovaci\u00f3 de les dades al domini","text":"<p>Ara que hem afegit el fitxer <code>.ldif</code>, comprovem que totes les dades estan correctament al domini. Aix\u00f2 es pot fer amb la comanda <code>ldapsearch</code>:</p> <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" dn | wc -l\n</code></pre> <p>Nota: Afegim <code>wc -l</code> per fer un recompte de l\u00ednies, ja que no volem que aparegui tot el text a la sortida.</p> <p></p>"},{"location":"gestio_domini/#comprovacio-de-les-unitats-organitzatives-uos","title":"Comprovaci\u00f3 de les Unitats Organitzatives (UOs)","text":"<p>Tamb\u00e9 podem fer una cerca per trobar totes les Unitats Organitzatives (UOs) del domini utilitzant la comanda seg\u00fcent:</p> <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" objectClass=organizationalUnit\n</code></pre> <p></p>"},{"location":"gestio_domini/#comprovacio-de-grups","title":"Comprovaci\u00f3 de Grups","text":"<p>Si volem saber quants grups hi ha dintre de la uo Groups, podem executar aquesta comanda.</p> <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"(ou=Groups)\" dn\n</code></pre> <p></p>"},{"location":"gestio_domini/#per-fer-una-cerca-mes-especifica","title":"Per fer una cerca m\u00e9s espec\u00edficaLlista de Comandes LDAPSEARCH","text":"<p>L\u2019usuari <code>kvaughan</code>, en quants grups el trobem com a <code>uniqueMember</code> i quins s\u00f3n?</p> <p>Per fer aix\u00f2, podem executar la seg\u00fcent comanda per llistar els grups on l\u2019usuari <code>kvaughan</code> \u00e9s membre \u00fanic:</p> <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"(uniqueMember=uid=kvaughan,ou=People,dc=vitaliy,dc=com)\" dn\n</code></pre> <p>Per comprovar quants grups hi ha en total, podem afegir el <code>wc -l</code> (word count list) per fer el recompte:</p> <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"(uniqueMember=uid=kvaughan,ou=People,dc=vitaliy,dc=com)\" dn | wc -l\n</code></pre> <p></p> <p>Cerca espec\u00edfica: Usuaris de <code>People</code> amb <code>uid</code> comen\u00e7ant per <code>k</code> i part de <code>Human Resources</code></p> <p>Cerca usuaris que compleixen aquestes condicions:</p> <ul> <li><code>uid</code> comen\u00e7a per <code>k</code>.</li> <li>Atribut <code>ou=Human Resources</code>.</li> </ul> <pre><code>ldapsearch -xLLL -b \"ou=People,dc=vitaliy,dc=com\" \"(&amp;(uid=k*)(ou=Human Resources))\" dn\n</code></pre> <p></p> <p>Mostrar Llista de Comandes LDAPSEARCH</p> \u00d7 <p>A continuaci\u00f3 tens un conjunt de comandes LDAPSEARCH per consultar diferents dades del domini. Pots copiar i enganxar-les segons les teves necessitats.</p> <ol> <li>     Buscar un usuari espec\u00edfic amb els seus atributs (DN, nom, cognom i correu electr\u00f2nic):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" uid=usuari dn cn sn mail</code></pre> </li> <li>     Buscar tots els grups d\u2019un domini (on l'objectClass \u00e9s `posixGroup`):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" objectClass=posixGroup</code></pre> </li> <li>     Buscar usuaris amb un domini de correu concret (exemple: usuaris amb correus @gmail.com):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" mail=*gmail.com</code></pre> </li> <li>     Buscar usuaris amb un uidNumber espec\u00edfic o en un rang:     Usuaris amb un uidNumber igual o superior a 1002:     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"uidNumber&gt;=1002\"</code></pre>     Usuaris amb un uidNumber entre 1010 i 1030 (inclosos):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"(&amp;(uidNumber&gt;=1010)(uidNumber&lt;=1030))\"</code></pre> </li> <li>     Buscar usuaris que compleixin una condici\u00f3 OR (per exemple, el nom comenci per \"M\" o tinguin un correu definit):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"(|(cn=M*)(mail=*))\"</code></pre> </li> <li>     Buscar usuaris que compleixin una condici\u00f3 AND (per exemple, el nom comenci per \"M\" i tinguin un correu definit):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" \"(&amp;(cn=M*)(mail=*))\"</code></pre> </li> <li>     Buscar usuaris amb un atribut espec\u00edfic (exemple: usuaris amb un n\u00famero de tel\u00e8fon):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" telephoneNumber=*</code></pre> </li> <li>     Buscar usuaris dins d'una UO concreta (per exemple, dins de \"People\"):     <pre><code>ldapsearch -xLLL -b \"ou=People,dc=vitaliy,dc=com\" objectClass=inetOrgPerson</code></pre> </li> <li>     Buscar usuaris on el tel\u00e8fon acabi en un n\u00famero espec\u00edfic (exemple: tel\u00e8fons que acaben en 2):     <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" telephoneNumber=*2</code></pre> </li> <li>     Buscar grups dins d'una UO espec\u00edfica (per exemple, dins de \"Groups\"):     <pre><code>ldapsearch -xLLL -b \"ou=Groups,dc=vitaliy,dc=com\" objectClass=posixGroup</code></pre> </li> </ol>"},{"location":"gestio_domini/#creacio-duna-nova-uo","title":"Creaci\u00f3 d'una nova UO","text":"<p>Per crear una nova Unitat Organitzativa (UO) anomenada \"asix\", necessitem preparar un fitxer <code>.ldif</code> amb la configuraci\u00f3 de la nova UO. Un exemple del contingut del fitxer seria el seg\u00fcent:</p> <pre><code>dn: ou=asix,dc=vitaliy,dc=com\nobjectClass: top\nobjectClass: organizationalUnit\nou: asix\n</code></pre> <p></p> <p>Despr\u00e9s, utilitzarem la comanda <code>ldapadd</code> per afegir la UO al domini:</p> <pre><code>ldapadd -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f asix.ldif\n</code></pre> <p></p> <p>Un cop completada l\u2019operaci\u00f3, la UO \"asix\" es crear\u00e0 dins del domini. Per verificar-ho, podem utilitzar la seg\u00fcent comanda:</p> <pre><code>ldapsearch -xLLL -b \"dc=vitaliy,dc=com\" objectClass=organizationalUnit uo\n</code></pre> <p></p> <p>Amb aix\u00f2, assegurem que la nova UO ha estat afegida correctament.</p>"},{"location":"gestio_domini/#ldapdelete","title":"ldapdelete","text":"<p>Hi ha dues maneres de fer esborrats en un domini LDAP: utilitzar la comanda <code>ldapdelete</code> o utilitzar un fitxer <code>.ldif</code> amb <code>ldapmodify</code>.</p>"},{"location":"gestio_domini/#esborrar-atributs-dun-usuari-amb-ldapmodify","title":"Esborrar atributs d\u2019un usuari amb <code>ldapmodify</code>","text":"<p>Per esborrar atributs d\u2019un usuari, primer necessitem crear un fitxer <code>.ldif</code> amb les modificacions que volem aplicar. En aquest cas, esborrarem l\u2019atribut <code>roomNumber</code> de l\u2019usuari <code>ejohnson</code>.</p> <p></p> <p>Despr\u00e9s, executem la comanda <code>ldapmodify</code> per aplicar els canvis:</p> <p><code>ldapmodify -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f modify.ldif</code></p> <p></p> <p>Finalment, fem un <code>ldapsearch</code> per comprovar que l\u2019atribut <code>roomNumber</code> s\u2019ha esborrat correctament:</p> <p><code>ldapsearch -xLLL -b \"uid=ejohnson,ou=People,dc=vitaliy,dc=com\"</code></p> <p></p>"},{"location":"gestio_domini/#esborrar-una-entrada-amb-ldapdelete","title":"Esborrar una entrada amb <code>ldapdelete</code>","text":"<p>Podem utilitzar la comanda <code>ldapdelete</code> per eliminar directament una entrada del domini. Per exemple, per esborrar una unitat organitzativa anomenada \"prova\":</p> <p><code>ldapdelete -x -D \"cn=admin,dc=vitaliy,dc=com\" -W \"ou=prova,dc=vitaliy,dc=com\"</code></p>"},{"location":"gestio_domini/#esborrar-una-entrada-amb-un-fitxer-ldif-i-ldapmodify","title":"Esborrar una entrada amb un fitxer <code>.ldif</code> i <code>ldapmodify</code>","text":"<p>Tamb\u00e9 podem crear un fitxer <code>.ldif</code> amb les instruccions d'esborrat. Exemple del contingut del fitxer <code>.ldif</code>:</p> <pre><code>dn: ou=prova,dc=vitaliy,dc=com \nchangetype: delete\n</code></pre> <p>Despr\u00e9s, executem la comanda seg\u00fcent per aplicar l'esborrat:</p> <p><code>ldapmodify -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f dades.ldif</code></p>"},{"location":"gestio_domini/#ldapmodify","title":"ldapmodify","text":"<p>Modificar dades de l'usuari ejohnson</p> <p>Anem a modificar algunes dades de <code>ejohnson</code>, concretament el n\u00famero de tel\u00e8fon i el correu electr\u00f2nic.</p> <p></p> <p>Executem la comanda del <code>ldapmodify</code> per aplicar els canvis i, posteriorment, fem un <code>ldapsearch</code> per verificar els canvis cercant \u00fanicament pel tel\u00e8fon i el correu electr\u00f2nic.</p> <p></p>"},{"location":"gestio_domini/#canviar-usuaris-de-grup-amb-ldapmodify","title":"Canviar usuaris de grup amb ldapmodifyCodi de Exemple","text":"<p>Anem a canviar 3 usuaris del seu grup principal i els anem a posar dins del grup de asix.</p> <p></p> <p>Crearem el fitxer de modificaci\u00f3 i posteriorment l'executarem.</p> <p></p> <p>Mostrar codi per moure usuaris</p> \u00d7 <p>Copia el seg\u00fcent codi i guarda\u2019l en un fitxer `.ldif` per aplicar els canvis:</p> <pre><code>\ndn: uid=ahel,ou=People,dc=vitaliy,dc=com\nchangetype: modrdn\nnewrdn: uid=ahel\ndeleteoldrdn: 1\nnewsuperior: ou=asix,dc=vitaliy,dc=com\n\ndn: uid=slee,ou=People,dc=vitaliy,dc=com\nchangetype: modrdn\nnewrdn: uid=slee\ndeleteoldrdn: 1\nnewsuperior: ou=asix,dc=vitaliy,dc=com\n\ndn: uid=ahall,ou=People,dc=vitaliy,dc=com\nchangetype: modrdn\nnewrdn: uid=ahall\ndeleteoldrdn: 1\nnewsuperior: ou=asix,dc=vitaliy,dc=com\n  </code></pre> <p>Executem la comanda per comprovar si realment s'han canviat d'OU:</p> <p><code>ldapsearch -xLLL -b \"ou=asix,dc=vitaliy,dc=com\"</code></p> <p></p>"},{"location":"gestio_domini/#modificar-diversos-parametres","title":"Modificar diversos par\u00e0metres","text":"<p>Tamb\u00e9 podem modificar diversos par\u00e0metres d'un mateix usuari. En aquest cas, realitzarem m\u00faltiples accions sobre l'usuari <code>vdomin</code>. Aix\u00f2 es pot fer mitjan\u00e7ant dos fitxers <code>.ldif</code> separats o executant dues vegades el fitxer <code>modify.ldif</code> amb informaci\u00f3 diferent.</p> <p>Les accions que realitzarem s\u00f3n les seg\u00fcents:</p> <ul> <li>Modificaci\u00f3: Canviarem el n\u00famero de tel\u00e8fon.</li> <li>Afegir: Afegeix un correu electr\u00f2nic inventat i la ciutat de resid\u00e8ncia.</li> <li>Moure: Canviarem la UO de <code>People</code> a <code>asix</code>.</li> </ul> <p>Fitxer per editar les dades</p> <p></p> <p>Resultat de moure l'usuari a la UO <code>asix</code></p> <p></p> <p>Execuci\u00f3 dels fitxers</p> <p>Executem els fitxers <code>.ldif</code> i comprovem que els canvis s'han aplicat correctament:</p> <p></p> <p></p> <p>Verificaci\u00f3 final</p> <p>Per assegurar-nos que l'usuari s'ha mogut correctament a <code>asix</code> i que els atributs s'han modificat, fem servir la comanda seg\u00fcent:</p> <pre><code>ldapsearch -xLLL -b \"uid=vdomin,ou=asix,dc=vitaliy,dc=com\"\n</code></pre> <p></p>"},{"location":"gestio_usuaris/","title":"Gesti\u00f3 d'Usuaris","text":""},{"location":"gestio_usuaris/#a-continuacio-es-detallen-diverses-comandes-per-gestionar-usuaris-en-un-sistema-linux","title":"A continuaci\u00f3, es detallen diverses comandes per gestionar usuaris en un sistema Linux.","text":""},{"location":"gestio_usuaris/#afegir-un-nou-usuari","title":"Afegir un nou usuari","text":"<p>Per afegir un nou usuari amb el nom \"david\", utilitzem la seg\u00fcent comanda:</p> <pre><code>sudo adduser david\n</code></pre> <p></p> <p>Ens demanar\u00e0 la contrasenya i m\u00e9s informaci\u00f3 sobre \"David\", com el nom complet i el tel\u00e8fon, entre d'altres.</p> <p>Inici de Sessi\u00f3</p> <p>Comprovem que l'usuari pot iniciar sessi\u00f3 correctament. Podem observar que \"David\" est\u00e0 creat i ens demana la contrasenya per accedir-hi.</p> <p></p> <p>Confirmaci\u00f3 d'Usuari</p> <p>La comanda <code>whoami</code> ens confirma que l'usuari \u00e9s \"David\" i que la seva carpeta d'usuari (<code>home</code>) est\u00e0 creada correctament.</p> <p></p>"},{"location":"gestio_usuaris/#eliminar-un-usuari-sense-eliminar-la-seva-carpeta-personal","title":"Eliminar un usuari sense eliminar la seva carpeta personal","text":"<p>Si volem eliminar un usuari anomenat \"David\" per\u00f2 mantenir la seva carpeta personal, podem utilitzar la comanda seg\u00fcent:</p> <pre><code>sudo deluser david\n</code></pre> <p>Nota: La carpeta <code>/home/david</code> no es perd.</p> <p></p>"},{"location":"gestio_usuaris/#comprovacio-de-la-carpeta-personal","title":"Comprovaci\u00f3 de la Carpeta Personal","text":"<p>Comprovem si \u00e9s veritat que la carpeta no s'ha esborrat per a l'usuari \"David\". Com es pot observar a la imatge, la carpeta existeix amb tots els documents. Aix\u00f2 pot ser \u00fatil si un usuari abandona l'empresa per\u00f2 despr\u00e9s torna, ja que seguir\u00e0 tenint acc\u00e9s a la seva informaci\u00f3.</p> <p></p>"},{"location":"gestio_usuaris/#eliminar-un-usuari-i-la-seva-carpeta-personal","title":"Eliminar un usuari i la seva carpeta personal","text":"<p>Per eliminar un usuari, incloent la seva carpeta personal i tots els seus fitxers, utilitzem:</p> <pre><code>sudo rm -rf /home/david\n</code></pre> <pre><code>sudo userdel -r miquel\n</code></pre> <p>Nota: La comanda <code>userdel -r</code> borra l'usuari <code>miquel</code> juntament amb el seu directori home.</p> <p></p> <p></p>"},{"location":"gestio_usuaris/#bloquejar-un-usuari","title":"Bloquejar un usuari","text":"<p>Per bloquejar l'acc\u00e9s d'un usuari anomenat \"david\", utilitzem:</p> <pre><code>sudo usermod -L david\n</code></pre> <p>Si la segona columna cont\u00e9 un ! al principi (ex. david:!:$y$j9T$eqz.gXACdgxhb6wt3h370...), significa que l'usuari \"david\" est\u00e0 bloquejat.</p> <p></p>"},{"location":"gestio_usuaris/#desbloquejar-un-usuari","title":"Desbloquejar un usuari","text":"<p>Si necessitem desbloquejar l'usuari \"david\", la comanda \u00e9s:</p> <pre><code>sudo usermod -U david\n</code></pre> <p>Com es pot observar la segona columna no cont\u00e9 el signe d'exclamaci\u00f3.</p> <p></p>"},{"location":"gestio_usuaris/#creacio-dun-usuari-sense-carpeta-personal","title":"Creaci\u00f3 d'un Usuari Sense Carpeta Personal","text":"<p>Quan es crea un usuari a Linux, \u00e9s possible que no es generi autom\u00e0ticament la seva carpeta personal. Aix\u00f2 passa si s'utilitza la comanda <code>useradd</code> sense opcions addicionals.</p> <p>Exemple de Creaci\u00f3</p> <p>Si es crea un usuari com \"miquel\" amb la comanda <code>useradd \"miquel\"</code>, no es crear\u00e0 la seva carpeta <code>/home/miquel</code>.</p> <p>Per m\u00e9s informaci\u00f3, pots consultar aquest enlla\u00e7.</p> <pre><code>sudo useradd miquel\n</code></pre> <p></p> <p>Motiu</p> <ul> <li>Sense carpeta home: La comanda <code>useradd</code> no crea un directori personal per a l'usuari per defecte. Per fer-ho, s'ha d'utilitzar l'opci\u00f3 <code>-m</code>.</li> </ul> <p>Creaci\u00f3 Manual de la Carpeta Personal</p> <p>Si l'usuari ja existeix i no t\u00e9 carpeta personal, es pot crear manualment. Despr\u00e9s, cal canviar el propietari de la carpeta perqu\u00e8 sigui de l'usuari.</p> <pre><code>sudo mkdir /home/miquel\n</code></pre> <p></p> <p>Fem que \"miquel\" sigui el propietari d'aquesta carpeta amb <code>chown</code></p> <pre><code>sudo chown miquel:miquel miquel\n</code></pre> <p></p> <p>Tamb\u00e9 es pot utilitzar la comanda <code>useradd -m</code>, que crea autom\u00e0ticament la carpeta <code>/home/</code> per al nou usuari. </p> <p>Nota: cal tenir en compte que <code>useradd -m</code> no crea una contrasenya per a l'usuari; aix\u00f2 s'ha de fer amb <code>sudo passwd miquel</code>.</p> <p></p> <p>Esborrem el usuari que hem creat</p> <p>Una comanda interessant \u00e9s <code>!history</code>, que mostra totes les comandes que has executat recentment. Si vols tornar a executar una comanda de la llista, pots escriure <code>!n</code>, on <code>n</code> \u00e9s el n\u00famero de la comanda en la llista. Aix\u00f2 permet executar la comanda sense haver de tornar a escriure-la.</p> <p></p> <p>Executem la comanda.</p> <p></p>"},{"location":"gestio_usuaris/#configuracio-per-defecte-dusuaris-en-linux","title":"Configuraci\u00f3 per defecte d'usuaris en Linux","text":"<p>Aquest document descriu els passos necessaris per configurar els par\u00e0metres per defecte dels nous usuaris en un sistema Linux, incloent la configuraci\u00f3 de contrasenyes i altres par\u00e0metres generals.</p>"},{"location":"gestio_usuaris/#configuracio-del-fitxer-etcdefaultuseradd","title":"Configuraci\u00f3 del fitxer <code>/etc/default/useradd</code>","text":"<p>El fitxer <code>/etc/default/useradd</code> permet definir els valors per defecte per als nous usuaris, com ara la ubicaci\u00f3 del directori home i l'int\u00e8rpret de comandes predeterminat.</p> <pre><code>sudo nano /etc/default/useradd\n</code></pre> <p>Passos de configuraci\u00f3</p> <ol> <li>Edita el fitxer <code>/etc/default/useradd</code></li> <li>Modifica o afegeix les seg\u00fcents l\u00ednies:</li> </ol> <pre><code>HOME=/home\nSHELL=/bin/sh\nINACTIVE=-1\nEXPIRE=\nSKEL=/etc/skel\nCREATE_MAIL_SPOOL=yes\n</code></pre> <p></p> <p>Aquestes opcions addicionals estableixen:</p> <ul> <li> <p>INACTIVE=-1: El compte no es desactivar\u00e0 mai per manca d'activitat.</p> </li> <li> <p>EXPIRE=: No hi ha data d'expiraci\u00f3 del compte.</p> </li> <li> <p>SKEL=/etc/skel: S'utilitzar\u00e0 el directori /etc/skel per copiar els fitxers per defecte al directori home del nou usuari.</p> </li> <li> <p>CREATE_MAIL_SPOOL=yes: Es crear\u00e0 un buz\u00f3 de correu per al nou usuari.</p> </li> <li> <p>HOME=/home: Estableix el directori home predeterminat per als nous usuaris a /home.</p> </li> <li> <p>SHELL=/bin/sh Especifica que el shell predeterminat per als nous usuaris ser\u00e0 /bin/sh (el shell Bourne).</p> </li> </ul> <ul> <li>Aquesta configuraci\u00f3 assegura que els nous usuaris tinguin el seu directori home a <code>/home/[nomusuari]</code> i utilitzin <code>/bin/sh</code> com a shell per defecte.</li> </ul> <p>Pol\u00edtica de contrasenyes a <code>/etc/login.defs</code></p> <p>El fitxer <code>/etc/login.defs</code> defineix les pol\u00edtiques de seguretat relacionades amb les contrasenyes.</p> <p>Configuraci\u00f3 de seguretat</p> <p>1: Edita el fitxer <code>/etc/login.defs</code></p> <pre><code>sudo nano /etc/login.defs\n</code></pre> <p>2: Configura els seg\u00fcents par\u00e0metres:</p> <pre><code>PASS_MIN_LEN 5\nPASS_MAX_DAYS 90\nPASS_WARN_AGE 7\nPASS_MIN_DAYS 0\n</code></pre> <p></p> <ul> <li> <p><code>PASS_MIN_LEN</code>: Longitud m\u00ednima de la contrasenya (5 car\u00e0cters)</p> </li> <li> <p><code>PASS_MAX_DAYS</code>: Dies m\u00e0xims abans que caduqui la contrasenya (90 dies)</p> </li> <li> <p><code>PASS_WARN_AGE</code>: Dies d'av\u00eds abans de la caducitat (7 dies)</p> </li> <li> <p><code>PASS_MIN_DAYS</code>: M\u00ednim de dies que un usuari ha de esperar abans de poder canviar la seva contrasenya (0 dies).</p> </li> </ul>"},{"location":"gestio_usuaris/#configuracio-del-directori-etcskel","title":"Configuraci\u00f3 del directori <code>/etc/skel</code>","text":"<p>El directori <code>/etc/skel</code> cont\u00e9 els fitxers i directoris que es copiaran autom\u00e0ticament al directori home dels nous usuaris.</p>"},{"location":"gestio_usuaris/#gestio-dels-fitxers-per-defecte","title":"Gesti\u00f3 dels fitxers per defecte","text":"<ol> <li>Examina el contingut actual:</li> </ol> <pre><code>ls -la /etc/skel\n</code></pre> <ol> <li>Personalitza els fitxers segons necessitis:<ul> <li><code>.bashrc</code></li> <li><code>.profile</code></li> <li><code>.bash_logout</code></li> </ul> </li> </ol> <p>Vegem breument qu\u00e8 fa cada un d'ells:</p> <p><code>.bash_logout</code></p> <p>Aquest fitxer s'executa autom\u00e0ticament quan l'usuari finalitza una sessi\u00f3 interactiva. \u00c9s \u00fatil per:</p> <ul> <li> <p>Netejar recursos o processos temporals.</p> </li> <li> <p>Mostar missatges de finalitzaci\u00f3 de sessi\u00f3.</p> </li> <li> <p>Executar scripts de manteniment personalitzats.</p> </li> </ul> <p>Exemple de personalitzaci\u00f3 del fitxer <code>.bash_logout</code></p> <p>Afegir una l\u00ednia per netejar l'historial de comandes i mostrar un missatge d'adeu:</p> <p>Comprovem el historial amb la comanda <code>!history</code></p> <p></p> <p>Per esborrar l'historial de comandes en tancar sessi\u00f3</p> <p>Afegim aquestes linies dins del axiu de <code>.bash_logout</code>.</p> <pre><code>sudo nano /etc/skel/.bash_logout\n</code></pre> <p></p> <pre><code>history -c  \n</code></pre> <p>La comanda <code>history -c</code> nom\u00e9s esborra l'historial de la sessi\u00f3 actual i no afecta l'arxiu persistent (<code>~/.bash_history</code>).</p> <p>Mostra un missatge d'adeu</p> <pre><code>echo \"Adeu! Ens veiem aviat. \ud83c\udf4c\" \n</code></pre> <p>Crearem un nou usuari i comprovarem l'historial d'aquest usuari.</p> <p></p> <p>Ens desconnectarem de l'usuari \"history\" i observarem que ens ha dit \"Adeu! Ens veiem aviat. \ud83c\udf4c\". Tamb\u00e9 s'hauria d'haver esborrat l'historial.</p> <p></p> <p>Es podria eliminar l'historial complet esborrant l'arxiu amb <code>rm -f ~/.bash_history</code> o \"sobreescrivint-lo\" amb <code>&gt; ~/.bash_history</code>.</p> <p><code>.bashrc</code>:</p> <ul> <li> <p>Aquest \u00e9s un dels fitxers de configuraci\u00f3 m\u00e9s importants per a l'usuari.</p> </li> <li> <p>S'executa cada vegada que l'usuari inicia una nova sessi\u00f3 de shell Bash.</p> </li> <li> <p>Cont\u00e9 definicions de variables d'entorn, aliases, funcions i altres configuracions personalitzades per a l'usuari.</p> </li> </ul> <p>Podem editar-ho i afegir algun \"alias\" m\u00e9s.</p> <pre><code>sudo nano /etc/skel/.bashrc\n</code></pre> <p></p> <p>Comprovaci\u00f3.</p> <p></p> <p><code>.profile</code></p> <p>Aquest fitxer s'executa durant l'inici de sessi\u00f3. \u00c9s \u00fatil per configurar variables d'entorn i altres ajustaments globals per a l'usuari. Exemples d'\u00fas inclouen:</p> <ul> <li> <p>Configuraci\u00f3 de variables d'entorn, com ara <code>PATH</code>.</p> </li> <li> <p>Personalitzaci\u00f3 del prompt o altres configuracions de shell.</p> </li> <li> <p>Execuci\u00f3 d'altres fitxers de configuraci\u00f3, com <code>.bashrc</code>, si est\u00e0 disponible.</p> </li> </ul> <p>Exemple de personalitzaci\u00f3 del fitxer <code>.profile</code></p> <p>Afegir un directori personalitzat al PATH</p> <p>Permet als usuaris tenir un directori dedicat als seus scripts i assegurar-se que aquests es poden executar des de qualsevol lloc sense especificar rutes completes.</p> <pre><code>if [ -d \"$HOME/scripts\" ]; then\n    PATH=\"$HOME/scripts:$PATH\"\nfi\n</code></pre> <p></p> <p>Posterior ment crearem el directori, el script i tamb\u00e9 donem permisos d'execusi\u00f3.</p> <pre><code>mkdir ~/scripts\n</code></pre> <pre><code>nano ~/scripts/hello.sh\n</code></pre> <p></p> <pre><code>sudo chmod +x ~/scripts/hello.sh\n</code></pre> <pre><code>source ~/.profile\n</code></pre> <p>Executem el script \u00fanicament escriu hello.sh</p> <p></p> <p>Nota</p> <ul> <li> <p>Aquesta configuraci\u00f3 detecta autom\u00e0ticament si el directori scripts existeix al directori home de l'usuari.</p> </li> <li> <p>Si el directori no existeix, la configuraci\u00f3 no afecta el PATH, assegurant que no es generen errors.</p> </li> <li> <p>\u00c9s ideal per sistemes on els usuaris necessiten executar scripts personalitzats amb freq\u00fc\u00e8ncia.</p> </li> <li> <p>Consell:     Qualsevol fitxer que afegeixis a <code>/etc/skel</code> es copiar\u00e0 autom\u00e0ticament al directori home dels nous usuaris.</p> </li> </ul>"},{"location":"gestio_usuaris/#creacio-dusuaris","title":"Creaci\u00f3 d'usuaris","text":""},{"location":"gestio_usuaris/#metode-amb-parametres-especifics","title":"M\u00e8tode amb par\u00e0metres espec\u00edfics","text":"<pre><code>sudo useradd Leia\n</code></pre> <p>Comprovaci\u00f3 de l'usuari</p> <pre><code>grep Leia /etc/passwd\n</code></pre> <p>Es pot observar que s'ha creat correctament i tamb\u00e9 se li ha creat la seva carpeta dins del /home/</p> <p></p> <p>Entrem amb el usuari i comprovem.</p> <p></p> <ul> <li>Important: Despr\u00e9s de crear un nou usuari, verifica sempre que pots iniciar sessi\u00f3 correctament abans de tancar la sessi\u00f3 d'administrador.</li> </ul>"},{"location":"gestio_usuaris/#comandes-addicionals-de-gestio-dusuaris-i-grups","title":"Comandes Addicionals de Gesti\u00f3 d'Usuaris i Grups","text":""},{"location":"gestio_usuaris/#assignacio-de-propietat-i-grup-dusuaris","title":"Assignaci\u00f3 de Propietat i Grup d'Usuaris","text":"<p>En un sistema Linux, que un usuari sigui el propietari d\u2019un fitxer \u00e9s important perqu\u00e8 el propietari t\u00e9 control sobre els permisos i pot decidir qui pot llegir, escriure o executar aquest fitxer. Aix\u00f2 \u00e9s essencial per a la seguretat, ja que garanteix que nom\u00e9s els usuaris autoritzats puguin modificar o accedir a informaci\u00f3 sensible.</p>"},{"location":"gestio_usuaris/#com-configurar-el-propietari-i-el-grup-dun-directori-o-fitxer","title":"Com configurar el propietari i el grup d'un directori o fitxer","text":"<p><code>chown</code>: Aquesta comanda permet assignar un usuari i un grup com a propietaris d'un fitxer o directori. Aix\u00f2 \u00e9s \u00fatil per establir qui t\u00e9 control sobre els permisos d'aquests fitxers o directoris.</p> <p>Exemple:</p> <ul> <li>Crearem un fitxer de demostraci\u00f3 i li assignarem el propietari <code>miquel</code> i el grup <code>miquel</code>.</li> </ul> <p></p> <p>Amb la comanda seg\u00fcent, assignem l'usuari i el grup <code>miquel</code> com a propietaris del fitxer <code>miquel</code>:</p> <pre><code>sudo chown miquel:miquel miqueltxt.txt\n</code></pre> <p></p> <p>Aquest canvi assegura que l'usuari miquel pugui gestionar els permisos del fitxer.</p> <p>Opci\u00f3 addicional: <code>chown -R miquel:miquel miquel</code> per canviar tamb\u00e9 els permisos de tots els subdirectoris i fitxers.</p> <p>Exemple:</p> <ul> <li>Crearem una carpeta anomenada miquel i dins d'aquesta crearem diversos fitxers. Es pot observar que el propietari \u00e9s root, ja que els hem creat com a usuari root. Per canviar aquests permisos, executarem la comanda seg\u00fcent.</li> </ul> <p></p> <pre><code>sudo chown -R miquel:miquel miquel\n</code></pre> <p></p> <p><code>chgrp</code>: Canvia nom\u00e9s el grup propietari:</p> <p><code>sudo chgrp Telegram miqueltxt.txt</code> \u2014 canvia el grup a <code>Telegram</code> sense alterar el propietari miquel.</p> <pre><code>sudo chgrp telegram miqueltxt.txt\n</code></pre> <p></p>"},{"location":"gestio_usuaris/#canviar-la-contrasenya-dun-usuari","title":"Canviar la Contrasenya d'un Usuari","text":"<p><code>passwd</code>: Estableix o canvia la contrasenya d'un usuari. Per exemple, <code>passwd miquel</code> per definir la contrasenya de <code>miquel</code>.</p> <pre><code>sudo passwd miquel\n</code></pre> <p></p> <p>Opci\u00f3 addicional: <code>passwd -e miquel</code> per for\u00e7ar que <code>miquel</code> canvi\u00ef la seva contrasenya al seg\u00fcent inici de sessi\u00f3.</p> <pre><code>sudo passwd -e miquel\n</code></pre> <p></p> <p>En Inciar la sessi\u00f3 ens demana el canvi de contrasenya.</p> <p></p>"},{"location":"gestio_usuaris/#assignar-una-shell-per-defecte","title":"Assignar una Shell per Defecte","text":"<p>Qu\u00e8 \u00e9s una Shell?</p> <p>En un sistema Linux, una shell \u00e9s una interf\u00edcie que permet als usuaris interactuar amb el sistema operatiu a trav\u00e9s de l\u00ednies de comanda. Actua com un \"int\u00e8rpret\" de comandes, processant i executant ordres que l'usuari escriu, com la creaci\u00f3 de fitxers, el seu despla\u00e7ament o l'execuci\u00f3 de programes.</p> <p>Quan un usuari inicia sessi\u00f3 al sistema, la shell \u00e9s l'entorn on treballa i des d'on pot executar les seves ordres. Les shells m\u00e9s comunes inclouen sh.</p> <p>Difer\u00e8ncia entre <code>/bin/bash</code> i <code>/bin/sh</code></p> <p><code>/bin/bash</code>: - Bash (Bourne Again SHell) \u00e9s una shell avan\u00e7ada, basada en la shell oriMiquell de Unix, sh. - Ofereix caracter\u00edstiques addicionals com hist\u00f2ric de comandes, completat de comandes, manipulaci\u00f3 d'arxius millorada, entre altres.</p> <p>\u00c9s la shell per defecte en moltes distribucions de Linux.</p> <p><code>/bin/sh</code>: - Sh (Bourne Shell) \u00e9s la shell oriMiquell de Unix, m\u00e9s simple i amb menys funcionalitats que Bash. - Sovint \u00e9s un enlla\u00e7 a una shell m\u00e9s lleugera com Dash en sistemes amb requisits m\u00ednims. - S'utilitza per garantir compatibilitat b\u00e0sica amb scripts.</p> <p>Exemple en <code>/etc/passwd</code></p> <ul> <li> <p><code>david:x:1001:1001:,,,:/home/david:/bin/bash</code></p> </li> <li> <p><code>miquel:x:1002:1002::/home/miquel:/bin/sh</code></p> </li> </ul> <p></p> <p><code>chsh -s</code>:  Aquest comandament permet establir la shell per defecte d'un usuari. Si ets l'usuari que vols modificar, pots utilitzar-lo sense necessitat de permisos d'administrador.</p> <pre><code>chsh -s /bin/bash miquel\n</code></pre> <p></p> <p>Tamb\u00e9 es podria executar amb <code>sudo chsh -s /bin/bash miquel</code> per canviar la shell d'un altre usuari si tens permisos d'administrador.</p> <pre><code>sudo chsh -s /bin/bash miquel\n</code></pre> <p></p> <p>Alternativa amb permisos d'administrador:</p> <p>Una alternativa per canviar la shell d'un altre usuari, com <code>miquel</code> o <code>david</code>, necessitar\u00e0s permisos d'administrador. En aquest cas, pots utilitzar el seg\u00fcent comandament:</p> <pre><code>sudo usermod --shell /bin/bash miquel\n</code></pre> <p></p> <p>Av\u00eds sobre el canvi de shell d'un usuari</p> <p>Canviar la shell d'un usuari pot tenir algunes implicacions:</p> <ul> <li> <p>Canvi en el comportament: El canvi a bash ofereix m\u00e9s funcionalitats, per\u00f2 si l'usuari estava acostumat a una shell m\u00e9s senzilla com sh, pot notar canvis en el seu comportament.</p> </li> <li> <p>Compatibilitat de scripts: Alguns scripts creats per sh podrien necessitar ajustos per funcionar amb bash, tot i que bash \u00e9s compatible amb sh en general.</p> </li> <li> <p>Reiniciar sessi\u00f3: L'usuari haur\u00e0 de tancar la sessi\u00f3 i iniciar-la novament perqu\u00e8 el canvi de shell tingui efecte.</p> </li> </ul>"},{"location":"gestio_usuaris/#gestio-de-grups-per-a-un-usuari","title":"Gesti\u00f3 de Grups per a un Usuari","text":""},{"location":"gestio_usuaris/#afegir-un-usuari-a-un-grup-existent","title":"Afegir un usuari a un grup existent","text":"<p><code>gpasswd -a</code>: Afegeix l'usuari a un grup secundari:</p> <ul> <li>Exemple: <code>gpasswd -a miquel Telegram</code> \u2014 afegeix <code>miquel</code> al grup <code>Telegram</code>.</li> </ul> <p></p> <p>Es pot observar que el grup principal que miquel no ha canviat si no que s'ha afegit a un altre grup.</p> <p>Alternativa: <code>usermod -a -G Telegram miquel</code> per aconseguir el mateix resultat.</p>"},{"location":"gestio_usuaris/#assignar-administracio-de-grup","title":"Assignar Administraci\u00f3 de Grup","text":"<p><code>gpasswd -A</code>: Designa un usuari com a administrador del grup:</p> <ul> <li><code>gpasswd -A miquel Telegram</code> \u2014 designa <code>miquel</code> com administradora del grup <code>Telegram</code>.</li> </ul> <p></p>"},{"location":"gestio_usuaris/#canviar-el-grup-principal-dun-usuari","title":"Canviar el Grup Principal d'un Usuari","text":"<p><code>usermod -g</code>: Defineix el grup principal d'un usuari:</p> <ul> <li>Exemple: <code>usermod -g Asix miquel</code> \u2014 defineix <code>Asix</code> com el grup principal per a <code>miquel</code>.</li> </ul> <p></p> <p>Aquesta sortida confirma que:</p> <ul> <li> <p>Grup primari: El grup primari de miquel \u00e9s Asix (gid=1004).</p> </li> <li> <p>Grups secundaris: miquel tamb\u00e9 \u00e9s membre del grup Telegram (gid=1003).</p> </li> </ul>"},{"location":"gestio_usuaris/#modificar-el-nom-dun-grup","title":"Modificar el Nom d'un Grup","text":"<p><code>groupmod -n</code>: Canvia el nom d'un grup existent:</p> <ul> <li><code>groupmod -n SMX Telegram</code> \u2014 canvia el nom de <code>Telegram</code> a <code>SMX</code>.</li> </ul> <p></p> <p>Espero que aquesta breu introducci\u00f3 sobre la gesti\u00f3 d'usuaris i grups hagi estat \u00fatil.</p> <p></p>"},{"location":"gestproces/","title":"Guia sobre Processos en Linux","text":""},{"location":"gestproces/#que-es-un-proces","title":"Qu\u00e8 \u00e9s un proc\u00e9s?","text":"<p>Un proc\u00e9s \u00e9s un programa en execuci\u00f3 que inclou:</p> <ul> <li> <p>El codi del programa.</p> </li> <li> <p>Els recursos assignats (mem\u00f2ria, fitxers oberts, etc.).</p> </li> <li> <p>La seva execuci\u00f3 en un o m\u00e9s fils (threads).</p> </li> </ul> <p>Els processos en Linux poden ser:</p> <ul> <li> <p>Processos en primer pla (foreground): S'executen interactuant amb l'usuari a la terminal.</p> </li> <li> <p>Processos en segon pla (background): Funcionen sense interferir directament amb l'usuari.</p> </li> </ul>"},{"location":"gestproces/#comanda-top","title":"Comanda <code>top</code>","text":"<p>La comanda <code>top</code> mostra en temps real una llista dels processos actius del sistema. Proporciona informaci\u00f3 com:</p> <ul> <li> <p>PID: Identificador \u00fanic del proc\u00e9s.</p> </li> <li> <p>USER: Usuari que ha iniciat el proc\u00e9s.</p> </li> <li> <p>%CPU: Percentatge d'\u00fas del processador.</p> </li> <li> <p>%MEM: Percentatge d'\u00fas de la mem\u00f2ria RAM.</p> </li> <li> <p>COMMAND: Nom de la comanda o programa.</p> </li> </ul>"},{"location":"gestproces/#parametres-utils","title":"Par\u00e0metres \u00fatils:","text":"<ul> <li>q: Sortir de la vista de <code>top</code>.</li> <li>k: Permet matar un proc\u00e9s especificant el seu PID.</li> </ul> <p>Exemple: Anem a matar el proc\u00e9s del Firefox, apretem la K i escrivim el PID del proc\u00e9s.</p> <p></p>"},{"location":"gestproces/#htop","title":"HTOP","text":"<p><code>htop</code> \u00e9s una eina interactiva per monitoritzar processos i recursos del sistema en temps real. Ofereix una interf\u00edcie gr\u00e0fica basada en text que resulta m\u00e9s intu\u00eftiva i f\u00e0cil d'usar en comparaci\u00f3 amb <code>top</code>. Tot i que no est\u00e0 instal\u00b7lada per defecte en la majoria de sistemes Linux, es pot instal\u00b7lar f\u00e0cilment.</p>"},{"location":"gestproces/#caracteristiques-principals-dhtop","title":"Caracter\u00edstiques principals d'<code>htop</code>","text":"<ul> <li>Interf\u00edcie intu\u00eftiva:</li> <li>Mostra els processos en un format visual clar i organitzat.</li> <li> <p>Utilitza colors per indicar l'\u00fas de recursos com CPU, mem\u00f2ria i swap.</p> </li> <li> <p>Controls interactius:</p> </li> <li>Permet navegar per la llista de processos amb les tecles de fletxa.</li> <li> <p>Pots matar, pausar o reprendre processos amb tecles directes sense necessitat de recordar els PID.</p> </li> <li> <p>Visualitzaci\u00f3 dels recursos del sistema:</p> </li> <li>Representa gr\u00e0ficament l'\u00fas de la CPU, mem\u00f2ria RAM i swap.</li> <li> <p>Mostra informaci\u00f3 clara sobre els cores individuals de la CPU.</p> </li> <li> <p>Filtratge i ordenaci\u00f3 f\u00e0cil:</p> </li> <li>Pots ordenar els processos per \u00fas de CPU, mem\u00f2ria, temps d'execuci\u00f3 o altres criteris amb tecles simples.</li> <li>Permet buscar processos pel seu nom.</li> </ul>"},{"location":"gestproces/#diferencies-i-millores-respecte-a-top","title":"Difer\u00e8ncies i millores respecte a <code>top</code>","text":"Caracter\u00edstica <code>htop</code> <code>top</code> Interf\u00edcie gr\u00e0fica Colorida, clara i interactiva. Simple i basada en text. Navegaci\u00f3 Tecles de fletxa per moure't per la llista. No permet navegaci\u00f3 interactiva. Gesti\u00f3 de processos Es poden matar, pausar o reprendre directament. Cal introduir el PID manualment. Visualitzaci\u00f3 dels recursos Gr\u00e0fics de CPU, mem\u00f2ria i swap per nucli. Informaci\u00f3 textual menys visual. Ordenaci\u00f3 i filtres Opcions d'ordenaci\u00f3 intu\u00eftives i cerca f\u00e0cil. Ordenaci\u00f3 manual i menys accessible. Configuraci\u00f3 Altament configurable des del men\u00fa. Configuraci\u00f3 limitada."},{"location":"gestproces/#per-que-htop-es-millor-per-a-molts-usuaris","title":"Per qu\u00e8 <code>htop</code> \u00e9s millor per a molts usuaris?","text":"<ol> <li>Facilitat d'\u00fas: L'interf\u00edcie intu\u00eftiva fa que sigui m\u00e9s c\u00f2mode treballar amb processos, especialment per a usuaris menys experimentats.</li> <li>Efici\u00e8ncia visual: Els gr\u00e0fics i els colors ajuden a interpretar r\u00e0pidament l'\u00fas de recursos.</li> <li>Gesti\u00f3 interactiva: Navegar i gestionar processos \u00e9s molt m\u00e9s r\u00e0pid i senzill.</li> </ol> <p>Si tens prefer\u00e8ncia per eines intu\u00eftives, <code>htop</code> \u00e9s una excel\u00b7lent alternativa a <code>top</code>.</p> <pre><code>sudo apt install htop\n</code></pre> <p></p>"},{"location":"gestproces/#comanda-pstree","title":"Comanda <code>pstree</code>","text":"<p><code>pstree</code> mostra els processos en forma d'arbre jer\u00e0rquic, visualitzant com els processos estan relacionats (pare-fill).</p> <p></p>"},{"location":"gestproces/#parametres-importants","title":"Par\u00e0metres importants:","text":"<ul> <li><code>-p</code>: Mostra els PIDs dels processos.</li> <li><code>-u</code>: Mostra els noms dels usuaris que han iniciat els processos.</li> <li><code>-a</code>: Mostra arguments complets de les comandes associades als processos.</li> <li><code>-h</code>: Ressalta el proc\u00e9s actual dins de l'arbre de processos.</li> <li><code>-l</code>: Evita truncar l\u00ednies llargues, mostrant tot l'arbre sense talls.</li> </ul>"},{"location":"gestproces/#comanda-ps-aux","title":"Comanda <code>ps aux</code>","text":"<p>La comanda <code>ps aux</code> mostra informaci\u00f3 sobre tots els processos actius del sistema, incloent-hi aquells que no estan associats amb un terminal.</p> <p></p>"},{"location":"gestproces/#sortida-de-ps-aux","title":"Sortida de <code>ps aux</code>","text":"<p>La sortida de <code>ps aux</code> mostra informaci\u00f3 clau sobre els processos en execuci\u00f3:</p> <ul> <li>USER: Usuari que ha iniciat el proc\u00e9s.</li> <li>PID: Identificador \u00fanic del proc\u00e9s.</li> <li>%CPU i %MEM: Percentatge de CPU i mem\u00f2ria RAM utilitzats pel proc\u00e9s.</li> <li>VSZ: Mem\u00f2ria virtual total utilitzada pel proc\u00e9s.</li> <li>RSS: Mem\u00f2ria f\u00edsica resident utilitzada pel proc\u00e9s.</li> <li>TTY: Terminal associat al proc\u00e9s (mostra <code>?</code> si no n'hi ha cap).</li> <li>STAT: Estat del proc\u00e9s:</li> </ul> S\u00edmbol Significat R Executant-se (Running). S Inactiu (esperant dades). T Pausat (Stopped). Z Proc\u00e9s zombi (Zombie). I Inactiu (Idle), sense consumir recursos. &lt; Alta prioritat de CPU (High-priority). s L\u00edder de sessi\u00f3 (session leader). l Multithread (utilitza diversos fils). + Associat al terminal en primer pla. <p>Aquestes columnes ajuden a monitoritzar i gestionar els processos del sistema.</p>"},{"location":"gestproces/#senyals-de-processos-en-linux","title":"Senyals de processos en Linux","text":"<p>Els senyals s\u00f3n eines que permeten interactuar amb processos en Linux per gestionar-los de diverses maneres, com tancar-los, pausar-los o reprendre'ls. A continuaci\u00f3, es presenta un resum dels senyals m\u00e9s utilitzats i els seus n\u00fameros associats.</p>"},{"location":"gestproces/#taula-de-senyals-i-accions","title":"Taula de senyals i accions","text":"Senyal N\u00famero Acci\u00f3 SIGTERM <code>15</code> Sol\u00b7licita que el proc\u00e9s s'acabi de manera ordenada. SIGKILL <code>9</code> For\u00e7a la terminaci\u00f3 immediata del proc\u00e9s. SIGSTOP <code>19</code> Pausa el proc\u00e9s sense matar-lo. SIGCONT <code>18</code> Repr\u00e8n un proc\u00e9s pausat. <p>Important!</p> <p>Els n\u00fameros associats als senyals s\u00f3n est\u00e0ndards en sistemes Linux, per\u00f2 poden variar lleugerament segons l'arquitectura o sistema operatiu.</p>"},{"location":"gestproces/#fer-stop-dun-proces","title":"Fer \"stop\" d'un proc\u00e9s","text":"<p>En aquest exemple, fem que el proc\u00e9s de Firefox entri en un estat \"dormint\" (pausat), on deixar\u00e0 d'executar-se temporalment i no respondr\u00e0.</p> <p>Identificar el proc\u00e9s</p> <p>Primerament, hem d'identificar el PID (Process ID) del proc\u00e9s de Firefox utilitzant una de les comandes seg\u00fcents:</p> <pre><code>kill -SIGSTOP &lt;PID&gt;\n</code></pre> <p></p> <p>Resultat:</p> <p>El proc\u00e9s entra en estat Stopped (pausat).</p> <p>Firefox deixar\u00e0 de respondred.</p> <p>Per tornar a aixecar el proc\u00e9s que hem pausat, utilitzem la seg\u00fcent comanda:</p> <pre><code>kill -SIGCONT &lt;PID&gt;\n</code></pre> <p></p> <p>Pausat (Tl): El proc\u00e9s principal de Firefox estava pausat abans de la comanda kill <code>-SIGCONT 5976.</code></p> <p>Reprenent (Sl): Despr\u00e9s de <code>kill -SIGCONT</code>, el proc\u00e9s principal de Firefox torna a estar en estat dormint (Sl), preparat per continuar el seu treball habitual.</p>"},{"location":"gestproces/#gestio-de-processos-amb-kill","title":"Gesti\u00f3 de processos amb <code>kill</code>","text":"<p>El comandament <code>kill</code> permet enviar senyals als processos per realitzar accions com finalitzar-los de manera ordenada, for\u00e7ar la seva terminaci\u00f3 o gestionar el seu estat (pausar-los o reprendre'ls).</p> <p>pkill (Finalitzar pel nom)</p> <p>Permet acabar processos especificant el nom del proc\u00e9s en lloc del PID. \u00c9s \u00fatil quan no es coneix el PID exacte.</p> <p>killall (Finalitzar tots els processos amb un nom)</p> <p>Tanca tots els processos que comparteixen un mateix nom, facilitant la gesti\u00f3 de processos m\u00faltiples.</p> <p>SIGKILL (For\u00e7ar terminaci\u00f3)</p> <p>Envia la senyal SIGKILL per acabar immediatament un proc\u00e9s. Aquesta acci\u00f3 no permet al proc\u00e9s netejar recursos abans de finalitzar. \u00c9s \u00fatil per a processos que no responen o estan bloquejats.</p> <p>Consideracions</p> <ul> <li> <p>Sempre \u00e9s recomanable comen\u00e7ar amb <code>SIGTERM (15)</code> per permetre un tancament ordenat, i nom\u00e9s utilitzar <code>SIGKILL (9)</code> si el proc\u00e9s no respon.</p> </li> <li> <p>Les senyals com <code>pkill</code> o <code>killall</code> s\u00f3n molt \u00fatils si no coneixes el PID del proc\u00e9s o si tens moltes pestanyes obertes.</p> </li> </ul> <p></p>"},{"location":"gestproces/#gestio-de-processos-ctrlc-i-ctrlz","title":"Gesti\u00f3 de processos: <code>Ctrl+C</code> i <code>Ctrl+Z</code>","text":"<p><code>Ctrl+C</code></p> <ul> <li> <p>Finalitza immediatament el proc\u00e9s en primer pla.</p> </li> <li> <p>\u00datil per aturar programes que no responen o que ja no necessites.</p> </li> <li> <p>El terminal queda lliure per acceptar noves ordres.</p> </li> </ul> <p><code>Ctrl+Z</code></p> <ul> <li> <p>Pausa el proc\u00e9s en primer pla i l'envia al segon pla amb estat \"Aturat\".</p> </li> <li> <p>El proc\u00e9s es pot reprendre m\u00e9s tard en primer o segon pla.</p> </li> <li> <p>Ideal per gestionar programes sense tancar-los completament.</p> </li> </ul>"},{"location":"gestproces/#exemple-practic-pausar-i-gestionar-un-proces","title":"Exemple pr\u00e0ctic: Pausar i gestionar un proc\u00e9s","text":"<p>Execuci\u00f3 d'un proc\u00e9s llarg: </p> <p>Quan un proc\u00e9s llarg s'executa, com ara <code>sleep 1000</code>, aquest bloqueja el terminal fins que finalitza.</p> <p></p> <p>Per comprovar l'estat del proc\u00e9s, podem utilitzar <code>ps aux | grep sleep</code>. Aix\u00f2 mostrar\u00e0 que el proc\u00e9s est\u00e0 \"Dormint\" (S), esperant el final del compte enrere.</p> <p></p> <p>Interrompre el proc\u00e9s amb <code>Ctrl+C</code>: </p> <ul> <li>Prement <code>Ctrl+C</code>, el proc\u00e9s es finalitza immediatament, alliberant el terminal per noves ordres.</li> </ul> <p>Pausar el proc\u00e9s amb <code>Ctrl+Z</code>: </p> <ul> <li>Prement <code>Ctrl+Z</code>, el proc\u00e9s es pausa i es col\u00b7loca en segon pla amb l'estat \"Aturat (T)\".</li> </ul> <p></p> <p>Verificar processos aturats: Consulta els processos amb eines com <code>jobs</code>.</p> <p></p>"},{"location":"gestproces/#beneficis-de-ctrlc-i-ctrlz","title":"Beneficis de <code>Ctrl+C</code> i <code>Ctrl+Z</code>","text":"<p>Flexibilitat en la gesti\u00f3 de processos: - <code>Ctrl+C</code> i <code>Ctrl+Z</code> s\u00f3n eines molt \u00fatils per gestionar programes en execuci\u00f3 al terminal. - Permeten controlar l'estat dels processos (pausar-los, reprendre'ls o finalitzar-los) sense necessitat de tancar el terminal.</p> <p>Casos pr\u00e0ctics:</p> <ul> <li> <p>Pausar desc\u00e0rregues llargues: Si est\u00e0s descarregant un fitxer amb <code>wget</code> o similar i necessites aturar moment\u00e0niament la desc\u00e0rrega, pots pausar-la amb <code>Ctrl+Z</code> i reprendre-la m\u00e9s tard amb <code>bg</code>.</p> </li> <li> <p>Interrompre processos llargs: Quan un proc\u00e9s, com <code>sleep</code> o una cerca massiva de fitxers, bloqueja el terminal, pots aturar-lo temporalment amb <code>Ctrl+Z</code> per realitzar altres tasques i reprendre'l quan sigui necessari.</p> </li> <li> <p>Proves de desenvolupament: Si est\u00e0s executant un programa en desenvolupament, pots pausar-lo per fer canvis r\u00e0pids al codi i reprendre'l sense haver de reiniciar tota l'execuci\u00f3.</p> </li> </ul> <p>Efic\u00e0cia i seguretat:</p> <ul> <li> <p>Eviten la necessitat de matar un proc\u00e9s completament, cosa que pot ser \u00fatil per preservar l'estat o continuar-lo m\u00e9s tard.</p> </li> <li> <p>Permeten gestionar processos interactius de manera no intrusiva, deixant el terminal disponible per altres ordres.</p> </li> </ul> <p>Conservaci\u00f3 de recursos:</p> <ul> <li>Els processos pausats amb <code>Ctrl+Z</code> no consumeixen recursos de CPU, cosa que \u00e9s \u00fatil en entorns amb c\u00e0rrega elevada.</li> </ul>"},{"location":"gestproces/#reprendre-els-processos-pausats","title":"Reprendre els processos pausats","text":"<p>Despr\u00e9s de pausar un proc\u00e9s amb <code>Ctrl+Z</code>, aquest es pot reprendre en primer pla o en segon pla. Aqu\u00ed t'explico com fer-ho:</p>"},{"location":"gestproces/#reprendre-un-proces-en-primer-pla","title":"Reprendre un proc\u00e9s en primer pla","text":"<ul> <li>Utilitza la comanda <code>fg</code> per reprendre el proc\u00e9s pausat i tornar-lo al primer pla.</li> <li>Exemples:</li> <li>Si nom\u00e9s tens un proc\u00e9s pausat, escriu:     <code>fg</code></li> <li>Si tens m\u00faltiples processos, especifica el n\u00famero del treball (job):     <code>fg %1</code></li> <li>Aix\u00f2 far\u00e0 que el proc\u00e9s torni a executar-se en el terminal actual, bloquejant-lo fins que el proc\u00e9s finalitzi o es torni a pausar.</li> </ul>"},{"location":"gestproces/#reprendre-un-proces-en-segon-pla","title":"Reprendre un proc\u00e9s en segon pla","text":"<ul> <li>Utilitza la comanda <code>bg</code> per reprendre el proc\u00e9s pausat i executar-lo en segon pla.</li> <li>Exemples:</li> <li>Si nom\u00e9s tens un proc\u00e9s pausat, escriu:     <code>bg</code></li> <li>Si tens m\u00faltiples processos, especifica el n\u00famero del treball (job):     <code>bg %1</code></li> <li>Aix\u00f2 far\u00e0 que el proc\u00e9s continu\u00ef executant-se en segon pla, deixant el terminal lliure per a noves ordres.</li> </ul>"},{"location":"gestproces/#com-saber-el-numero-del-treball-job","title":"Com saber el n\u00famero del treball (job)?","text":"<ul> <li>Utilitza la comanda <code>jobs</code> per llistar els processos pausats o en segon pla.  </li> <li>Exemple de sortida:     <code>[1]+  Aturat                  sleep 1000</code></li> <li>Els n\u00fameros dels treballs s\u00f3n els valors entre <code>[]</code>, com ara <code>1</code> o <code>2</code>.</li> </ul>"},{"location":"gestproces/#processos-zombies-i-orfes","title":"Processos zombies i orfes","text":""},{"location":"gestproces/#que-son-els-processos-zombies","title":"Qu\u00e8 s\u00f3n els processos zombies?","text":"<p>Un proc\u00e9s zombi \u00e9s un proc\u00e9s que ja ha finalitzat la seva execuci\u00f3, per\u00f2 que encara conserva una entrada a la taula de processos. Aix\u00f2 passa perqu\u00e8 el seu proc\u00e9s pare no ha recollit el seu codi de sortida. Els processos zombies no consumeixen recursos de CPU o mem\u00f2ria, per\u00f2 poden ocupar espai a la taula de processos del sistema, limitant el nombre m\u00e0xim de processos que es poden executar.</p>"},{"location":"gestproces/#identificar-processos-zombies","title":"Identificar processos zombies","text":"<p>Per trobar processos zombies, pots utilitzar la comanda <code>ps</code> amb l'opci\u00f3 <code>STAT</code> per veure l'estat del proc\u00e9s:</p> <pre><code>ps aux | grep Z\n</code></pre> <p></p> <p>An\u00e0lisi de la sortida de <code>ps aux | grep z</code></p> <p>La comanda <code>ps aux | grep z</code> s'utilitza per buscar processos que continguin la lletra \"z\" en el seu nom o estat. En aquest cas, analitzem la sortida obtinguda:</p> <p>Sortida</p> Usuari PID %CPU %MEM VSZ RSS TTY Estat Comanda alumne 3092 0.0 0.2 1425428 27468 ? S&lt;sl /usr/bin/pulseaudio --daemonize=no --log-target=journal alumne 3112 0.0 0.0 243684 7708 ? Sl /usr/bin/gnome-keyring-daemon --daemonize --login alumne 4379 0.0 0.0 11648 2560 pts/0 S+ grep --color=auto z"},{"location":"gestproces/#com-matar-aquests-processos","title":"Com matar aquests processos","text":"<p>Si algun d'aquests processos es torna problem\u00e0tic o consumeix massa recursos, pots utilitzar la comanda <code>kill</code> per finalitzar-lo.</p> <p>Identifica el PID del proc\u00e9s:</p> <ul> <li> <p>A la taula anterior, el PID de cada proc\u00e9s es troba a la segona columna. Per exemple:</p> </li> <li> <p><code>3092</code> per a <code>pulseaudio</code>.</p> </li> <li> <p><code>3112</code> per a <code>gnome-keyring-daemon</code>.</p> </li> </ul> <p>Advert\u00e8ncia: Els processos com <code>pulseaudio</code> i <code>gnome-keyring-daemon</code> s\u00f3n essencials per al sistema i el seu funcionament. Matar aquests processos pot causar problemes de so o de gesti\u00f3 de claus fins que es reinici\u00efn autom\u00e0ticament.</p>"},{"location":"gestproces/#exemple-creacio-dun-proces-zombi","title":"Exemple: Creaci\u00f3 d\u2019un proc\u00e9s zombi","text":"<p>En aquesta demostraci\u00f3, hem utilitzat un script en llenguatge C per crear un proc\u00e9s zombi de manera controlada.</p> <p></p> <p>Utilitza la comanda <code>kill</code>:</p> <ul> <li> <p>Per enviar un senyal de terminaci\u00f3 ordenada (SIGTERM): <code>kill &lt;PID&gt;</code></p> </li> <li> <p>Per for\u00e7ar la terminaci\u00f3 immediata (SIGKILL):<code>kill -9 &lt;PID&gt;</code></p> </li> </ul> <p></p> <ul> <li>Utilitza la comanda <code>ps aux | grep &lt;nom_del_proc\u00e9s&gt;</code> per comprovar que ja no est\u00e0 actiu.</li> </ul>"},{"location":"grub/","title":"Simulaci\u00f3 d'un problema d'inici a Linux","text":"<p>Imagina que un dia inicies el teu sistema Linux i no funciona correctament. Una de les possibles causes pot ser un problema amb el gestor d'arrencada.</p>"},{"location":"grub/#supergrub","title":"SuperGrub","text":"<p>Esborrem la carpeta <code>/grub/</code> dins de <code>/boot</code> Per simular aquest problema, eliminem la carpeta <code>/grub/</code> utilitzant la seg\u00fcent comanda:</p> <pre><code>sudo rm -rf /boot/grub/\n</code></pre> <p></p> <p>Preparaci\u00f3 de la imatge ISO de GRUB</p> <p>Descarrega la imatge <code>.iso</code> del SuperGrub i carrega-la a VirtualBox. Tamb\u00e9 pots utilitzar eines com Ventoy o Rufus per instal\u00b7lar-la en un USB.</p> <p></p> <p>Arrenquem la m\u00e0quina virtual</p> <p>Iniciem la nostra m\u00e0quina virtual i seleccionem l'opci\u00f3 \"Detect and show boot methods\" per detectar els sistemes d'arrencada disponibles.</p> <p></p> <p>Seleccionem el sistema operatiu Despr\u00e9s, escollim el sistema operatiu adequat, que en aquest cas \u00e9s Linux.</p> <p></p> <p>En seleccionar-lo, Ubuntu es carregar\u00e0 correctament i podrem iniciar la sessi\u00f3.</p> <p></p> <p>Restauraci\u00f3 del gestor d'arrencada Obrim un terminal i executem les seg\u00fcents comandes per restaurar el gestor d'arrencada:</p> <pre><code>sudo grub-install /dev/sda\n</code></pre> <pre><code>sudo update-grub2\n</code></pre> <p></p> <p>Apaguem la m\u00e0quina, retirem la ISO o el USB, i ara ja podem iniciar el nostre PC de manera normal.</p>"},{"location":"grub/#boot-repair","title":"Boot Repair","text":"<p>La segona manera de fer-ho \u00e9s amb el Boot Repair. M\u00e9s informaci\u00f3 aqu\u00ed. Incertem la ISO dins del VirtualBox o dins d'un pen USB.</p> <p></p> <p>Al iniciar la nostra m\u00e0quina, ens mostra aquesta pantalla. Seleccionem la primera opci\u00f3.</p> <p></p> <p>Seleccionem la primera opci\u00f3 en aquesta pantalla.</p> <p></p> <p>El programa, en acabar, ens mostrar\u00e0 aquesta pantalla que ens diu que ha reparat els errors que ten\u00edem. Fem un reboot i en teoria tot ha de funcionar.</p> <p></p>"},{"location":"instalacio_inicial/","title":"Instal\u00b7laci\u00f3 d'Ubuntu","text":"<p>Guia per a usuaris avan\u00e7ats</p>"},{"location":"instalacio_inicial/#preparacio-de-lentorn","title":"Preparaci\u00f3 de l'entorn","text":""},{"location":"instalacio_inicial/#crear-una-maquina-virtual","title":"Crear una m\u00e0quina virtual","text":"<p>Utilitza VirtualBox, VMware o un altre programari de virtualitzaci\u00f3 per crear una m\u00e0quina virtual. Ajusta els recursos (CPU, RAM, disc dur) segons les necessitats d'Ubuntu i les teves prefer\u00e8ncies.</p>"},{"location":"instalacio_inicial/#descarregar-la-imatge-iso","title":"Descarregar la imatge ISO","text":"<p>Obt\u00e9 la imatge ISO de la versi\u00f3 m\u00e9s recent d'Ubuntu des del lloc web oficial.</p>"},{"location":"instalacio_inicial/#inici-de-la-installacio","title":"Inici de la instal\u00b7laci\u00f3","text":""},{"location":"instalacio_inicial/#configurar-la-maquina-virtual","title":"Configurar la m\u00e0quina virtual","text":"<p>Configura el sistema d'arrencada per iniciar des de la imatge ISO d'Ubuntu. Assegura't que la virtualitzaci\u00f3 estigui habilitada al BIOS si \u00e9s necessari.</p>"},{"location":"instalacio_inicial/#arrencar-la-maquina-virtual","title":"Arrencar la m\u00e0quina virtual","text":"<p>Inicia la m\u00e0quina virtual i selecciona l'opci\u00f3 per instal\u00b7lar Ubuntu.</p>"},{"location":"instalacio_inicial/#seguir-linstallador","title":"Seguir l'instal\u00b7lador","text":"<ul> <li>Idioma: Escull el catal\u00e0 o l'idioma que prefereixis.</li> <li>Teclat: Configura el teclat segons la disposici\u00f3 que utilitzis.</li> <li>Partici\u00f3: Utilitza el gestor de particions avan\u00e7at si vols configurar manualment les particions. Decideix entre partici\u00f3 d'extensi\u00f3, LVM o ZFS, segons les teves prefer\u00e8ncies.</li> <li>Usuari: Crea un compte d'usuari amb permisos adequats. Opta per una contrasenya segura i considera habilitar el xifratge de la carpeta d'inici si \u00e9s necessari.</li> </ul>"},{"location":"instalacio_inicial/#finalitzar-la-installacio","title":"Finalitzar la instal\u00b7laci\u00f3","text":""},{"location":"instalacio_inicial/#actualitzacions","title":"Actualitzacions","text":"<p>Despr\u00e9s de la instal\u00b7laci\u00f3, obre un terminal i executa:</p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade\n</code></pre>"},{"location":"ldap/","title":"Instal\u00b7laci\u00f3 DOMINI LDAP","text":""},{"location":"ldap/#que-es-un-domini-ldap","title":"Qu\u00e8 \u00e9s un domini LDAP?","text":"<p>Un domini LDAP \u00e9s una estructura jer\u00e0rquica utilitzada per emmagatzemar i organitzar informaci\u00f3 d'usuaris, grups, dispositius i altres objectes dins d'una xarxa. LDAP (Lightweight Directory Access Protocol) permet accedir i gestionar aquesta informaci\u00f3 de manera eficient.</p> <p>Un detall curi\u00f3s: Active Directory es basa en LDAP. Aix\u00ed que podr\u00edem dir que LDAP \u00e9s el \"motor\" que fa funcionar AD, mentre aquest s'encarrega de posar-hi la carrosseria pr\u00f2pia de Windows. </p>"},{"location":"ldap/#avantatge-respecte-a-active-directory","title":"Avantatge respecte a Active Directory","text":"<ul> <li>LDAP \u00e9s m\u00e9s lleuger i est\u00e0ndard, ideal per a diferents sistemes operatius.  </li> <li>Active Directory est\u00e0 integrat a Windows i dep\u00e8n del seu ecosistema, mentre que LDAP \u00e9s m\u00e9s flexible i adaptable. A m\u00e9s, Active Directory requereix adquirir una llic\u00e8ncia de Windows Server, llic\u00e8ncies per als clients, i tamb\u00e9 pagar per cada ordinador connectat, sense oblidar el cost addicional de determinades eines o programari complementari.</li> </ul>"},{"location":"ldap/#per-a-que-serveix-un-domini","title":"Per a qu\u00e8 serveix un domini?","text":"<p>Serveix per centralitzar l'autenticaci\u00f3 i l'administraci\u00f3 d'usuaris, grups i recursos en una xarxa. Els objectes comuns inclouen: - Unitats Organitzatives (UO): Carpetes l\u00f2giques que organitzen altres objectes com usuaris o grups. - Usuaris i grups: Per gestionar l'acc\u00e9s i permisos. - Dispositius: Impressores, servidors, etc.</p>"},{"location":"ldap/#comandes-i-eines","title":"Comandes i eines","text":"<p>Slapcat Utilitzat per exportar dades del directori LDAP. Si no mostra el domini, cal verificar la configuraci\u00f3 i el contingut inicial del directori. Pot ser necessari reinicialitzar o afegir dades correctes.</p> <p>Fitxers LDIF Els fitxers LDIF (LDAP Data Interchange Format) defineixen objectes per al directori. - La primera l\u00ednia d'un fitxer LDIF \u00e9s la refer\u00e8ncia DN (Distinguished Name), que identifica de manera \u00fanica l'objecte al directori.</p>"},{"location":"ldap/#creacio-dun-domini-amb-ldap","title":"Creaci\u00f3 d'un Domini amb LDAP","text":"<p>Nota: Tot i que realitzarem aquest exemple en un Ubuntu Desktop, \u00e9s recomanable utilitzar Ubuntu Server, ja que est\u00e0 millor optimitzat per a aquestes tasques.</p> <p>1. Configurar una IP est\u00e0tica  Assignarem una IP est\u00e0tica per evitar problemes futurs, ja que no ens interessa que la IP d'un servidor canvi\u00ef. Si ho fa, podria ocasionar problemes greus en la xarxa. Aquesta configuraci\u00f3 es pot realitzar editant el fitxer corresponent:</p> <ul> <li> <p>Fitxer: <code>/etc/netplan</code></p> </li> <li> <p>Alternativa: Configurar directament al router assignant una IP est\u00e0tica al servidor.</p> </li> </ul> <p></p> <p>NOTA: Si configures el netplan posteriorment has de fer <code>netplan apply</code> per aplicar la configuraci\u00f3.</p> <p>2. Canviar el nom de la m\u00e0quina (hostname) \u00c9s essencial definir un nom adequat per al servidor. Aix\u00f2 es fa editant el fitxer:  </p> <pre><code>sudo nano /etc/hostname\n</code></pre> <p></p> <p>3. Assignar el nom i la IP al fitxer <code>/etc/hosts</code> Perqu\u00e8 el sistema reconegui el nom del servidor i domini, hem de configurar el fitxer <code>/etc/hosts</code>. Afegirem una l\u00ednia amb la IP est\u00e0tica del servidor, el seu nom i el domini:</p> <pre><code>sudo nano /etc/hosts\n</code></pre> <p>Exemple: <code>10.0.2.15 vitaliy-server.vitaliy.com vitaliy-server</code> </p> <p>Aix\u00f2 assegura que la m\u00e0quina pugui identificar-se correctament dins de la xarxa.</p> <p></p>"},{"location":"ldap/#installacio-de-les-eines-necessaries","title":"Instal\u00b7laci\u00f3 de les eines necess\u00e0ries","text":"<p>Amb la configuraci\u00f3 pr\u00e8via completada, passem a instal\u00b7lar els paquets necessaris per treballar amb LDAP: slapd i ldap-utils.</p> <ul> <li>slapd: \u00c9s el servidor LDAP, que ens permetr\u00e0 gestionar i emmagatzemar la informaci\u00f3 del directori.  </li> <li>ldap-utils: \u00c9s un conjunt d'eines per interactuar amb el servidor LDAP, com ara afegir, modificar o consultar dades.</li> </ul> <p>Instal\u00b7laci\u00f3:</p> <pre><code>sudo apt install slapd ldap-utils\n</code></pre> <p></p> <p>Comprovaci\u00f3 inicial amb <code>slapcat</code></p> <p>Despr\u00e9s d\u2019executar la comanda slapcat, veiem que el directori no est\u00e0 completament buit. En aquest cas, cont\u00e9 una configuraci\u00f3 m\u00ednima inicial, amb el domini <code>dc=nodomain</code>. Aix\u00f2 indica que el servidor LDAP est\u00e0 funcionant per\u00f2 encara no s\u2019ha configurat correctament per incloure un domini personalitzat o altres dades espec\u00edfiques.</p> <p>Aquest pas \u00e9s essencial abans de comen\u00e7ar a afegir la configuraci\u00f3 adequada i els objectes al directori LDAP.</p> <p></p>"},{"location":"ldap/#configuracio-amb-dpkg-reconfigure-slapd","title":"Configuraci\u00f3 amb <code>dpkg-reconfigure slapd</code>","text":"<p>Per configurar el servidor LDAP correctament, executem la comanda dpkg-reconfigure slapd. Aquesta obre una finestra interactiva amb una s\u00e8rie de passos a seguir:</p> <ol> <li> <p>Ometre la configuraci\u00f3?    Ens pregunta si volem \"omitir la configuraci\u00f3\". Seleccionem NO per procedir amb la configuraci\u00f3. </p> </li> <li> <p>Introduir el nom del domini    Ens sol\u00b7licita el nom del domini. Introdu\u00efm el nom que hem configurat pr\u00e8viament al fitxer <code>/etc/hosts</code>. </p> </li> <li> <p>Nom de l\u2019organitzaci\u00f3    Especifica el nom de l\u2019organitzaci\u00f3. Aquest ser\u00e0 visible al directori LDAP. </p> </li> <li> <p>Contrasenya d\u2019administrador    Introdu\u00efm la contrasenya per al compte administrador del servidor LDAP. \u00c9s molt important guardar aquesta contrasenya, ja que ser\u00e0 necess\u00e0ria per gestionar el directori LDAP. </p> </li> <li> <p>Esborrar la base de dades durant el purge    Ens pregunta si volem eliminar la base de dades quan esborrem el paquet <code>slapd</code>. Seleccionem SI. </p> </li> <li> <p>Moure la base de dades antiga    Si es detecta una base de dades antiga, ens pregunta si volem moure-la. Seleccionem SI per continuar amb una instal\u00b7laci\u00f3 neta. </p> </li> <li> <p>Configuraci\u00f3 completada    Un cop finalitzats els passos, el servidor LDAP estar\u00e0 configurat correctament. </p> </li> </ol> <p>Verificaci\u00f3 final</p> <p>Un cop completada la configuraci\u00f3, podem utilitzar la comanda slapcat per comprovar que el domini i les dades que hem configurat ja apareixen correctament al directori LDAP.</p> <p>Si tot ha anat b\u00e9, ara haur\u00edem de veure les nostres dades reflectides.</p> <p></p>"},{"location":"ldap/#creacio-de-fitxers-ldif","title":"Creaci\u00f3 de fitxers LDIF","text":"<p>Els fitxers amb extensi\u00f3 <code>.ldif</code> (LDAP Data Interchange Format) s\u00f3n utilitzats per definir i importar dades al servidor LDAP. Aquests fitxers permeten configurar objectes com unitats organitzatives, usuaris, grups i altres estructures.</p> <p></p> <p>En aquest exemple, hem creat un fitxer <code>uo.ldif</code> per afegir una Unitat Organitzativa (OU) anomenada <code>users</code>. Els elements definits inclouen: - dn (Distinguished Name): Identifica de manera \u00fanica l'objecte al directori LDAP. - objectClass: Defineix el tipus d'objecte (en aquest cas, una unitat organitzativa). - ou: Nom de la unitat organitzativa (<code>users</code>).</p> <p>Aquest fitxer ser\u00e0 utilitzat per carregar la configuraci\u00f3 al servidor LDAP mitjan\u00e7ant comandes com <code>ldapadd</code>.</p> <p>Creaci\u00f3 del fitxer <code>grup.ldif</code></p> <p>El fitxer <code>grup.ldif</code> defineix un grup dins del nostre servidor LDAP. Aquest grup ser\u00e0 associat a una Unitat Organitzativa (OU) ja existent (en aquest cas, <code>users</code>). Aqu\u00ed detallem els par\u00e0metres utilitzats:</p> <p></p> <ul> <li>dn (Distinguished Name): Identifica de manera \u00fanica el grup (<code>cn=alumnes,ou=users,dc=vitaliy,dc=com</code>).  </li> <li>objectClass: Defineix el tipus d'objecte (en aquest cas, <code>posixGroup</code>, per a grups POSIX).  </li> <li>cn: Nom del grup (<code>alumnes</code>).  </li> <li>gidNumber: Identificador \u00fanic del grup (<code>1001</code>).  </li> <li>memberUid: Usuaris membres del grup (en aquest cas, <code>alu1</code>).</li> </ul> <p>Aquest fitxer es pot importar al servidor LDAP per crear i gestionar grups d\u2019usuaris, facilitant l\u2019organitzaci\u00f3 i la configuraci\u00f3 d\u2019acc\u00e9s.</p> <p>Creaci\u00f3 del fitxer <code>usu.ldif</code></p> <p>El fitxer <code>usu.ldif</code> defineix un usuari dins del nostre servidor LDAP. Aquest fitxer b\u00e0sic cont\u00e9 els par\u00e0metres essencials per crear un compte d\u2019usuari, per\u00f2 es pot ampliar amb m\u00e9s informaci\u00f3 com correu electr\u00f2nic, n\u00famero de tel\u00e8fon, etc.</p> <p></p> <p>Par\u00e0metres utilitzats:</p> <ul> <li>dn (Distinguished Name): Identifica de manera \u00fanica l\u2019usuari (<code>uid=alu1,ou=users,dc=vitaliy,dc=com</code>).</li> <li>objectClass: Defineix les classes que caracteritzen l\u2019usuari, com:</li> <li><code>inetOrgPerson</code> i <code>organizationalPerson</code> per a informaci\u00f3 personal i organitzativa.</li> <li><code>posixAccount</code> i <code>shadowAccount</code> per compatibilitat amb sistemes POSIX i gesti\u00f3 de contrasenyes.</li> <li>userPassword: La contrasenya de l\u2019usuari (<code>alu1</code>). \u00c9s recomanable que estigui en format encriptat.</li> <li>cn: Nom com\u00fa de l\u2019usuari (<code>Primer</code>).</li> <li>sn: Cognom de l\u2019usuari (<code>Alumne1</code>).</li> <li>gidNumber: Grup al qual pertany l\u2019usuari (<code>1001</code>).</li> <li>uidNumber: Identificador \u00fanic de l\u2019usuari (<code>1001</code>).</li> <li>homeDirectory: Directori personal de l\u2019usuari (<code>/home/alu1</code>).</li> <li>loginShell: Shell predeterminada de l\u2019usuari (<code>/bin/bash</code>).</li> <li>shadowExpire, shadowLastChange, shadowMax, shadowMin, shadowWarning: Par\u00e0metres relacionats amb la caducitat i avisos de contrasenyes.</li> </ul> <p>Aquest fitxer es pot utilitzar per crear l\u2019usuari dins de l\u2019organitzaci\u00f3 definida al directori LDAP. \u00c9s possible afegir m\u00e9s atributs segons les necessitats, com ara correu electr\u00f2nic, tel\u00e8fon o ubicaci\u00f3.</p>"},{"location":"ldap/#pujar-els-fitxers-al-servidor-ldap","title":"Pujar els fitxers al servidor LDAP","text":"<p>Un cop creats els fitxers <code>.ldif</code>, hem de carregar-los al servidor LDAP perqu\u00e8 els objectes (unitats organitzatives, grups i usuaris) es cre\u00efn dins del directori.</p> <p>Aix\u00f2 es fa mitjan\u00e7ant la comanda ldapadd, que permet afegir dades al servidor LDAP. La sintaxi \u00e9s la seg\u00fcent:</p> <p>Comanda:  </p> <pre><code>ldapadd -c -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f &lt;nom_fitxer&gt;\n</code></pre> <p>Explicaci\u00f3 dels par\u00e0metres:</p> <ul> <li>-c: Continua amb els altres fitxers encara que hi hagi errors en algun.</li> <li>-x: Utilitza autenticaci\u00f3 simple.</li> <li>-D: Especifica el Distinguished Name de l'usuari administrador (<code>cn=admin,dc=vitaliy,dc=com</code>).</li> <li>-W: Demana la contrasenya de l'administrador abans d'executar la comanda.</li> <li>-f: Indica el nom del fitxer <code>.ldif</code> que es vol carregar.</li> </ul> <p>Exemple Per pujar el fitxer <code>uo.ldif</code>, executem: <code>ldapadd -c -x -D \"cn=admin,dc=vitaliy,dc=com\" -W -f uo.ldif</code></p> <p></p> <p>Repetim aquesta comanda per als altres fitxers (<code>grup.ldif</code>, <code>usu.ldif</code>) per afegir-los al servidor LDAP.</p> <p>Un cop carregats, els objectes definits als fitxers estaran disponibles al servidor LDAP i comprovem amb slapcat.</p> <p> </p>"},{"location":"ldap/#ldap-sense-interficie-grafica","title":"LDAP Sense Interf\u00edcie Gr\u00e0fica","text":"<p>Per configurar el servidor LDAP sense interf\u00edcie gr\u00e0fica, el procediment \u00e9s el mateix que l\u2019anterior per\u00f2 amb un petit canvi: quan configures la xarxa, ho has de fer amb netplan.  </p> <pre><code>sudo nano /etc/netplan/50-cloud-init.yaml\n</code></pre> <p></p> <p>Afegim una IP est\u00e0tica i el servidor DNS. En aquest cas, he triat els servidors de Google.  </p> <p></p> <p>Despr\u00e9s, guardem el fitxer, sortim i apliquem els canvis amb la comanda seg\u00fcent:  </p> <pre><code>sudo netplan apply\n</code></pre> <p>Finalment, comprovem l\u2019IP. </p> <p>La resta de la configuraci\u00f3 del servidor LDAP \u00e9s la mateixa.</p>"},{"location":"ldapgui/","title":"Configuraci\u00f3 LDAP GUI","text":""},{"location":"ldapgui/#entorns-grafics-per-a-ldap","title":"Entorns Gr\u00e0fics per a LDAP","text":"<p>En aquest document, explicarem com utilitzar diferents entorns gr\u00e0fics per a LDAP, amb especial atenci\u00f3 a Apache Directory Studio.</p> <p>Els entorns gr\u00e0fics faciliten la gesti\u00f3 dels servidors LDAP, permetent la creaci\u00f3, modificaci\u00f3 i administraci\u00f3 d'usuaris, grups i altres objectes de manera visual. Algunes eines recomanades s\u00f3n:</p> <ol> <li>Apache Directory Studio - Eina completa amb interf\u00edcie intu\u00eftiva.</li> <li>JXplorer - Navegador i editor LDAP de codi obert.</li> <li>phpLDAPadmin - Aplicaci\u00f3 web per gestionar LDAP des del navegador.</li> <li>LDAP Account Manager - Eina avan\u00e7ada per administrar usuaris i grups amb m\u00faltiples funcionalitats.</li> </ol>"},{"location":"ldapgui/#apache-directory-studio","title":"Apache Directory Studio","text":"<p>En aquest tutorial farem \u00fas d'Apache Directory Studio, una de les eines m\u00e9s populars per gestionar directoris LDAP. Aquesta aplicaci\u00f3 permet administrar diversos servidors LDAP i ofereix funcionalitats com:</p> <ul> <li>Edici\u00f3 d'esquemes.</li> <li>Cerca avan\u00e7ada d'entrades.</li> <li>Configuraci\u00f3 de la seguretat.</li> </ul> <p>\u00c9s especialment \u00fatil per a usuaris que necessiten una gesti\u00f3 flexible i professional dels seus directoris LDAP.</p>"},{"location":"ldapgui/#inici-i-configuracio","title":"Inici i Configuraci\u00f3","text":""},{"location":"ldapgui/#1-descarregar-i-preparar-leina","title":"1. Descarregar i preparar l'eina","text":"<ul> <li>Descarrega Apache Directory Studio des de la p\u00e0gina oficial:</li> </ul> <ul> <li>Descomprimeix el fitxer descarregat i obre el directori resultant:</li> </ul> <ul> <li>Executa l'arxiu executable per iniciar l'eina:</li> </ul> <p>Important: Per evitar errors en iniciar Apache Directory Studio, assegura't de tenir instal\u00b7lat el Java Development Kit (JDK). Si no tens Java instal\u00b7lat, executa la comanda:</p> <p><code>sudo apt install default-jdk</code></p> <p>Aquesta comanda instal\u00b7la la versi\u00f3 per defecte del JDK en distribucions basades en Debian i Ubuntu, indispensable per a l'execuci\u00f3 correcta de l'eina.</p>"},{"location":"ldapgui/#2-crear-una-nova-connexio-ldap","title":"2. Crear una nova connexi\u00f3 LDAP","text":"<ul> <li>Fes clic a LDAP i selecciona New Connection:</li> </ul> <ul> <li>Introdueix les dades de connexi\u00f3:</li> </ul> <ul> <li>Afegeix els detalls del cd, dc i la contrasenya de l'administrador:</li> </ul> <ul> <li>Un cop establerta la connexi\u00f3, podr\u00e0s visualitzar l'estructura LDAP amb la OU (Organizational Unit), el CN (Common Name) i els UID:</li> </ul>"},{"location":"ldapgui/#afegir-registres-manualment","title":"Afegir Registres Manualment","text":"<p>Per afegir un nou registre manualment, segueix aquests passos:</p>"},{"location":"ldapgui/#1-crear-una-nova-entrada","title":"1. Crear una nova entrada","text":"<ul> <li>Fes clic dret sobre la OU on vols afegir el registre i selecciona New Entry:</li> </ul> <ul> <li>Escull l'opci\u00f3 per crear una entrada des de zero:</li> </ul>"},{"location":"ldapgui/#2-configurar-el-registre","title":"2. Configurar el registre","text":"<ul> <li>Defineix l'objectClass:   En aquest exemple, crearem un grup seleccionant posixGroup:</li> </ul> <ul> <li>Estableix el RDN:   Introdueix el RDN necessari. En aquest cas, utilitzarem el cn amb el nom \"Public\" (pots usar el nom que prefereixis):</li> </ul> <ul> <li>Assigna un gidNumber:   Com que es tracta d'un grup, se't demanar\u00e0 que introdueixis un gidNumber. Per exemple, pots posar el valor 5000:</li> </ul>"},{"location":"ldapgui/#3-verificar-la-creacio","title":"3. Verificar la creaci\u00f3","text":"<p>Un cop completats aquests passos, el registre s'ha creat correctament. Verifica-ho navegant per l'estructura del directori:</p> <p></p>"},{"location":"ldapgui/#creacio-amb-plantilles","title":"Creaci\u00f3 amb Plantilles","text":"<p>En aquesta secci\u00f3, afegirem un registre utilitzant una plantilla existent, seleccionant la plantilla d\u2019un usuari que ja tenim creat.</p> <ul> <li>Seleccionar la plantilla d'usuari:</li> </ul> <p></p> <ul> <li>En aquest cas, no cal modificar res, ja que volem crear un usuari i la configuraci\u00f3 per defecte ens serveix:</li> </ul> <p></p> <ul> <li>Modificar el <code>cn</code>:   Canvia el <code>cn</code> del registre per assignar-li un nou nom.</li> </ul> <p></p> <ul> <li>En fer clic a Next, se't demanar\u00e0 que introdueixis un <code>UID</code> posarem el nostre nom:</li> </ul> <p></p> <p>Important: No oblidis canviar tamb\u00e9 la ruta <code>/home/</code> per al nou usuari, el uidNumber, gidNumber i el uid que \u00e9s el nom de l'usuari de sessi\u00f3.</p> <p></p>"},{"location":"ldapgui/#comprovacio","title":"Comprovaci\u00f3","text":"<p>Amb un client integrat al domini LDAP, inicia sessi\u00f3. En fer-ho, es crea autom\u00e0ticament el directori <code>/home/vitaliy</code>. Per verificar-ho, executa la comanda <code>whoami</code> per confirmar el nom d'usuari i <code>id</code> per visualitzar la informaci\u00f3 d'identificaci\u00f3.</p> <p></p>"},{"location":"ldapgui/#solucio-de-problemes","title":"Soluci\u00f3 de Problemes","text":"<p>Aqu\u00ed tens algunes solucions als problemes m\u00e9s comuns:</p> <ul> <li>Error de Java o JDK:   Si al iniciar Apache Directory Studio apareixen errors relacionats amb Java, assegura't d'haver instal\u00b7lat correctament el JDK amb:</li> </ul> <pre><code>sudo apt install default-jdk\n</code></pre> <ul> <li>Connexi\u00f3 fallida al servidor LDAP: </li> <li>Verifica que la informaci\u00f3 de connexi\u00f3 (cd, dc i credencials) sigui correcta.</li> <li> <p>Assegura't que el servidor LDAP estigui en funcionament i accessible des de la teva xarxa.</p> </li> <li> <p>Problemes en la creaci\u00f3 de registres: </p> </li> <li>Comprova que els atributs obligatoris (com <code>objectClass</code>, <code>cn</code>, <code>gidNumber</code> o <code>UID</code>) s'hagin introdu\u00eft correctament.</li> <li>Revisa la configuraci\u00f3 de les plantilles per assegurar-te que no hi hagi errors de format o informaci\u00f3 duplicada.</li> </ul>"},{"location":"ldapgui/#referencies-i-recursos","title":"Refer\u00e8ncies i Recursos","text":"<ul> <li>        Documentaci\u00f3 d'Apache Directory Studio      </li> <li>        Introducci\u00f3 a LDAP      </li> <li>        JXplorer      </li> <li>        phpLDAPadmin      </li> <li>        LDAP Account Manager      </li> </ul>"},{"location":"licencia/","title":"Llic\u00e8ncia d'us","text":"<p>Reconeixement \u2013 CompartirIgual (by-sa) o CC by-sa: Es permet l\u2019\u00fas comercial de l\u2019obra i de les possibles obres derivades, la distribuci\u00f3 de les quals s\u2019ha de fer amb una llic\u00e8ncia igual a la que regula l\u2019obra original.</p> <p> </p>"},{"location":"mobils/","title":"Perfils m\u00f2bils i Compartici\u00f3 de Recursos","text":""},{"location":"mobils/#samba-vs-nfs","title":"Samba vs. NFS","text":"<p>En aquest apartat explorarem la compartici\u00f3 de recursos mitjan\u00e7ant NFS i Samba, aix\u00ed com la creaci\u00f3 i configuraci\u00f3 d'usuaris amb perfils m\u00f2bils. Es destacaran les difer\u00e8ncies principals entre ambd\u00f3s sistemes i es descriur\u00e0 l'autenticaci\u00f3 a nivell de host, a m\u00e9s de la configuraci\u00f3 b\u00e0sica tant del servidor com del client per assegurar una integraci\u00f3 eficient.</p> Caracter\u00edstica Samba NFS Protocol SMB/CIFS NFS Entorn principal Compartici\u00f3 de fitxers en entorns Windows (i tamb\u00e9 Linux, etc.) Compartici\u00f3 de fitxers en entorns Linux/Unix Autenticaci\u00f3 Basada en usuaris i integrada amb dominis Windows (com Active Directory) Basada en permisos i autenticaci\u00f3 a nivell de host (permisos Unix) Compatibilitat Compatible amb Windows, Linux i altres sistemes Principalment dissenyat per a Linux/Unix; Windows pot actuar com a client NFS amb configuraci\u00f3 addicional Casos d'\u00fas Ideal en entorns heterogenis on interactuen Windows i Linux Recomanat per a xarxes d'entorns Unix/Linux, amb alt rendiment en transfer\u00e8ncies de fitxers"},{"location":"mobils/#installacio-del-servei-nfs-en-linux","title":"Instal\u00b7laci\u00f3 del servei NFS en Linux","text":"<p>En aquest apartat instal\u00b7larem el servei NFS en el nostre servidor, que ja t\u00e9 el LDAP configurat. Primer actualitzarem la llista de paquets executant \"apt update\".</p> <p>A continuaci\u00f3, instal\u00b7lem el servidor NFS amb la comanda.</p> <pre><code>sudo apt install nfs-kernel-server\n</code></pre> <p></p> <p>Per comprovar que el servei s'est\u00e0 executant correctament, utilitzem.</p> <pre><code>sudo systemctl status nfs-server\n</code></pre> <p></p> <p>Amb aix\u00f2, hem configurat la part del servidor per ara.</p>"},{"location":"mobils/#compartir-un-directori","title":"Compartir un Directori","text":"<p>Per compartir un directori, primer el creem:</p> <p></p> <p>Posteriorment, assignem els permisos corresponents i configurem el propietari a \"nobody:nogroup\" per assegurar que tothom tingui acc\u00e9s:</p> <p></p> <p>Seguidament hem de fer que aquesta carpeta sempre estigui muntada</p> <p>Per aconseguir-ho, utilitzarem el fitxer <code>/etc/exports</code> per afegir-hi la configuraci\u00f3 corresponent. Obrim el fitxer amb:</p> <pre><code>nano /etc/exports\n</code></pre> <p>I afegim la seg\u00fcent l\u00ednia:</p> <pre><code>/compartida *(rw,sync,no_subtree_check)\n</code></pre> <p></p> <p>Despr\u00e9s, reiniciem el servei NFS per aplicar els canvis. Cal fer-ho cada vegada que modifiquem la configuraci\u00f3:</p> <pre><code>sudo systemctl restart nfs-kernel-server\n</code></pre> <p></p> <p>Creem un fitxer dins del directori compartit</p> <p>Ara creem un fitxer dins del directori que hem compartit per verificar que la configuraci\u00f3 \u00e9s correcta.</p> <p></p> <p>I a continuaci\u00f3, procedim amb la configuraci\u00f3 del client Windows per accedir al compartit.</p>"},{"location":"mobils/#client-windows","title":"Client Windows","text":"<p>Per defecte, Windows no t\u00e9 activat el servei NFS. Per aix\u00f2, hem d'activar-lo.</p> <p>Ens dirigim al Panell de control i seleccionem \"Programas i caracter\u00edsticas\".</p> <p></p> <p>A continuaci\u00f3, triem l'opci\u00f3 \"Turn Windows features on or off\".</p> <p></p> <p>Cerquem NFS i obrim el desplegable. Farem clic a les tres opcions disponibles per activar el servei.</p> <p></p> <p>Un cop activat, configurem el client per accedir al recurs compartit. Per aconseguir-ho, obrirem l'Explorador de Fitxers i accedirem a \"Aquest PC\" &gt; \"Mapejar una unitat de xarxa\".</p> <p></p> <p>Ara, introdu\u00efm la ruta al recurs compartit, afegint la IP del servidor i la carpeta compartida.</p> <p></p> <p>Acceptem i ja podem observar que s'ha compartit amb \u00e8xit.</p> <p></p> <p>Ara podem provar de crear un directori o fins i tot editar el fitxer que hem creat al servidor.</p> <p></p> <p>Comprovem dins del nostre servidor</p> <p>Utilitzem la comanda <code>ls -l</code> per comprovar si s'han creat els fitxers o directoris des del client Windows. Podrem observar que els fitxers apareixen amb un usuari/grup representat nom\u00e9s per n\u00fameros. Aix\u00f2 es deu al fet que, en entorns NFS, les identitats d'usuari i grup es basen en identificadors num\u00e8rics (UID i GID). Si aquests identificadors no es corresponen amb entrades definides al sistema (o a LDAP), es mostraran simplement com a n\u00fameros.</p> <p></p>"},{"location":"mobils/#client-linux","title":"Client Linux","text":"<p>En aquesta secci\u00f3 es mostra el proc\u00e9s per muntar un directori compartit via NFS en un client Linux.</p> <p>Instal\u00b7laci\u00f3 del client NFS</p> <p>Primer cal instal\u00b7lar els paquets necessaris per poder muntar sistemes de fitxers NFS al client:</p> <pre><code>apt install nfs-common rpcbind\n</code></pre> <p></p> <p>Creaci\u00f3 del punt de muntatge i muntatge del directori compartit</p> <p>Un cop instal\u00b7lats els paquets necessaris, procedim a crear el directori on es muntar\u00e0 el recurs compartit.</p> <p></p> <ol> <li>Es navega fins al directori <code>/mnt/</code>.</li> <li>Es crea un directori anomenat <code>nfs</code> amb \"mkdir nfs\", que servir\u00e0 com a punt de muntatge.</li> <li>Es canvien els permisos del directori <code>nfs</code> amb \"chmod -R 777 nfs/\" per donar acc\u00e9s complet a tots els usuaris.</li> <li>Es comprova que el directori s'ha creat amb \"ls nfs/\".</li> <li>Finalment, es munta la carpeta compartida del servidor NFS (<code>10.0.2.15:/compartida</code>) dins del directori <code>/mnt/nfs/</code> amb la comanda:</li> </ol> <pre><code>mount 10.0.2.15:/compartida /mnt/nfs/\n</code></pre> <p>Amb aquests passos, el client Linux tindr\u00e0 acc\u00e9s als fitxers compartits pel servidor NFS.</p> <p>Per verificar que el muntatge s'ha realitzat correctament, podem utilitzar la comanda:</p> <pre><code>df -h\n</code></pre> <p>Aquesta ens mostrar\u00e0 els sistemes de fitxers muntats, incloent-hi el nostre recurs NFS.</p> <p></p> <p>Un cop confirmat que el directori est\u00e0 muntat, podem accedir-hi i comprovar que cont\u00e9 els fitxers creats tant des del servidor com des del client Windows.</p> <p></p> <p>Si creem un nou directori des d'aquest client Linux, observem que apareix amb el propietari <code>nobody:nogroup</code>. Aix\u00f2 es deu al fet que aquest client no t\u00e9 una correspond\u00e8ncia d'usuaris amb el servidor NFS, i per tant, s'assignen aquests valors per defecte.</p> <p></p> <p>Aquesta situaci\u00f3 es produeix perqu\u00e8 NFS gestiona els permisos mitjan\u00e7ant els UID (User ID) i GID (Group ID). Si el client Linux crea un fitxer amb un UID/GID que no existeix al servidor, aquest no el pot recon\u00e8ixer i l\u2019assigna autom\u00e0ticament com <code>nobody:nogroup</code>.</p> <p>Aquest comportament tamb\u00e9 es deu a \"root squash\", una configuraci\u00f3 predeterminada en <code>/etc/exports</code> que evita que <code>root</code> del client tingui privilegis en el servidor. Aix\u00f2 pot afectar altres usuaris si no hi ha coincid\u00e8ncia d'UIDs entre client i servidor.</p>"},{"location":"mobils/#perfils-mobils","title":"Perfils M\u00f2bils","text":"<p>Crearem un directori anomenat \"perfils\", que ser\u00e0 utilitzat per emmagatzemar els perfils m\u00f2bils dels usuaris. Aquest directori tindr\u00e0 com a propietari <code>nobody:nogroup</code>.</p> <p></p> <p>Assignem permisos 777 (lectura, escriptura i execuci\u00f3 per a tots els usuaris). Tot i que aix\u00f2 facilita les proves, no \u00e9s recomanable en un entorn de producci\u00f3, ja que podria suposar un risc de seguretat.</p> <p></p> <p>Configuraci\u00f3 en <code>/etc/exports</code></p> <p>Perqu\u00e8 aquest directori pugui ser compartit a trav\u00e9s de NFS, afegim la seg\u00fcent l\u00ednia al fitxer <code>/etc/exports</code>:</p> <pre><code>/perfils *(rw,sync,no_root_squash,no_subtree_check)\n</code></pre> <p>Aquesta l\u00ednia configura el directori \"perfils\" amb les seg\u00fcents opcions:</p> <ul> <li>rw \u2192 Permet lectura i escriptura des dels clients.</li> <li>sync \u2192 Escriu els canvis immediatament al disc per evitar p\u00e8rdues de dades.</li> <li>no_root_squash \u2192 Permet que <code>root</code> dels clients mantingui els seus privilegis en el servidor. Per defecte, NFS converteix <code>root</code> en <code>nobody:nogroup</code>, per\u00f2 amb aquesta opci\u00f3 s\u2019evita aquest comportament.</li> <li>no_subtree_check \u2192 Desactiva la verificaci\u00f3 de subarbres, millorant el rendiment i evitant problemes d\u2019acc\u00e9s quan es comparteixen directoris sencers.</li> </ul> <p></p> <p>Finalment, reiniciem el servei NFS per aplicar els canvis:</p> <pre><code>sudo systemctl restart nfs-kernel-server\n</code></pre> <p></p>"},{"location":"mobils/#configuracio-de-perfils-mobils-amb-ldap","title":"Configuraci\u00f3 de Perfils M\u00f2bils amb LDAP","text":"<p>Primerament hem de crear un usuari, he creat un arxiu .ldif i he afegit els seg\u00fcents par\u00e0metres.</p> <p></p> <p>Despr\u00e9s l'afegim amb ldapadd i ho comprovem amb un search.</p> <p></p>"},{"location":"mobils/#configuracio-del-client","title":"Configuraci\u00f3 del Client","text":"<p>Primer, crearem el directori on es muntar\u00e0 el perfil m\u00f2bil i assignarem els permisos adequats.</p> <p></p> <p>A continuaci\u00f3, configurarem el fitxer <code>/etc/fstab</code>. MOLT DE COMPTE! Qualsevol error en aquest fitxer pot provocar un mal funcionament del sistema o fins i tot impedir que arrenqui.</p> <p></p> <p>Un cop editat, podem executar la comanda \"mount -a\" per muntar totes les unitats definides a <code>/etc/fstab</code> i verificar que el muntatge s'ha fet correctament.</p> <p></p> <p>Quan intentem iniciar sessi\u00f3 amb l'usuari \"domin\", el sistema crea autom\u00e0ticament el seu directori de perfil dins de \"/perfil\".</p> <p></p> <p>Finalment, obrim un terminal i comprovem que l'usuari est\u00e0 correctament identificat amb les comandes \"whoami\" i \"id\".</p> <p></p> <p>Amb aix\u00f2, ja tenim el perfil m\u00f2bil configurat correctament.</p>"},{"location":"monitoratge/","title":"Monitoratge","text":""},{"location":"monitoratge/#monitoratge-i-logs","title":"Monitoratge i Logs","text":"<p>Els logs s\u00f3n registres que documenten totes les activitats i esdeveniments que ocorren en un sistema. Aquests fitxers recullen informaci\u00f3 sobre el funcionament, errors, avisos i altres esdeveniments importants, i serveixen per:</p> <ul> <li>Diagnosticar problemes i errors del sistema.</li> <li>Monitoritzar el rendiment i el comportament dels serveis.</li> <li>Auditar activitats per detectar accessos no autoritzats o anomalies de seguretat.</li> <li>Ajudar en el desenvolupament i la depuraci\u00f3 d'aplicacions.</li> </ul>"},{"location":"monitoratge/#rotacio-i-gestio-dels-logs","title":"Rotaci\u00f3 i Gesti\u00f3 dels Logs","text":"<p>La major part dels logs es guarden a la carpeta /var/log, on cada servei o aplicaci\u00f3 t\u00e9 el seu propi fitxer de registre. Aquests fitxers s\u00f3n essencials per monitoritzar el funcionament del sistema, detectar errors, auditar esdeveniments i identificar possibles amenaces de seguretat. A m\u00e9s, els logs segueixen una pol\u00edtica de rotaci\u00f3 predefinida, la qual permet conservar un historial dels logs antics sense que els fitxers es facin massa grans.</p> <p></p> <p>La rotaci\u00f3 dels logs es pot programar o configurar editant el fitxer que cont\u00e9 les regles globals per a la gesti\u00f3 i rotaci\u00f3 dels logs.</p> <pre><code>nano /etc/logrotate.conf\n</code></pre> <p></p> <p>Si volem configurar una rotaci\u00f3 espec\u00edfica per a algun log en concret, hem d'accedir al directori on es poden definir regles personalitzades per als diferents serveis o aplicacions.</p> <pre><code>cd /etc/logrotate.d/\n</code></pre> <p></p> <p>Per exemple, la configuraci\u00f3 d'Apache2 est\u00e0 programada perqu\u00e8 els seus logs es rotin cada 14 dies.</p> <p></p>"},{"location":"monitoratge/#analitzacio-de-logs","title":"Analitzaci\u00f3 de logs","text":"<p>Els logs es poden analitzar mitjan\u00e7ant eines b\u00e0siques com <code>cat</code> seguit de la ruta del log, per\u00f2 una eina molt m\u00e9s potent \u00e9s journalctl. Aquesta eina permet consultar els esdeveniments del sistema amb filtres espec\u00edfics, com ara el rang de dates, utilitzant els par\u00e0metres <code>--since</code> i <code>--until</code>. Aix\u00ed, es poden visualitzar nom\u00e9s els esdeveniments que t'interessen en un per\u00edode determinat. Per exemple:</p> <pre><code>journalctl --since \"09:00\" --until \"10:00\"\n</code></pre> <p></p> <p>Per veure els registres associats a un dispositiu, com un disc, es pot executar:</p> <pre><code>journalctl /dev/sda\n</code></pre> <p></p> <p>Un altre exemple pr\u00e0ctic \u00e9s quan aturem un servei, com el de PostgreSQL, i volem analitzar els seus registres per identificar errors.</p> <p></p> <p>Normalment proporciona m\u00e9s informaci\u00f3 que <code>systemctl</code> i facilita la recerca d'errors.</p> <pre><code>journalctl -xeu postgresql\n</code></pre> <p></p>"},{"location":"monitoratge/#logs-personalitzats","title":"Logs personalitzats","text":"<p>Amb logs personalitzats, podem modificar el comportament i les alertes dels logs del sistema segons les nostres necessitats. Aix\u00f2 inclou canviar la configuraci\u00f3 per defecte, definir com es gestionen els diferents tipus de logs i fins i tot enviar-los a un servidor centralitzat mitjan\u00e7ant eines com Samba o SCP. Tot i que configurar-ho manualment pot ser complex, una opci\u00f3 moderna \u00e9s integrar-ho amb Grafana per visualitzar i analitzar la informaci\u00f3 de manera centralitzada.</p> <p>Per exemple, per modificar la configuraci\u00f3 dels logs, pots editar el fitxer de configuraci\u00f3 del rsyslog:</p> <pre><code>nano /etc/rsyslog.d/50-default.conf\n</code></pre> <p>Aix\u00ed pots canviar la destinaci\u00f3 dels logs, els filtres o les alertes assignades a cadascun.</p> <p></p> <p>Per simular un error de mail i comprovar on es guarda aquest log, pots executar la comanda:</p> <pre><code>logger -i -s -p mail.err prova error\n</code></pre> <p>Aquesta comanda envia un missatge d'error amb la prioritat <code>mail.err</code>, i autom\u00e0ticament apareixer\u00e0 registrat al log corresponent.</p> <p></p> <p>Observa que el missatge es registra en <code>mail.err</code> i no en <code>mail.log</code>, ja que cada tipus de log est\u00e0 assignat a una destinaci\u00f3 espec\u00edfica. Aquesta configuraci\u00f3 es pot modificar segons els requisits del sistema.</p> <p></p> <p>Si, en canvi, executem la mateixa comanda amb la prioritat <code>mail.alert</code>, el missatge no apareixer\u00e0 a <code>mail.err</code> sin\u00f3 que s'enregistrar\u00e0 a <code>mail.log</code>. Aix\u00f2 demostra com es poden redirigir els logs segons el seu nivell d'alerta.</p> <p></p>"},{"location":"monitoratge/#grafana-loki-promtail","title":"Grafana, Loki, Promtail","text":"<p>En aquest apartat t'explicar\u00e9 les parts m\u00e9s importants d'un sistema de monitoratge centralitzat de logs utilitzant Grafana, Loki i Promtail. - Grafana \u00e9s l'eina de visualitzaci\u00f3 que permet crear dashboards interactius per analitzar les dades. - Loki \u00e9s el sistema d'agregaci\u00f3 de logs, dissenyat per emmagatzemar i indexar els logs de manera eficient. - Promtail \u00e9s l'agent que s'executa als clients per recollir els logs (per exemple, des de <code>/var/log</code>) i enviar-los a Loki.</p>"},{"location":"monitoratge/#installacio-de-grafana","title":"Instal\u00b7laci\u00f3 de Grafana","text":"<p>Per instal\u00b7lar Grafana al servidor, es fa el seg\u00fcent proc\u00e9s:</p> <pre><code>sudo apt install -y software-properties-common \n</code></pre> <p></p> <p>S'afegeix el repositori oficial de Grafana:</p> <pre><code>sudo add-apt-repository \"deb https://packages.grafana.com/oss/deb stable main\"\n</code></pre> <p></p> <p>Afegir la clau GPG per verificar la integritat dels paquets:</p> <pre><code>wget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\n</code></pre> <p></p> <p>Instal\u00b7lar Grafana:</p> <pre><code>sudo apt install -y grafana\n</code></pre> <p></p> <p>Habilitar i iniciar el servei de Grafana:</p> <pre><code>sudo systemctl enable grafana-server\n</code></pre> <pre><code>sudo systemctl start grafana-server \n</code></pre> <p></p> <p>Per comprovar que Grafana est\u00e0 funcionant, accedeix a la seva interf\u00edcie web des del navegador amb: <code>http://&lt;IP-del-servidor&gt;:3000</code> </p> <p></p>"},{"location":"monitoratge/#installar-loki-al-servidor-ubuntu","title":"Instal\u00b7lar Loki al servidor Ubuntu","text":"<p>Per configurar Loki, que \u00e9s l'eina d'agregaci\u00f3 de logs, s'ha de fer el seg\u00fcent:</p> <p>Descarregar l'\u00faltima versi\u00f3 de Loki:</p> <pre><code>wget https://github.com/grafana/loki/releases/latest/download/loki-linux-amd64.zip\n</code></pre> <p>Descomprimir l'arxiu descarregat:</p> <pre><code>unzip loki-linux-amd64.zip\n</code></pre> <p>Moure l'executable al directori <code>/usr/local/bin</code>:</p> <pre><code>sudo mv loki-linux-amd64 /usr/local/bin/loki\n</code></pre> <p>Assignar permisos d'execuci\u00f3:</p> <pre><code>sudo chmod +x /usr/local/bin/loki\n</code></pre> <p>Crear el fitxer de configuraci\u00f3 en format YAML. Hi ha molts exemples disponibles a Internet o a la p\u00e0gina oficial. Per exemple, crea o edita el fitxer:</p> <pre><code>nano /etc/loki-config.yaml\n</code></pre> <p></p>"},{"location":"monitoratge/#creacio-del-daemon-de-loki","title":"Creaci\u00f3 del daemon de Loki","text":"<p>Per gestionar Loki com un servei de systemd, es configura un daemon.</p> <p>Descarregar i preparar Loki (pas similar al descrit anteriorment):</p> <pre><code>wget https://github.com/grafana/loki/releases/latest/download/loki-linux-amd64.zip\n</code></pre> <pre><code>unzip loki-linux-amd64.zip\n</code></pre> <pre><code>sudo mv loki-linux-amd64 /usr/local/bin/loki\n</code></pre> <pre><code>sudo chmod +x /usr/local/bin/loki\n</code></pre> <p></p> <p>Crear el fitxer de servei per Loki:</p> <pre><code>sudo nano /etc/systemd/system/loki.service\n</code></pre> <p></p> <p>Configura aquest fitxer per definir com s'executar\u00e0 Loki com a servei. Un cop creat el servei, cal assignar els permisos i crear els directoris necessaris segons la configuraci\u00f3 del servei.  </p> <p></p> <p>Finalment, per activar el servei de Loki:</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable loki\nsudo systemctl start loki\n</code></pre> <p>Comprova que Loki s'ha iniciat correctament:</p> <p></p>"},{"location":"monitoratge/#client-promtail","title":"Client Promtail","text":"<p>Promtail \u00e9s l'agent que s'executa als clients per recollir els logs (per exemple, des de <code>/var/log</code>) i enviar-los a Loki per a la seva agregaci\u00f3 i posterior visualitzaci\u00f3 a Grafana. A continuaci\u00f3, es mostra com instal\u00b7lar i configurar Promtail:</p> <p>Descarrega l'\u00faltima versi\u00f3 de Promtail:</p> <pre><code>wget https://github.com/grafana/loki/releases/latest/download/promtail-linux-amd64.zip\n</code></pre> <p></p> <p>Descomprimeix l'arxiu descarregat:</p> <pre><code>unzip promtail-linux-amd64.zip\n</code></pre> <p>Mou l'executable a <code>/usr/local/bin</code>:</p> <pre><code>sudo mv promtail-linux-amd64 /usr/local/bin/promtail\n</code></pre> <p>Assigna permisos d'execuci\u00f3:</p> <pre><code>sudo chmod +x /usr/local/bin/promtail\n</code></pre> <p></p> <p>Edita el fitxer de configuraci\u00f3 de Promtail per definir quins logs recollir i on enviar-los (normalment la URL del servidor on s'executa Loki):</p> <pre><code>sudo nano /etc/promtail-config.yaml\n</code></pre> <p></p> <p>Crea el directori necessari per a Promtail (on s'emmagatzemaran dades temporals o altres fitxers de suport):</p> <pre><code>sudo mkdir -p /var/lib/promtail\n</code></pre> <p></p> <p>Crea el fitxer de servei de systemd per executar Promtail com a servei:</p> <pre><code>sudo nano /etc/systemd/system/promtail.service\n</code></pre> <p></p> <p>Posa el servei en marxa carregant la nova configuraci\u00f3, habilitant i iniciant el servei, i comprovant el seu estat:</p> <pre><code>sudo systemctl daemon-reload \nsudo systemctl enable promtail  \nsudo systemctl start promtail\nsudo systemctl status promtail\n</code></pre> <p></p> <p>Finalment, dona els permisos necessaris al directori de Promtail per assegurar que l'usuari <code>nobody</code> tingui acc\u00e9s, cosa que pot ser important per a la seguretat i el correcte funcionament:</p> <pre><code>sudo chown -R nobody:nogroup /var/lib/promtail\n</code></pre> <pre><code>sudo usermod -a -G adm nobody\n</code></pre> <pre><code>sudo systemctl restart promtail\n</code></pre> <p></p>"},{"location":"monitoratge/#configuracio-de-grafana-loki","title":"Configuraci\u00f3 de Grafana + Loki","text":"<p>Un cop Grafana est\u00e0 instal\u00b7lat i Loki est\u00e0 recopilant els logs, accedeix a Grafana des del navegador amb la URL: <code>http://localhost:3000</code> (o b\u00e9 amb la IP del servidor).  </p> <p>A l'apartat Explore de Grafana pots crear consultes per filtrar i analitzar els logs en temps real. Aix\u00f2 et permet cercar esdeveniments espec\u00edfics, com per exemple errors, avisos o intents fallits entre altres.</p> <p></p> <p>Executa una query per veure com es carreguen autom\u00e0ticament els logs:</p> <p></p> <p>Pots afegir filtres per cercar paraules clau com <code>\"Failed\"</code> o altres termes rellevants per detectar incid\u00e8ncies:</p> <p></p> <p>Per exemple, pots crear una query espec\u00edfica per filtrar els warnings:</p> <p></p> <p>Grafana tamb\u00e9 permet crear dashboards personalitzats que mostren gr\u00e0fics amb els logs o alertes importants. Aquests dashboards faciliten la visualitzaci\u00f3 i interpretaci\u00f3 de la informaci\u00f3:</p> <p></p> <p>Un cop afegiu els par\u00e0metres a la query, apareixer\u00e0 un gr\u00e0fic que resumeix els logs segons els criteris definits:</p> <p></p> <p>Un exemple de Grafana totalment configurat amb Loki per a connexions SSH.</p> <p></p> <p>A m\u00e9s, Grafana t\u00e9 la capacitat de configurar alertes per correu electr\u00f2nic. Aquesta funcionalitat \u00e9s molt \u00fatil en entorns de producci\u00f3 per notificar-te autom\u00e0ticament quan algun servei, com ara Apache, deixa de respondre o s'atura. Per configurar les alertes per email, has de seguir aquests passos:</p> <ul> <li>Dirigir-te a l'apartat Alerts i crea un Contact Point.</li> <li>Abans, cal configurar el fitxer <code>.ini</code> de Grafana per definir les opcions d'enviament de correus.</li> </ul> <p>Pots consultar la documentaci\u00f3 oficial per configurar el SMTP aqu\u00ed.</p> <p></p> <p>Per fer una prova, envia un correu de \"prova\" i comprova que arriba correctament:</p> <p></p> <p>Finalment, pots configurar una alerta per, per exemple, notificar-te si el servidor d'Apache no respon durant 1 minut o s'atura. Aix\u00ed, en cas d'incid\u00e8ncia, Grafana et notificar\u00e0 via email.</p> <p></p> <p>I el correu d'alerta s'enviar\u00e0 avisant que el servei s'ha aturat:</p> <p></p> <p>Si es resol la incid\u00e8ncia tamb\u00e9 t'avisar\u00e0.</p> <p></p>"},{"location":"netplan/","title":"Configuraci\u00f3 de Xarxa","text":""},{"location":"netplan/#per-que-configurar-una-xarxa-estatica-o-canviar-la-ip","title":"Per qu\u00e8 configurar una xarxa est\u00e0tica o canviar la IP?","text":"<p>Pot haver-hi diverses raons per voler configurar una IP est\u00e0tica o modificar la configuraci\u00f3 de xarxa, com ara millorar la gesti\u00f3 de dispositius o assegurar-se que una m\u00e0quina sempre utilitza la mateixa adre\u00e7a IP dins d'una xarxa local.</p>"},{"location":"netplan/#metodes-de-configuracio","title":"M\u00e8todes de configuraci\u00f3","text":"<p>Hi ha dues maneres de configurar la xarxa. Una \u00e9s mitjan\u00e7ant la interf\u00edcie gr\u00e0fica (GUI):</p> <p></p> <p>L\u2019altra opci\u00f3 \u00e9s utilitzar Netplan, executant la seg\u00fcent comanda:</p> <pre><code>sudo nano /etc/netplan/\"arxiu\"\n</code></pre> <p></p> <p>Aquest fitxer de configuraci\u00f3 de Netplan defineix una xarxa amb els seg\u00fcents par\u00e0metres:</p> <ul> <li>version: 2: Utilitza la segona versi\u00f3 del format de Netplan.</li> <li>renderer: NetworkManager: La gesti\u00f3 de la xarxa es fa a trav\u00e9s de NetworkManager.</li> <li>enp0s3: Interf\u00edcie de xarxa amb una IP est\u00e0tica <code>10.0.2.19/24</code>.</li> <li>routes: Es defineix una ruta est\u00e0tica amb el gateway <code>10.0.2.1</code>.</li> <li>nameservers: Els servidors DNS s\u00f3n <code>8.8.8.8</code> i <code>1.1.1.1</code>.</li> </ul> <p>L'opci\u00f3 DHCP est\u00e0 desactivada (<code>dhcp4: no</code>), i el fitxer utilitza adreces IP i DNS configurades manualment.</p>"},{"location":"objectius/","title":"Per qu\u00e8 Linux sobre altres sistemes operatius?","text":"<p>Linux s'ha convertit en una opci\u00f3 atractiva tant per a usuaris dom\u00e8stics com per a empreses, gr\u00e0cies als seus m\u00faltiples avantatges respecte a altres sistemes operatius com Windows o macOS.</p>"},{"location":"objectius/#principals-avantatges-de-linux","title":"Principals avantatges de Linux","text":""},{"location":"objectius/#1-codi-obert-i-gratuitat","title":"1. Codi obert i gratu\u00eftat","text":"<p>Linux \u00e9s un sistema operatiu de codi obert, cosa que significa:</p> <ul> <li> <p>Gratu\u00eftat: No hi ha costos de llic\u00e8ncia per utilitzar-lo.</p> </li> <li> <p>Llibertat de personalitzaci\u00f3: Els usuaris poden modificar el sistema operatiu segons les seves necessitats, des del nucli fins a les aplicacions.</p> </li> </ul> <p>A difer\u00e8ncia dels sistemes operatius propietaris, Linux permet una transpar\u00e8ncia total sobre com funciona el sistema.</p>"},{"location":"objectius/#2-gran-varietat-de-distribucions","title":"2. Gran varietat de distribucions","text":"<p>Linux ofereix una \u00e0mplia gamma de distribucions per a diferents necessitats:</p> <ul> <li> <p>Usuaris dom\u00e8stics: Ubuntu, Linux Mint, Fedora.</p> </li> <li> <p>Entorns empresarials: Red Hat Enterprise Linux (RHEL), SUSE Linux Enterprise.</p> </li> <li> <p>Finalitats espec\u00edfiques: Kali Linux per a seguretat inform\u00e0tica, Raspberry Pi OS per a desenvolupament amb hardware de baix cost.</p> </li> </ul> <p>Aquest ventall permet als usuaris triar la distribuci\u00f3 que millor s'adapta als seus requisits i coneixements t\u00e8cnics.</p>"},{"location":"objectius/#3-comunitat-i-documentacio","title":"3. Comunitat i documentaci\u00f3","text":"<p>Linux compta amb una comunitat molt activa i col\u00b7laborativa, que ofereix:</p> <ul> <li> <p>Documentaci\u00f3 extensa: Manual oficials, f\u00f2rums, wikis i guies.</p> </li> <li> <p>Suport gratu\u00eft: Grups d'usuaris i f\u00f2rums com Stack Overflow o Reddit.</p> </li> <li> <p>Resoluci\u00f3 de problemes: Una cerca r\u00e0pida sovint resol qualsevol dubte gr\u00e0cies a la contribuci\u00f3 de la comunitat.</p> </li> </ul>"},{"location":"objectius/#4-seguretat-i-estabilitat","title":"4. Seguretat i estabilitat","text":"<p>Linux \u00e9s reconegut per:</p> <ul> <li> <p>Arquitectura segura: Els permisos d'usuari i el model de seguretat minimitzen els riscos de malware.</p> </li> <li> <p>Estabilitat: Ideal per a servidors i sistemes cr\u00edtics gr\u00e0cies a la seva robustesa i baix risc de fallades.</p> </li> </ul> <p>Aquestes caracter\u00edstiques fan que Linux sigui una opci\u00f3 preferida en entorns empresarials i de servidors.</p>"},{"location":"objectius/#5-linux-i-la-infraestructura-al-nuvol","title":"5. Linux i la infraestructura al n\u00favol","text":"<p>Linux \u00e9s el sistema operatiu dominant en la infraestructura al n\u00favol i els servidors a nivell mundial. La seva pres\u00e8ncia es veu reflectida en:</p> <ul> <li> <p>Supercomputaci\u00f3: Tots els superordinadors de la llista TOP500 executen alguna variant de Linux, consolidant-lo com l'elecci\u00f3 preferida en computaci\u00f3 d'alt rendiment.</p> </li> <li> <p>Servidors web: Segons W3Techs, Linux, juntament amb altres variants basades en Unix, \u00e9s utilitzat per la gran majoria dels servidors web globals.</p> </li> <li> <p>Compatibilitat amb tecnologies modernes: La majoria de contenidors (com Docker) i orquestradors (com Kubernetes) es basen en Linux, fet que el converteix en la base ideal per a la computaci\u00f3 al n\u00favol.</p> </li> <li> <p>Fiabilitat: La seva arquitectura estable i robusta garanteix un alt temps de disponibilitat, imprescindible per a centres de dades.</p> </li> <li> <p>Flexibilitat: Les distribucions de Linux permeten personalitzar i optimitzar el rendiment segons les necessitats espec\u00edfiques de cada organitzaci\u00f3.</p> </li> </ul> <p>Refer\u00e8ncies:</p> <ul> <li> <p>Estad\u00edstiques sobre servidors web - W3Techs</p> </li> <li> <p>Cloud Computing</p> </li> </ul>"},{"location":"objectius/#6-flexibilitat-i-personalitzacio","title":"6. Flexibilitat i personalitzaci\u00f3","text":"<p>Linux permet personalitzar gaireb\u00e9 qualsevol aspecte del sistema, des de la interf\u00edcie gr\u00e0fica fins als processos en segon pla.</p> <ul> <li> <p>Gesti\u00f3 de paquets: Instal\u00b7la nom\u00e9s les aplicacions que necessites amb eines com <code>apt</code>, <code>dnf</code> o <code>pacman</code>.</p> </li> <li> <p>Interf\u00edcie: Tria entre entorns gr\u00e0fics com GNOME, KDE, XFCE o fins i tot treballar nom\u00e9s amb l\u00ednia de comandes.</p> </li> </ul> <p>Atenci\u00f3: Personalitzar Linux implica responsabilitat. Per exemple, executar comandes perilloses com <code>sudo rm -rf /*</code> pot eliminar tots els fitxers del sistema. No executeu aquesta comanda.</p>"},{"location":"objectius/#per-acabar","title":"Per acabar","text":"<p>Linux no nom\u00e9s ofereix un sistema operatiu gratu\u00eft i flexible, sin\u00f3 que tamb\u00e9 \u00e9s la columna vertebral de la majoria de serveis al n\u00favol, data centers i tecnologies modernes. Amb una comunitat activa, opcions de personalitzaci\u00f3 i distribucions per a cada perfil, Linux \u00e9s una opci\u00f3 robusta i eficient per a qualsevol necessitat.</p> <p></p>"},{"location":"packet/","title":"Fixaci\u00f3 de Paquets amb APT a Ubuntu","text":""},{"location":"packet/#introduccio-a-la-fixacio-de-paquets-amb-apt","title":"Introducci\u00f3 a la Fixaci\u00f3 de Paquets amb APT","text":"<p>La fixaci\u00f3 de paquets (o APT pinning) \u00e9s una funcionalitat d'APT, el sistema de gesti\u00f3 de paquets en distribucions basades en Debian com Ubuntu, que permet definir quina versi\u00f3 d'un paquet espec\u00edfic s'ha d'instal\u00b7lar, independentment de les actualitzacions disponibles en altres repositoris o versions del sistema operatiu.  Aquesta t\u00e8cnica \u00e9s \u00fatil quan volem assegurar-nos que un programa espec\u00edfic utilitzi una versi\u00f3 concreta.</p> <p>Quan \u00e9s \u00fatil la fixaci\u00f3 de paquets? - Versions d\u2019aplicacions estables: Quan es necessita una versi\u00f3 espec\u00edfica d'una aplicaci\u00f3 que nom\u00e9s es troba en una altra versi\u00f3 o repositori, com versions de proves o versions inestables.</p>"},{"location":"packet/#comprovar-la-politica-de-paquets-amb-apt-cache-policy","title":"Comprovar la Pol\u00edtica de Paquets amb <code>apt-cache policy</code>","text":"<p>L'eina <code>apt-cache policy</code> permet veure la pol\u00edtica de versions d'un paquet espec\u00edfic, incloent-hi la versi\u00f3 instal\u00b7lada, la versi\u00f3 disponible per instal\u00b7lar i el repositori d'on prov\u00e9 el paquet.</p> <p>Exemple: Comprovaci\u00f3 de la versi\u00f3 de <code>smplayer</code></p> <p>En aquest exemple, s'ha utilitzat la comanda <code>apt-cache policy smplayer</code> per consultar les versions disponibles del paquet <code>smplayer</code>:</p> <pre><code>sudo apt-cache policy smplayer\n</code></pre> <p></p> <p>L'output ens mostra:</p> <ul> <li>Installed: <code>(none)</code> \u2014 No hi ha cap versi\u00f3 instal\u00b7lada de <code>smplayer</code> actualment.</li> <li>Candidate: <code>23.12.0+ds0-1build2</code> \u2014 Aquesta \u00e9s la versi\u00f3 que es proposa instal\u00b7lar si executem <code>sudo apt install smplayer</code>.</li> <li>Version table: La versi\u00f3 <code>23.12.0+ds0-1build2</code> prov\u00e9 del repositori <code>http://es.archive.ubuntu.com/ubuntu</code>, en el component <code>noble/universe</code> per arquitectura <code>amd64</code>, amb una prioritat de <code>500</code>.</li> </ul> <p>\u00das en la Fixaci\u00f3 de Paquets</p> <p>La comanda <code>apt-cache policy</code> \u00e9s \u00fatil en la configuraci\u00f3 de fixaci\u00f3 de paquets, ja que permet veure d\u2019on prov\u00e9 cada versi\u00f3 i la seva prioritat actual. Aix\u00f2 facilita l\u2019elecci\u00f3 d'una versi\u00f3 espec\u00edfica del paquet en les configuracions de fixaci\u00f3.</p>"},{"location":"packet/#com-configurar-la-fixacio-de-paquets","title":"Com configurar la fixaci\u00f3 de paquets","text":"<p>Per configurar la fixaci\u00f3, primer hem d'editar o crear un arxiu dins de <code>/etc/apt/preferences.d/</code> que defineixi les regles de prioritat. Aquesta configuraci\u00f3 pot controlar la versi\u00f3 i repositori preferit per un o m\u00e9s paquets.</p> <p>Exemple de configuraci\u00f3</p> <p>A continuaci\u00f3, es mostra un exemple de fixaci\u00f3 per instal\u00b7lar un paquet anomenat <code>smplayer</code> amb una prioritat espec\u00edfica. Aix\u00f2 assegura que es tri\u00ef una versi\u00f3 espec\u00edfica o que provingui d\u2019un repositori concret.</p> <pre><code>Package: smplayer\nPin: Version 24*\nPin-Priority: 400\n</code></pre> <pre><code>Package: smplayer\nPin: Version 23*\nPin-Priority: 500\n</code></pre>"},{"location":"packet/#afegir-un-ppa-per-a-smplayer","title":"Afegir un PPA per a SMPlayer","text":"<p>Per instal\u00b7lar paquets addicionals que no estan inclosos en els repositoris oficials d\u2019Ubuntu, es poden utilitzar els PPAs (Personal Package Archives). Aquests repositoris s\u00f3n gestionats per desenvolupadors externs i proporcionen versions actualitzades o alternatives de certs programes.</p> <p>En aquest cas, s'ha afegit el PPA <code>ppa:rvm/smplayer</code>, que cont\u00e9 paquets per a SMPlayer. Per completar la instal\u00b7laci\u00f3, primer s\u2019ha d'actualitzar la llista de paquets disponibles amb els paquets nous d'aquest PPA, i despr\u00e9s instal\u00b7lar SMPlayer i altres paquets opcionals relacionats, com ara <code>smtube</code>, <code>smplayer-themes</code>, i <code>smplayer-skins</code>.</p> <pre><code>sudo add-apt-repository ppa:rvm/smplayer\n</code></pre> <p></p> <p>Qu\u00e8 fa cada pas?</p> <ul> <li>Afegir el PPA: Afegeix un nou repositori al sistema que cont\u00e9 les versions espec\u00edfiques del programari, en aquest cas, SMPlayer.</li> <li>Actualitzar la llista de paquets: Permet que el sistema reconegui els nous paquets disponibles des del PPA afegit.</li> <li>Instal\u00b7lar SMPlayer i paquets relacionats: Despr\u00e9s d\u2019actualitzar, es pot instal\u00b7lar SMPlayer i, opcionalment, altres paquets com temes i skins relacionats.</li> </ul> <p>Avantatges de fer servir un PPA</p> <p>Els PPAs s\u00f3n \u00fatils per obtenir versions m\u00e9s recents o paquets especialitzats que poden no estar disponibles en els repositoris oficials d'Ubuntu. Tanmateix, \u00e9s important tenir en compte que els PPAs no estan oficialment suportats per Ubuntu, i per tant poden comportar certs riscos de compatibilitat o estabilitat.</p> <p>Instal\u00b7laci\u00f3 de SMPlayer</p> <p>Per assegurar-nos que la instal\u00b7laci\u00f3 de SMPlayer es realitza amb la prioritat configurada, primer hem d'actualitzar la llista de paquets per garantir que el sistema reconeix els canvis als repositoris.</p> <p>Actualitza la llista de paquets disponibles executant:</p> <pre><code>sudo apt update\n</code></pre> <p>Un cop actualitzada la llista, instal\u00b7la SMPlayer amb la seg\u00fcent comanda:</p> <pre><code>sudo apt install smplayer\n</code></pre> <p>Aquest proc\u00e9s garanteix que la versi\u00f3 de SMPlayer s\u2019instal\u00b7li d\u2019acord amb les prefer\u00e8ncies configurades, incloent-hi qualsevol prioritat que h\u00e0gim definit en la configuraci\u00f3 de fixaci\u00f3 de paquets.</p> <p></p>"},{"location":"particions/","title":"Gesti\u00f3 de Particions i Compartici\u00f3 de Recursos","text":""},{"location":"particions/#creacio-i-muntatge-de-particions","title":"Creaci\u00f3 i muntatge de particions","text":"<p>En aquest apartat aprendrem a crear particions tant en format ext4 com NTFS. Tamb\u00e9 veurem com muntar particions de manera temporal i definitiva.</p> <p>A m\u00e9s, explicarem com utilitzar FSTAB per configurar el muntatge autom\u00e0tic de particions. Finalment, compartirem aquestes particions utilitzant Samba i nautilus-share.</p>"},{"location":"particions/#creacio-de-la-particio-i-formateig","title":"Creaci\u00f3 de la partici\u00f3 i formateig","text":"<p>Primer de tot, comprovem el nom de la nostra partici\u00f3 amb la comanda <code>fdisk -l</code>.</p> <p></p> <p>Nota: En el nostre cas, el disc \u00e9s <code>/dev/sdb</code> (el teu pot ser diferent).</p> <p>Per crear la partici\u00f3, executarem la comanda seg\u00fcent: <code>sudo fdisk /dev/sdb</code>.</p> <pre><code>sudo fdisk /dev/sdb\n</code></pre> <ol> <li>Escriu <code>n</code> per crear una nova partici\u00f3.</li> <li>Selecciona <code>p</code> per crear una partici\u00f3 prim\u00e0ria.</li> <li>Defineix la mida de la partici\u00f3 introduint el sector inicial i la meitat del disc, per exemple 2000000 bytes.</li> <li>Escriu <code>w</code> per guardar els canvis i sortir del programa.</li> </ol> <p></p> <p>Comprovaci\u00f3 de la partici\u00f3</p> <p>Un cop creada la partici\u00f3, comprovem si s'ha creat correctament.</p> <p></p>"},{"location":"particions/#formateig-de-particions-ext4","title":"Formateig de particions EXT4Opcions extres per a <code>mkfs.ext4</code>","text":"<p>Amb la partici\u00f3 creada, procedirem a formatar-la en format ext4.</p> <p>Utilitzarem la seg\u00fcent comanda:</p> <pre><code>sudo mkfs.ext4 -b 2048 /dev/sdb1\n</code></pre> <ul> <li>L'opci\u00f3 <code>-b 2048</code> especifica la mida del bloc que assignem manualment.</li> </ul> <p></p> <p>Opcions extres per mkfs.ext4</p> \u00d7 <p>La comanda:</p> <p><code>mkfs.ext4 /dev/sdb1</code></p> <p>pot incloure les opcions seg\u00fcents:</p> Opcions comunes: <ul> <li><code>-L &lt;etiqueta&gt;</code>: Assigna una etiqueta a la partici\u00f3 (per exemple, \"EXT4_PARTITION\").</li> <pre><code>mkfs.ext4 -L EXT4_PARTITION /dev/sdb1</code></pre> <li><code>-m &lt;percentatge&gt;</code>: Estableix l'espai reservat per a l'usuari root (per defecte \u00e9s el 5%). Utilitza un percentatge m\u00e9s petit per estalviar espai en particions grans.</li> <pre><code>mkfs.ext4 -m 1 /dev/sdb1</code></pre> <li><code>-b &lt;mida-del-bloc&gt;</code>: Especifica la mida del bloc (per exemple, 1024, 2048 o 4096 bytes).</li> <pre><code>mkfs.ext4 -b 4096 /dev/sdb1</code></pre> <li><code>-E &lt;caracter\u00edstiques&gt;</code>: Afegeix opcions extres, com activar la inicialitzaci\u00f3 lenta (lazy initialization) o commits r\u00e0pids.</li> <pre><code>mkfs.ext4 -E lazy_itable_init=1 /dev/sdb1</code></pre> <li><code>-T &lt;\u00fas&gt;</code>: Optimitza per a casos d'\u00fas espec\u00edfics (per exemple, small, largefile, largefile4).</li> <pre><code>mkfs.ext4 -T largefile /dev/sdb1</code></pre> </ul>"},{"location":"particions/#comprovacio-de-la-mida-del-bloc","title":"Comprovaci\u00f3 de la mida del bloc","text":"<p>Fem la comprovaci\u00f3 de la mida del bloc que hem assignat a la partici\u00f3. Per fer-ho, utilitzem la seg\u00fcent comanda: </p> <pre><code>sudo tune2fs -l /dev/sdb1 | grep Block\n</code></pre> <p>Aquest \u00e9s el resultat obtingut:</p> <p></p> <ul> <li>Block count: Indica el nombre total de blocs que t\u00e9 la partici\u00f3, en aquest cas, 499488 blocs.</li> <li>Block size: Mostra la mida del bloc assignada, que \u00e9s 2048 bytes (2 KB).</li> <li>Blocks per group: Indica el nombre de blocs per grup, que \u00e9s 16384.</li> </ul> <p>Conversi\u00f3 a MB</p> <p>La mida total del sistema de fitxers es pot calcular aix\u00ed:</p> <ol> <li> <p>Multipliquem el Block count pel Block size: <code>499488 blocs * 2048 bytes = 1022035968 bytes</code></p> </li> <li> <p>Convertim el resultat a megabytes: <code>1022035968 bytes \u00f7 1024 \u00f7 1024 = 974 MB</code></p> </li> </ol> <p>Aix\u00ed, la mida aproximada de la partici\u00f3 \u00e9s 974 MB.</p>"},{"location":"particions/#formateig-de-particions-ntfs","title":"Formateig de particions NTFSOpcions extres per a <code>mkfs.ntfs</code>","text":"<p>Hem creat una segona partici\u00f3, /dev/sdb2, de 1GB al mateix disc. Aquesta partici\u00f3 es destinar\u00e0 al format NTFS.</p> <p></p> <p>Un cop creades les particions, les hem formatat segons els sistemes de fitxers desitjats:</p> <ul> <li>/dev/sdb1: Formatada amb ext4, un sistema de fitxers ideal per a sistemes Linux.</li> <li>/dev/sdb2: Formatada amb NTFS, un sistema de fitxers compatible amb Windows.</li> </ul> <p>Hem aprofitat per formatar /dev/sdb1 amb ext4 durant el mateix proc\u00e9s.</p> <p></p> <p>Opcions extres per mkfs.ntfs</p> \u00d7 <p>La comanda:</p> <p><code>mkfs.ntfs /dev/sdb2</code></p> <p>pot incloure les opcions seg\u00fcents:</p> Opcions comunes: <ul> <li><code>-L &lt;etiqueta&gt;</code>: Assigna una etiqueta a la partici\u00f3 (per exemple, \"NTFS_PARTITION\").</li> <pre><code>mkfs.ntfs -L NTFS_PARTITION /dev/sdb2</code></pre> <li><code>-c &lt;mida-del-cl\u00faster&gt;</code>: Especifica la mida del cl\u00faster (per exemple, 512, 1024, 2048, 4096 bytes, etc.).</li> <pre><code>mkfs.ntfs -c 4096 /dev/sdb2</code></pre> <li><code>--fast</code>: Realitza un format r\u00e0pid (equivalent a l'opci\u00f3 <code>-Q</code>).</li> <pre><code>mkfs.ntfs --fast /dev/sdb2</code></pre> <li><code>--force</code>: Obliga el format encara que la partici\u00f3 estigui muntada o en \u00fas.</li> <pre><code>mkfs.ntfs --force /dev/sdb2</code></pre> <li><code>-f</code>: Activa el mode r\u00e0pid, formatant la partici\u00f3 sense comprovar si hi ha blocs dolents.</li> <pre><code>mkfs.ntfs -f /dev/sdb2</code></pre> </ul>"},{"location":"particions/#verificacio","title":"Verificaci\u00f3","text":"<p>Un cop formatades, podem verificar el tipus de sistema de fitxers i el muntatge de les particions utilitzant:</p> <pre><code>lsblk -f\n</code></pre> <p></p>"},{"location":"particions/#muntatge-temporal-de-la-carpeta-a-la-particio","title":"Muntatge temporal de la carpeta a la partici\u00f3","text":"<p>Despr\u00e9s, crearem una carpeta i un arxiu dins d'aquesta carpeta.</p> <p></p> <p>Executem la comanda seg\u00fcent:</p> <pre><code>sudo mount -t ext4 /dev/sdb1 /var/partition1/\n</code></pre> <p>Aquesta acci\u00f3 muntar\u00e0 la carpeta dins de <code>/dev/sdb1</code>. </p> <p>Per a l'usuari no \u00e9s visible, per\u00f2 d'aquesta manera ens assegurem que les dades no es perdin si succeeix algun problema amb el disc principal.</p> <p></p> <p>Exemple: Els arxius es guarden a la partici\u00f3 que hem muntat, per\u00f2 els arxius que pr\u00e8viament hem creat a <code>/partition1/</code> no s'han esborrat. En realitat, aquests arxius queden \"ocults\", ja que la carpeta <code>/partition1/</code> est\u00e0 muntada sobre la partici\u00f3 <code>/dev/sdb1</code>. Quan desmuntem la partici\u00f3, els arxius locals tornen a ser visibles.</p> <p></p> <p>Explicaci\u00f3 de la captura</p> <ol> <li> <p><code>ls partition1/</code>: Llistem el contingut del directori <code>partition1/</code>. Inicialment nom\u00e9s apareix el directori <code>lost+found</code>, que es crea autom\u00e0ticament en particions formatades amb ext4.</p> </li> <li> <p><code>touch partition1/bye</code>: Creem un fitxer buit anomenat <code>bye</code> dins de la carpeta muntada <code>partition1/</code>.</p> </li> <li> <p><code>umount /dev/sdb1</code>: Desmuntem la partici\u00f3 <code>/dev/sdb1</code>, fent que el contingut de la partici\u00f3 deixi d'estar accessible.</p> </li> <li> <p><code>ls partition1/</code>: Tornem a llistar el contingut de la carpeta. Ara no apareix el fitxer <code>bye</code>, ja que aquest estava dins de la partici\u00f3 muntada i aquesta ja no est\u00e0 accessible.</p> </li> <li> <p><code>ls partition1/</code> despr\u00e9s de desmuntar: Aqu\u00ed es mostren nom\u00e9s els fitxers que pertanyen al directori local, fora del sistema de fitxers muntat. Quan es desmunta, el contingut de la partici\u00f3 queda separat del directori. Aix\u00f2 demostra com el muntatge i desmuntatge funcionen per accedir al contingut de particions.</p> </li> </ol> <p>Nota: Tornem a muntar la carpeta amb la comanda anterior.</p> <p>Comprovem que la partici\u00f3 existeix utilitzant la comanda <code>df -T</code>.</p> <p></p> <p>S'observa que la partici\u00f3 est\u00e0 present. Despr\u00e9s, reiniciem la m\u00e0quina per assegurar-nos que tot funciona correctament.</p> <p>En fer la comprovaci\u00f3 despr\u00e9s del reinici, observem que la partici\u00f3 ja no est\u00e0 muntada. Aix\u00f2 es deu al fet que la carpeta estava muntada de forma temporal i no de manera permanent.</p> <p></p>"},{"location":"particions/#muntatge-permanent-de-la-carpeta-a-la-particio","title":"Muntatge Permanent de la carpeta a la partici\u00f3Explicaci\u00f3 de la l\u00ednia en el rectangle vermellOpcions extres que es poden afegir al FSTAB","text":"<p>Per fer que el muntatge sigui permanent, cal editar el fitxer <code>/etc/fstab</code> afegint els par\u00e0metres necessaris.</p> <p></p> <p>IMPORTANT! Tingues molta cura amb les modificacions en aquest fitxer, ja que un error pot fer que el sistema no arranqui. Si aix\u00f2 succeeix, haur\u00e0s d'utilitzar un Live Boot per reparar el fitxer FSTAB.</p> <p>Explicaci\u00f3 del FSTAB (Fes clic)</p> <p>Opcions extres per FSTAB (Fes clic)</p> \u00d7 <p><code>/dev/sdb1 /var/particio1 ext4 defaults 0 0</code></p> <ul> <li><code>/dev/sdb1</code>: Indica la partici\u00f3 que volem muntar (en aquest cas, sdb1).</li> <li><code>/var/particio1</code>: El punt de muntatge, \u00e9s a dir, el directori on es muntar\u00e0 la partici\u00f3.</li> <li><code>ext4</code>: El sistema de fitxers utilitzat per la partici\u00f3.</li> <li><code>defaults</code>: Opcions de muntatge predeterminades, que inclouen:       <ul> <li>Lectura i escriptura (rw).</li> <li>Muntar amb permisos de l'usuari.</li> <li>Sincronitzaci\u00f3 per defecte.</li> </ul> </li> <li><code>0 0</code>:        <ul> <li>El primer n\u00famero (0) indica si es fa un \"dump\" de la partici\u00f3 per c\u00f2pies de seguretat (0 = no fer-ho).</li> <li>El segon n\u00famero (0) indica si es comprova la partici\u00f3 durant l'inici del sistema (0 = no comprovar).</li> </ul> </li> </ul> \u00d7 <ol> <li><code>noatime</code>: Desactiva l'actualitzaci\u00f3 de l'hora d'acc\u00e9s als fitxers. Millora el rendiment, especialment en discos SSD.</li> <li><code>nodiratime</code>: Similar a <code>noatime</code>, per\u00f2 nom\u00e9s per directoris.</li> <li><code>errors=remount-ro</code>: En cas d'error, la partici\u00f3 es remunta en mode nom\u00e9s lectura per evitar danys.</li> <li><code>sync</code>: Escriu immediatament els canvis al disc, en lloc de mantenir-los en mem\u00f2ria cau.</li> <li><code>user</code>: Permet que qualsevol usuari pugui muntar i desmuntar la partici\u00f3.</li> <li><code>uid=1000,gid=1000</code>: Assigna un identificador d'usuari i grup espec\u00edfic per als fitxers i directoris de la partici\u00f3.</li> <li><code>acl</code>: Activa les llistes de control d'acc\u00e9s per gestionar permisos avan\u00e7ats.</li> <li><code>noexec</code>: Evita l'execuci\u00f3 de fitxers binaris a la partici\u00f3.</li> <li><code>nosuid</code>: Desactiva els permisos especials <code>setuid</code> i <code>setgid</code> a la partici\u00f3.</li> <li><code>ro</code>: Muntar la partici\u00f3 en mode nom\u00e9s lectura.</li> </ol> <p>Aquestes opcions es poden combinar segons les necessitats, per exemple:</p> <p><code>/dev/sdb1 /var/particio1 ext4 defaults,noatime,nosuid 0 0</code></p> <p>Despr\u00e9s de reiniciar el sistema, utilitzem la comanda <code>df -T</code> per verificar l'estat de la partici\u00f3. </p> <p>Podem observar que la partici\u00f3 es munta autom\u00e0ticament en iniciar la sessi\u00f3 gr\u00e0cies a la configuraci\u00f3 del fitxer <code>/etc/fstab</code>.</p> <p></p>"},{"location":"particions/#comparticio-de-fitxers-en-xarxa","title":"Compartici\u00f3 de Fitxers en Xarxa","text":"<p>Hi ha diverses maneres de compartir fitxers en xarxa, per\u00f2 en aquest exemple utilitzarem Nautilus-share i Samba.</p> <p>Qu\u00e8 significa compartir arxius en xarxa?</p> <p>Compartir arxius en xarxa permet que diferents dispositius connectats a la mateixa xarxa accedeixin a fitxers o carpetes des d'un ordinador central. Aix\u00f2 facilita l'intercanvi de dades sense necessitat de copiar fitxers manualment amb dispositius externs, com USB o discs durs. \u00c9s una soluci\u00f3 molt \u00fatil en entorns dom\u00e8stics o d'oficina per col\u00b7laborar, gestionar recursos i estalviar temps.</p> <p>Amb aquest proc\u00e9s, es poden configurar permisos perqu\u00e8 nom\u00e9s usuaris espec\u00edfics tinguin acc\u00e9s, garantint la seguretat i el control sobre els fitxers.</p>"},{"location":"particions/#nautilus-share","title":"Nautilus-Share","text":"<p>Hem creat una carpeta anomenada partition1 dins del directori /var/, i ara la compartirem a trav\u00e9s de la xarxa utilitzant Nautilus.</p> <p></p> <p>Primer de tot, cal instal\u00b7lar Nautilus-share amb la seg\u00fcent comanda:</p> <pre><code>sudo apt install nautilus-share\n</code></pre> <p>Un cop creada la carpeta partition1, \u00e9s necessari ajustar els permisos i el propietari per facilitar l'acc\u00e9s a altres usuaris.</p> <ol> <li> <p>Permisos 777:    Els permisos 777 atorguen m\u00e0xima flexibilitat, ja que permeten a qualsevol usuari llegir, escriure i executar els fitxers dins de la carpeta. Aquesta configuraci\u00f3 \u00e9s \u00fatil quan es vol garantir acc\u00e9s total, per\u00f2 s'ha d'usar amb precauci\u00f3, especialment en entorns on la seguretat \u00e9s priorit\u00e0ria.</p> </li> <li> <p>Propietari nobody:nogroup:    Assignar nobody:nogroup com a propietari de la carpeta fa que no estigui associada a cap usuari o grup espec\u00edfic. Aix\u00f2 significa que qualsevol persona que accedeixi a la xarxa podr\u00e0 interactuar amb els fitxers dins de la carpeta.</p> </li> </ol> <p>Nota: Aquesta configuraci\u00f3 \u00e9s adequada per a entorns on la seguretat no \u00e9s una preocupaci\u00f3 principal. En sistemes m\u00e9s restringits, \u00e9s recomanable ajustar els permisos i propietaris segons les necessitats espec\u00edfiques de seguretat.</p> <p></p> <p>Obrir Nautilus amb permisos d'administrador: Obrim un terminal i escrivim <code>sudo nautilus</code>. Esperem que s'obri l'explorador de fitxers.</p> <p>Localitzar la carpeta: Ens dirigim al directori /var/ i localitzem la carpeta partition1 que hem creat pr\u00e8viament.</p> <p></p> <p>Opci\u00f3 de compartir: Fem clic dret a la carpeta que volem compartir i seleccionem l'opci\u00f3 Sharing Options.</p> <p></p> <p>Configuraci\u00f3 de la compartici\u00f3: Apareixer\u00e0 una finestra per configurar la compartici\u00f3 de la carpeta. Habilitem les opcions que desitgem (com \"Compartir aquesta carpeta\") i fem clic a Modify Share.</p> <p></p> <p>Acc\u00e9s des d'un altre dispositiu:  </p> <ul> <li> <p>Verifiquem la IP de la nostra m\u00e0quina amb la comanda <code>ip -a</code>.</p> </li> <li> <p>Ens dirigim a un altre ordinador de la mateixa xarxa i escrivim a la barra de cerca del gestor de fitxers: <code>smb://la-ip-de-la-maquina/</code>. </p> </li> <li> <p>Per exemple, en aquest cas: <code>smb://192.168.1.18/</code>.</p> </li> </ul> <p></p> <p>En fer doble clic a la carpeta partition1, se'ns demanaran credencials d'acc\u00e9s. Si disposem de credencials, les podem utilitzar, per\u00f2 com que hem configurat l'acc\u00e9s com a \"Guest\", podem seleccionar l'opci\u00f3 Anonymous.</p> <p></p> <p>Un cop connectats, ja podem crear, visualitzar i esborrar arxius i carpetes dins de partition1.</p> <p></p> <p>Si ens dirigim a la m\u00e0quina des d'on hem compartit el fitxer, podem comprovar si s'ha creat la nova carpeta.</p> <p>En efecte, la carpeta s'ha creat amb el nom del propietari \"nobody:nogroup\", tal com hem configurat pr\u00e8viament.</p> <p></p>"},{"location":"particions/#samba","title":"Samba","text":""},{"location":"particions/#que-es-samba","title":"\u00bfQu\u00e8 \u00e9s Samba?","text":"<p>Samba \u00e9s una implementaci\u00f3 de programari lliure del protocol SMB/CIFS (Server Message Block/Common Internet File System) que permet la compartici\u00f3 de fitxers, carpetes i impressores entre ordinadors que utilitzen diferents sistemes operatius, com Linux, Windows i macOS. </p> <p>Samba s\u2019utilitza principalment en entorns mixtos, on cal que m\u00e0quines amb Linux puguin interactuar amb sistemes Windows per compartir recursos de xarxa. \u00c9s una eina clau per integrar sistemes operatius i facilitar la col\u00b7laboraci\u00f3 en xarxes locals.</p> <p>Funcions principals de Samba:</p> <ul> <li>Compartir fitxers i carpetes: Permet que ordinadors d'una xarxa accedeixin a recursos compartits, com carpetes o unitats de disc.</li> <li>Compartir impressores: Facilita l'acc\u00e9s a impressores configurades en altres dispositius.</li> <li> <p>Autenticaci\u00f3 i permisos: Proporciona eines per gestionar usuaris, grups i permisos d'acc\u00e9s.</p> </li> <li> <p>Integraci\u00f3 amb Windows: Samba pot actuar com un controlador de domini per a entorns Windows, gestionant autenticacions i serveis.</p> </li> </ul> <p>Avantatges de Samba:</p> <ul> <li>Multiplataforma: Funciona en xarxes amb diversos sistemes operatius.</li> <li>Flexibilitat: Configurable per adaptar-se a diferents necessitats (compartici\u00f3 p\u00fablica, acc\u00e9s restringit, etc.).</li> <li>Gratu\u00eft i de codi obert: Est\u00e0 disponible sense cost i amb suport d\u2019una comunitat activa.</li> </ul> <p>Exemple d'\u00fas:</p> <p>Un servidor Linux amb Samba pot permetre que usuaris de Windows accedeixin a fitxers i carpetes com si es trobessin en un servidor Windows, sense necessitat de canviar el sistema operatiu o les eines utilitzades.</p> <p>Nota sobre Kerberos:</p> <p>En configuracions simples, Samba no requereix l'\u00fas de Kerberos per compartir fitxers entre Linux i Windows. No obstant aix\u00f2, en entorns empresarials o quan es necessita integraci\u00f3 amb Active Directory, Kerberos es fa necessari per gestionar l'autenticaci\u00f3 segura. Aix\u00f2 permet un acc\u00e9s centralitzat i segur als recursos compartits en xarxes complexes.</p>"},{"location":"particions/#instalacio-i-configuracio-del-samba","title":"Instalaci\u00f3 i Configuraci\u00f3 del Samba.","text":"<p>Executem la comanda <code>sudo apt install samba</code>.</p> <pre><code>sudo apt install samba\n</code></pre> <p></p> <p>Posteriorment configurem el arxiu del smb.conf i afegir les linies que tenim a continuaci\u00f3.</p> <pre><code>sudo nano /etc/samba/smb.conf\n</code></pre> <p></p> <p>Explicaci\u00f3 de la configuraci\u00f3 de Samba (Fes clic)</p> \u00d7 Explicaci\u00f3 de la configuraci\u00f3 en vermell al fitxer <code>smb.conf</code> <p>Aquesta configuraci\u00f3, dins del fitxer <code>/etc/samba/smb.conf</code>, defineix una carpeta compartida i els permisos associats per a la seva compartici\u00f3 a trav\u00e9s de Samba. Analitzem les l\u00ednies destacades en vermell:</p> <ul> <li><code>path = /var/particio1</code>: Especifica el cam\u00ed complet al directori que es vol compartir. En aquest cas, la carpeta \u00e9s <code>/var/particio1</code>.</li> <li><code>guest ok = yes</code>: Permet que usuaris no autenticats (convidats) accedeixin a aquesta carpeta. Aix\u00f2 \u00e9s \u00fatil si es vol oferir un acc\u00e9s senzill, per\u00f2 s'ha d'utilitzar amb precauci\u00f3 en xarxes p\u00fabliques.</li> <li><code>directory mask = 0755</code>: Estableix els permisos per als directoris dins de la carpeta compartida.         <ul> <li><code>0755</code> permet:</li> <ul> <li>Lectura, escriptura i execuci\u00f3 per al propietari.</li> <li>Nom\u00e9s lectura i execuci\u00f3 per a altres usuaris i grups.</li> </ul> </ul> </li> <li><code>create mask = 0644</code>: Defineix els permisos per als fitxers que es cre\u00efn dins de la carpeta compartida.         <ul> <li><code>0644</code> permet:</li> <ul> <li>Lectura i escriptura per al propietari.</li> <li>Nom\u00e9s lectura per a altres usuaris i grups.</li> </ul> </ul> </li> <li><code>browseable = yes</code>: Permet que la carpeta aparegui com a visible (explorable) per als clients de xarxa. Si es posa a <code>no</code>, la carpeta encara es pot accedir, per\u00f2 no es mostrar\u00e0 en navegadors de xarxa.</li> <li><code>read list = diego</code>: Defineix que l'usuari <code>diego</code> t\u00e9 permisos nom\u00e9s de lectura a la carpeta compartida. Aquest usuari pot veure i obrir fitxers, per\u00f2 no editar-los ni crear-ne de nous.</li> <li><code>write list = diego</code>: Afegeix l'usuari <code>diego</code> a la llista d'usuaris amb permisos d'escriptura. Aquest par\u00e0metre li permet crear, modificar i eliminar fitxers dins de la carpeta compartida.</li> </ul> <p>Resum: Aquesta configuraci\u00f3 comparteix la carpeta <code>/var/particio1</code> amb els seg\u00fcents par\u00e0metres:</p> <ul> <li>Acc\u00e9s de convidats: Perm\u00e8s (qualsevol pot accedir).</li> <li>Permisos per defecte: <ul> <li>Directoris: Lectura, escriptura i execuci\u00f3 per al propietari.</li> <li>Fitxers: Lectura i escriptura per al propietari.</li> </ul> </li> <li>Usuari espec\u00edfic (<code>diego</code>): T\u00e9 permisos tant de lectura com d'escriptura.</li> </ul> <p>Nota: Aquesta configuraci\u00f3 s'ha d'ajustar segons les necessitats espec\u00edfiques de seguretat i privadesa de la xarxa.</p>"},{"location":"particions/#compartir-un-directori-amb-samba","title":"Compartir un directori amb Samba","text":"<p>Primer, crearem el directori /var/partition1/ i configurarem els permisos i el propietari per garantir que sigui accessible a tots els usuaris.</p> <ol> <li> <p>Creaci\u00f3 de la carpeta:    El directori partition1/ es crear\u00e0 dins del directori /var/.</p> </li> <li> <p>Permisos 777:    Assignarem permisos 777 al directori per permetre que qualsevol usuari pugui llegir, escriure i executar fitxers dins d'aquest.  </p> </li> <li>Lectura (r): Permet veure el contingut dels fitxers.</li> <li>Escriptura (w): Permet modificar o crear fitxers.</li> <li> <p>Execuci\u00f3 (x): Permet accedir a directoris i executar fitxers.</p> </li> <li> <p>Propietari nobody:nogroup:    Canviarem el propietari del directori a nobody:nogroup perqu\u00e8 no estigui associat a cap usuari o grup espec\u00edfic. Aix\u00f2 garanteix que qualsevol persona pugui accedir als recursos compartits sense restriccions.</p> </li> </ol> <p></p> <p>Per aquest exemple, crearem un usuari anomenat diego.</p> <p>Nota: Si necessites m\u00e9s informaci\u00f3 sobre com es creen usuaris, visita l'apartat de creaci\u00f3 d'usuaris a la seg\u00fcent ruta: Gesti\u00f3 d'usuaris: Afegir un nou usuari</p> <p>Afegir l'usuari a Samba amb <code>smbpasswd</code></p> <p>La comanda <code>smbpasswd -a diego</code> s'utilitza per afegir l'usuari <code>diego</code> al sistema de gesti\u00f3 d'usuaris de Samba. Aquesta comanda permet que l'usuari pugui accedir als recursos compartits configurats a trav\u00e9s de Samba.</p> <p></p> <p>Pas a pas del proc\u00e9s:</p> <p>Assignaci\u00f3 d'una contrasenya SMB:</p> <ul> <li>Es demana a l'administrador que introdueixi i confirmi una contrasenya per a l'usuari <code>diego</code>.</li> <li>Aquesta contrasenya ser\u00e0 utilitzada espec\u00edficament per autenticar-se als recursos compartits de Samba.</li> </ul> <p>Afegir l'usuari a la base de dades de Samba:</p> <ul> <li>L'usuari <code>diego</code> es registra a la base de dades d'usuaris de Samba.</li> <li>Aix\u00f2 permet que tingui acc\u00e9s a les carpetes compartides segons els permisos configurats al fitxer <code>smb.conf</code>.</li> </ul> <p>Nota: Aquest proc\u00e9s no afecta els permisos ni les contrasenyes del sistema Linux de l'usuari, ja que la base de dades d'usuaris de Samba \u00e9s independent.</p> <p>Reiniciar el servei de Samba: Despr\u00e9s de configurar el fitxer <code>smb.conf</code>, cal reiniciar els serveis de Samba perqu\u00e8 els canvis es facin efectius.  </p> <ul> <li><code>systemctl restart smbd</code>: Reinicia el servei que gestiona la compartici\u00f3 de fitxers i autenticaci\u00f3 d\u2019usuaris.  </li> <li><code>systemctl restart nmbd</code>: Reinicia el servei que gestiona el servei de noms i la descoberta de recursos en la xarxa.</li> </ul> <p></p> <p>Connexi\u00f3 des d'un altre ordinador: En un altre dispositiu de la mateixa xarxa, obrim el gestor de fitxers i introdu\u00efm l'adre\u00e7a IP del servidor Samba al camp de cerca, seguint aquest format: <code>smb://&lt;IP_del_ordinador&gt;</code></p> <p>Consell: Si no saps quina \u00e9s la IP del servidor, pots consultar-la executant la comanda ip -a al servidor Samba.</p> <p></p> <p>Introduir les credencials: Quan es demanin credencials, introdu\u00efm el nom d'usuari i la contrasenya que hem configurat pr\u00e8viament per Samba. En aquest exemple, introdu\u00efm les credencials de l'usuari Diego.</p> <p></p> <p>Provar la connexi\u00f3: Un cop connectats, intentem crear un fitxer o carpeta dins del recurs compartit per assegurar-nos que tenim els permisos necessaris.</p> <p></p> <p>Comprovaci\u00f3 al servidor: Tornem al servidor i comprovem que el fitxer o carpeta que hem creat est\u00e0 correctament desat al directori /var/particio1/.</p> <p></p> <p>Verificaci\u00f3 del propietari: En efecte, el fitxer creat t\u00e9 com a propietari l'usuari Diego, tal com s'ha configurat en el fitxer <code>smb.conf</code>.</p>"},{"location":"particions/#compartir-un-directori-formatat-amb-ntfs-mitjancant-samba","title":"Compartir un directori formatat amb NTFS mitjan\u00e7ant Samba","text":"<p>Tamb\u00e9 \u00e9s possible compartir un directori formatat amb NTFS utilitzant Samba. A continuaci\u00f3, es detallen els passos principals:</p> <p>Crear i muntar el directori</p> <p>S'ha creat un directori anomenat Windows al cam\u00ed /var/Windows. A continuaci\u00f3, s'ha configurat l'arxiu /etc/fstab per tal de muntar autom\u00e0ticament la partici\u00f3 /dev/sdb2 al directori /var/Windows durant l'arrencada del sistema.</p> <p>En l'arxiu fstab, s'ha afegit la configuraci\u00f3 adequada per a la partici\u00f3 NTFS, assegurant que aquesta es muntar\u00e0 correctament sempre que el sistema s'inici\u00ef.</p> <p></p> <p>Configurar Samba per compartir el directori</p> <p>Per compartir el directori Windows mitjan\u00e7ant Samba, s'ha editat l'arxiu /etc/samba/smb.conf per afegir una configuraci\u00f3 espec\u00edfica. Aquesta configuraci\u00f3 permet que el directori sigui visible a la xarxa, navegable i amb permisos adequats per als usuaris.</p> <p>Els par\u00e0metres inclouen opcions com la visibilitat de la carpeta a la xarxa, els permisos d'escriptura i l'acc\u00e9s per a convidats.</p> <p></p> <p>Un cop realitzada aquesta configuraci\u00f3, s'han reiniciat els serveis de Samba perqu\u00e8 els canvis s'apliquin correctament.</p> <p>Resum del proc\u00e9s</p> <ul> <li>S'ha creat la partici\u00f3 /dev/sdb2.</li> <li>La partici\u00f3 s'ha formatat amb el sistema de fitxers NTFS.</li> <li>S'ha muntat la carpeta /var/Windows a la partici\u00f3 /dev/sdb2.</li> <li>S'ha configurat Samba per compartir aquesta carpeta, permetent l'acc\u00e9s des d'altres dispositius de la xarxa.</li> </ul> <p></p> <p>Amb aquests passos, el directori Windows \u00e9s accessible a la xarxa mitjan\u00e7ant Samba, amb permisos adequats per als usuaris.</p> <p>Un cop configurat Samba i compartit el directori Windows, comprovem que \u00e9s possible crear arxius des d'un ordinador Windows.</p> <p>Creaci\u00f3 d'arxius des de Windows</p> <p>Des de l'ordinador Windows, accedim al recurs compartit i creem un fitxer per comprovar que tenim permisos d'escriptura adequats.</p> <p></p> <p>Verificaci\u00f3 des de Linux</p> <p>Tornem a la m\u00e0quina Linux i comprovem que el fitxer creat des de Windows apareix correctament al directori /var/Windows.</p> <p></p>"},{"location":"permisos_especials/","title":"Permisos Especials i ACL","text":""},{"location":"permisos_especials/#permisos-normals-uog","title":"Permisos Normals UOG","text":"<p>Els permisos \"normals\" en Linux es gestionen amb les comandes <code>chown</code>, <code>chgrp</code> i <code>chmod</code>. Aquesta taula mostra les comandes principals i el que fan</p> Comanda Descripci\u00f3 chown [-R] Canvia el propietari d\u2019un fitxer o carpeta. chgrp [-R] Canvia el grup propietari d\u2019un fitxer o carpeta. chmod [-R] Modifica els permisos d\u2019un fitxer o carpeta."},{"location":"permisos_especials/#modes-de-permisos","title":"Modes de permisos","text":"<p>Cada fitxer o carpeta pot tenir permisos assignats per l'usuari (u), el grup (g) i altres (o). Aquesta taula defineix els valors dels permisos</p> Mode Permisos 0 --- 1 --x 2 -w- 3 -wx 4 r-- 5 r-x 6 rw- 7 rwx"},{"location":"permisos_especials/#umask","title":"UMASK","text":"<p>La <code>umask</code> \u00e9s un valor que defineix els permisos predeterminats dels fitxers i directoris nous. Aquesta taula mostra com s'apliquen aquests valors:</p> Configuraci\u00f3 Directori Fitxers Original 777 666 Umask 022 022 Resultat 755 644 <p>Explicaci\u00f3: Sense cap canvi en la configuraci\u00f3 predeterminada de la <code>umask</code>, tots els fitxers creats per l'usuari root obtindran permisos 644 (666 - 022), i tots els directoris obtindran permisos 755 (777 - 022).</p>"},{"location":"permisos_especials/#com-funciona-la-umask","title":"Com funciona la <code>umask</code>?","text":"<p>La <code>umask</code> no funciona per resta aritm\u00e8tica, sin\u00f3 bit a bit, apagant (desactivant) els permisos corresponents. Cada bit del valor predeterminat interacciona amb el bit equivalent de la <code>umask</code>. </p>"},{"location":"permisos_especials/#exemple-de-calcul-per-a-fitxers","title":"Exemple de c\u00e0lcul per a fitxers","text":"<p>Per calcular els permisos per a fitxers, seguim aquests passos:</p> Pas Permisos Binari Predeterminats <code>666</code> <code>110 110 110</code> Umask <code>022</code> <code>000 010 010</code> NOR de l'Umask Negaci\u00f3 <code>111 101 101</code> Resultat (AND) C\u00e0lcul final <code>110 100 100</code> <p>Els permisos resultants s\u00f3n 644: - Propietari: pot llegir i escriure. - Grup i altres: nom\u00e9s poden llegir.</p>"},{"location":"permisos_especials/#exemple-de-calcul-per-a-directoris","title":"Exemple de c\u00e0lcul per a directoris","text":"<p>Per calcular els permisos per a directoris, seguim aquests passos:</p> Pas Permisos Binari Predeterminats <code>777</code> <code>111 111 111</code> Umask <code>022</code> <code>000 010 010</code> NOR de l'Umask Negaci\u00f3 <code>111 101 101</code> Resultat (AND) C\u00e0lcul final <code>111 101 101</code> <p>Els permisos resultants s\u00f3n 755: - Propietari: pot llegir, escriure i executar. - Grup i altres: nom\u00e9s poden llegir i executar.</p>"},{"location":"permisos_especials/#explicacio-visual-del-proces","title":"Explicaci\u00f3 Visual del Proc\u00e9s","text":"<ol> <li>NOR (Negaci\u00f3): S'inverteixen els bits de l'Umask.    Exemple: <code>~000 010 010</code> \u2192 <code>111 101 101</code>.</li> <li>AND (Intersecci\u00f3): Es combinen els permisos predeterminats amb el resultat de la NOR.    Exemple: <code>110 110 110</code> AND <code>111 101 101</code> \u2192 <code>110 100 100</code>.</li> </ol> Tipus Original Umask Resultat Fitxers <code>666</code> (110 110 110) <code>022</code> (000 010 010) <code>644</code> (110 100 100) Directoris <code>777</code> (111 111 111) <code>022</code> (000 010 010) <code>755</code> (111 101 101)"},{"location":"permisos_especials/#permisos-especials","title":"Permisos Especials","text":"<p>Els permisos especials com <code>sticky</code>, <code>suid</code> i <code>sgid</code> permeten funcionalitats addicionals en fitxers o carpetes. La taula seg\u00fcent explica cadascun d'ells:</p> Perm\u00eds Comanda Descripci\u00f3 sticky chmod 1 +t Bloqueja la modificaci\u00f3 d\u2019arxius per altres usuaris. suid chmod 4 u+s Executa amb privilegis del propietari. sgid chmod 2 g+s Executa amb privilegis del grup."},{"location":"permisos_especials/#acls-access-control-lists","title":"ACLs (Access Control Lists)","text":"<p>Les ACLs permeten definir permisos m\u00e9s granulars que els permisos \"normals\". Aquestes comandes permeten gestionar-les:</p> Comanda Descripci\u00f3 getfacl Mostra les ACLs del fitxer/carpeta. setfacl -m Defineix permisos ACL. setfacl -b Esborra les ACLs del fitxer/carpeta."},{"location":"quotes_disc/","title":"Quotes per a Usuaris i Grups","text":""},{"location":"quotes_disc/#que-son-les-quotes-de-disc","title":"Qu\u00e8 s\u00f3n les QUOTES de disc?","text":"<p>Les quotes de disc s\u00f3n una eina essencial per limitar i gestionar l'espai d'emmagatzematge utilitzat per usuaris i grups en un sistema Linux. Aquestes permeten prevenir l'\u00fas excessiu d'espai de disc, assegurant que cap usuari o grup monopolitzi els recursos del sistema.</p> <p>En aquest apartat aprendrem:</p> <ul> <li> <p>Qu\u00e8 s\u00f3n les quotes de disc i per qu\u00e8 s\u00f3n \u00fatils.</p> </li> <li> <p>Com assignar quotes a usuaris individuals.</p> </li> <li> <p>Com configurar quotes per a grups.</p> </li> <li> <p>Com monitoritzar les quotes i configurar notificacions autom\u00e0tiques.</p> </li> </ul>"},{"location":"quotes_disc/#aplicar-quotes","title":"Aplicar quotes","text":"<p>Primerament, instal\u00b7lem <code>quota</code> utilitzant la seg\u00fcent comanda:</p> <pre><code>apt install quota\n</code></pre> <p>Hem creat una partici\u00f3 <code>/dev/sdb1</code> i posteriorment hem muntat la carpeta <code>/mnt/dades</code> editant el fitxer <code>fstab</code>.</p> <p>Atenci\u00f3! Molt de compte amb el fitxer <code>fstab</code>. Si introdueixes alguna configuraci\u00f3 incorrecta, el sistema pot no arrencar i haur\u00e0s de reparar-lo manualment.</p> <p></p> <p>Afegim les opcions <code>defaults,usrquota,grpquota</code>. Aix\u00f2 habilitar\u00e0 les quotes tant per a grups com per a usuaris.</p> <p>Despr\u00e9s de configurar-ho, reiniciem el sistema perqu\u00e8 el muntatge s'apliqui correctament.</p>"},{"location":"quotes_disc/#activar-quotes-en-un-directori","title":"Activar Quotes en un Directori","text":"<p>Un cop el sistema estigui en marxa, comprovem si els fitxers de quota existeixen executant:</p> <ul> <li><code>quotacheck -cug /mnt/dades</code> </li> <li><code>quotaon /mnt/dades</code> </li> </ul> <p>Aquests passos verificaran i activaran les quotes.</p> <p></p> <p>Nota! Si no veus els fitxers <code>aquota.group</code> i <code>aquota.user</code>, pots for\u00e7ar-ne la creaci\u00f3 amb: <code>quotacheck -cugm /mnt/dades</code> i posteriorment activar-los amb <code>quotaon /mnt/dades</code>.</p>"},{"location":"quotes_disc/#aplicar-quotes-a-un-usuari","title":"Aplicar quotes a un usuari","text":"<p>Per assignar quotes als usuaris, existeixen dues maneres. Una d'elles \u00e9s utilitzant <code>edquota -u + nom</code>, que permet editar manualment les quotes assignades a un usuari.</p> <pre><code>edquota -u \"exemple\"\n</code></pre> <p></p> <ul> <li>Blando o Soft: Indica el l\u00edmit tou, que l'usuari pot excedir durant el per\u00edode de gr\u00e0cia.  </li> <li>Duro o Hard: Representa el l\u00edmit m\u00e0xim que no es pot excedir.</li> </ul> <p>Configura aquests valors segons les necessitats de cada usuari.</p> <p>Una altra manera d'assignar quotes \u00e9s amb la seg\u00fcent comanda:</p> <pre><code>setquota -u vitaliy 1024 2048 0 0 /mnt/dades\n</code></pre> <p>Aquesta comanda fa el mateix que l'edici\u00f3 manual amb <code>edquota</code>, per\u00f2 no cal entrar dins del fitxer ni modificar-lo manualment.</p>"},{"location":"quotes_disc/#exemple","title":"Exemple","text":"<p>En aquesta secci\u00f3, expliquem com assignar quotes als usuaris amb exemples pr\u00e0ctics.</p> <p></p> <p>Nota: Si l'usuari no pot escriure executa <code>chmod 777 /mnt/dades</code>.</p> <p>Explicaci\u00f3 de la Captura</p> \u00d7 Explicaci\u00f3 Pas a Pas de la Captura <p>A la captura de pantalla es mostren els passos seg\u00fcents per aplicar quotes a un usuari:</p> <ol> <li> <code>setquota -u vitaliy 1024 2048 0 0 /mnt/dades</code> <p>Aquesta comanda assigna una quota a l'usuari <code>vitaliy</code>:</p> <ul> <li>1024: L\u00edmit tou (soft limit) de 1 MB.</li> <li>2048: L\u00edmit dur (hard limit) de 2 MB.</li> <li>0 0: No s'assigna cap l\u00edmit per als inodes.</li> </ul> </li> <li> <code>repquota -a</code> <p>Comprova les quotes del sistema. Al principi nom\u00e9s apareix l'usuari <code>root</code> amb un \u00fas m\u00ednim d'espai.</p> </li> <li> Inici de sessi\u00f3 com a usuari <code>vitaliy</code> <p>L'usuari <code>vitaliy</code> crea un directori i un fitxer per consumir espai:</p> <ul> <li><code>mkdir hello</code>: Crea un directori anomenat \"hello\".</li> <li><code>touch hello</code>: Crea un fitxer buit.</li> </ul> </li> <li> Comprovaci\u00f3 de quotes despr\u00e9s de l'activitat <p>Es torna a executar <code>repquota -a</code> per verificar l'\u00fas actualitzat de l'usuari:</p> <ul> <li>L'usuari <code>vitaliy</code> apareix ara amb:</li> <ul> <li>Usat: L'espai utilitzat (4 blocs).</li> <li>Blando: L\u00edmit tou (1024 blocs).</li> <li>Duro: L\u00edmit dur (2048 blocs).</li> </ul> </ul> </li> </ol> <p>Aquests passos confirmen que les quotes estan funcionant correctament per a l'usuari <code>vitaliy</code>.</p> <p>Intentem sobrepassar el l\u00edmit per veure qu\u00e8 pot passar</p> <p></p> <p>La comanda <code>dd</code> s'utilitza per copiar i convertir fitxers de manera controlada. En aquest cas, s'utilitza per crear fitxers de prova amb dades generades aleat\u00f2riament a partir de <code>/dev/zero</code>.</p> <p>Comanda:</p> <p><code>dd if=/dev/zero of=test bs=1K count=800</code></p> <ul> <li><code>if=/dev/zero</code>: Especifica el fitxer d'entrada, en aquest cas <code>/dev/zero</code>, que \u00e9s un dispositiu especial que genera zeros cont\u00ednuament.</li> <li><code>of=test</code>: El fitxer de sortida, en aquest cas es crea un fitxer anomenat <code>test</code>.</li> <li><code>bs=1K</code>: La mida del bloc de dades que es copiaran \u00e9s de 1KB.</li> <li><code>count=800</code>: Es copien 800 blocs de 1KB, resultant en un fitxer de 800KB.</li> </ul> <p>L'execuci\u00f3 de la comanda crea un fitxer <code>test</code> de 819200 bytes (800KB) i mostra la velocitat de c\u00f2pia (en aquest cas, 585 MB/s en la primera execuci\u00f3 i 713 MB/s en la segona).</p> <p>Comprovaci\u00f3 de la quota d'usuari</p> <p>A la captura es mostra la comanda <code>quota -u vitaliy</code> per comprovar l'estat de la quota d'un usuari espec\u00edfic, en aquest cas, l'usuari vitaliy.</p> <p></p> <p>Comanda:</p> <p><code>quota -u vitaliy</code></p> <p>Aquesta comanda mostra la informaci\u00f3 de les quotes de disc per a l'usuari <code>vitaliy</code>.</p> <p>Explicaci\u00f3 de la sortida:</p> <ul> <li><code>/dev/sdb1</code>: La partici\u00f3 on s'aplica la quota (en aquest cas, <code>/dev/sdb1</code>).</li> <li><code>1604*</code>: L'espai actual utilitzat per l'usuari en blocs (1604 blocs). El s\u00edmbol <code>*</code> indica que s'ha superat el l\u00edmit tou.</li> <li><code>1024</code>: L\u00edmit tou (soft limit) assignat, en blocs (1024 blocs o 1 MB).</li> <li><code>2048</code>: L\u00edmit dur (hard limit) assignat, en blocs (2048 blocs o 2 MB).</li> <li><code>7 d\u00edas</code>: El per\u00edode de gr\u00e0cia de 7 dies per superar el l\u00edmit tou.</li> <li><code>3</code>: El nombre de fitxers utilitzats.</li> </ul>"},{"location":"quotes_disc/#superar-el-limit-de-quota","title":"Superar el L\u00edmit de Quota","text":"<p>A la captura es mostra el que passa quan l'usuari vitaliy supera el l\u00edmit de quota assignat:</p> <ol> <li> <p>Comanda <code>dd</code> per crear fitxers:    L'usuari intenta crear fitxers amb la comanda <code>dd</code>, per\u00f2 es genera un error perqu\u00e8 s'ha superat la quota de disc. Els missatges d'error s\u00f3n els seg\u00fcents:</p> </li> <li> <p>\"dd: error al escribir en 'test2': Se ha excedido la cuota de disco\"</p> </li> <li>\"dd: error al escribir en 'test3': Se ha excedido la cuota de disco\"</li> </ol> <p>Aix\u00f2 indica que quan l'usuari intenta escriure m\u00e9s dades en els fitxers, el sistema bloqueja l'operaci\u00f3 perqu\u00e8 s'ha arribat al l\u00edmit de quota.</p> <ol> <li> <p>Comprovaci\u00f3 de la quota amb <code>quota</code>:    Quan l'usuari comprova l'estat de la seva quota amb la comanda <code>quota -u vitaliy</code>, es pot veure que ha superat el l\u00edmit de quota assignat:</p> </li> <li> <p><code>/dev/sdb1  2048*  1024  2048  6 d\u00edas</code></p> <ul> <li><code>2048*</code>: L'usuari ha utilitzat 2048 blocs, que \u00e9s el l\u00edmit dur (hard limit).</li> <li><code>1024</code>: L\u00edmit tou (soft limit) de 1 MB.</li> <li><code>2048</code>: L\u00edmit dur (hard limit) de 2 MB.</li> <li><code>6 d\u00edas</code>: El per\u00edode de gr\u00e0cia de 6 dies, durant el qual l'usuari pot seguir utilitzant l'espai fins que redueixi l'\u00fas d'espai.</li> </ul> </li> <li> <p>Comportament al superar el l\u00edmit:    Quan un usuari supera el l\u00edmit dur (hard limit), el sistema impedeix que pugui escriure m\u00e9s dades al disc fins que redueixi l'\u00fas d'espai per sota del l\u00edmit dur. Aix\u00f2 \u00e9s el que es veu en la captura: el sistema bloqueja l'escriptura despr\u00e9s d'excedir la quota.</p> </li> </ol> <p>Quan descarreguem una foto i intentem guardar-la a <code>/mnt/dades</code>, obtenim el seg\u00fcent resultat:</p> <p></p> <p>Aquest proc\u00e9s falla. A m\u00e9s, si intentem moure alguna foto o arxiu dins del directori <code>/mnt/dades/</code>, apareix aquest altre error indicant que hem superat la quota.</p> <p></p>"},{"location":"quotes_disc/#configuracio-de-warnquota-amb-notificacions-per-correu","title":"Configuraci\u00f3 de <code>warnquota</code> amb notificacions per correuConfiguraci\u00f3 de `warnquota`","text":"<p>Com a administradors, \u00e9s important saber quan un usuari supera el l\u00edmit de quota, ja que sovint els usuaris no s\u00f3n conscients d'aquests l\u00edmits. Una manera senzilla de gestionar-ho \u00e9s configurar l'enviament de correus electr\u00f2nics per avisar els usuaris quan hagin superat la seva quota.</p> <p>No entrarem en detall, per\u00f2 si est\u00e0s interessat en fer-ho, fes clic al bot\u00f3 de baix.</p> <p>Configuraci\u00f3 de Warning (Fes clic per veure m\u00e9s)</p> \u00d7 <p>Aquesta guia detalla els passos seguits per configurar `warnquota` perqu\u00e8 envi\u00ef correus electr\u00f2nics quan els usuaris superen les seves quotes, i s'executi autom\u00e0ticament cada dia.</p> <ol> <li>Instal\u00b7laci\u00f3 de les eines necess\u00e0ries <ul> <li>Instal\u00b7lar els paquets requerits:           <ul> <li><code>quota</code>: Per gestionar les quotes.</li> <li><code>mailutils</code>: Per enviar correus electr\u00f2nics.</li> <li><code>postfix</code>: Per enviar correus electr\u00f2nics.</li> </ul> </li> <li>Comandes utilitzades:           <pre><code>apt update\napt install quota mailutils postfix</code></pre> </li> </ul> </li> <li>Configuraci\u00f3 del servei de correu <ul> <li>Es va instal\u00b7lar <code>mailutils</code>, que configura un agent de correu (com <code>postfix</code>) per permetre l'enviament d'emails.</li> <li>Durant la instal\u00b7laci\u00f3 de <code>postfix</code>, es va seleccionar \"Internet Site\" com a configuraci\u00f3.</li> </ul> </li> <li>Edici\u00f3 del fitxer de configuraci\u00f3 de <code>warnquota</code> <ul> <li>Es va editar el fitxer <code>/etc/warnquota.conf</code> per personalitzar els avisos de correu.</li> <li>Contingut del fitxer ajustat:           <pre><code>\nMAIL_CMD = \"/usr/sbin/sendmail -t\"\nFROM = \"Administraci\u00f3 &lt;admin@exemple.com&gt;\"\nSUBJECT = \"Alerta: Has superat la quota!\"\nCC_TO = \"exemple@correu.com\"\nSUPPORT = \"exemple@correu.com\"\nPHONE = \"&lt;opcional: n\u00famero de tel\u00e8fon&gt;\"\nCHARSET = UTF-8\n          </code></pre> </li> </ul> </li> <li>Prova manual de <code>warnquota</code> <ul> <li>Es va executar <code>warnquota</code> manualment per verificar que els correus s'enviaven correctament:           <pre><code>warnquota</code></pre> </li> <li>Es va comprovar que els correus arribaven a l'adre\u00e7a configurada (<code>exemple@correu.com</code>).</li> </ul> </li> <li>Configuraci\u00f3 de l'execuci\u00f3 autom\u00e0tica <ul> <li>Es va configurar un cron job per executar <code>warnquota</code> di\u00e0riament.</li> <li>Contingut del cron job afegit:           <pre><code>\n0 0 * * * /usr/sbin/warnquota\n          </code></pre> </li> <li>Aquest cron job es va afegir utilitzant:           <pre><code>sudo crontab -e</code></pre> </li> </ul> </li> </ol> Resultat final <ul> <li><code>warnquota</code> envia correus electr\u00f2nics als usuaris que superen el l\u00edmit.</li> <li>Es verifica l'execuci\u00f3 autom\u00e0tica di\u00e0ria al log del sistema:       <pre><code>grep warnquota /var/log/syslog</code></pre> </li> </ul> <p>Aquestes configuracions asseguren que les quotes estan monitoritzades i que els usuaris s\u00f3n avisats de manera eficient.</p> <p>Despr\u00e9s de configurar-ho tot, comprovem si s'envia un correu electr\u00f2nic for\u00e7ant l'enviament manualment. Per fer-ho, executa la comanda <code>warnquota</code> i comprova si arriben els correus electr\u00f2nics.</p> <p></p> <p>Si un usuari supera la quota, el sistema li enviar\u00e0 autom\u00e0ticament un correu electr\u00f2nic d'av\u00eds.</p> <p></p>"},{"location":"quotes_disc/#aplicar-quotes-a-grups","title":"Aplicar Quotes a Grups","text":"<p>Una altra manera molt utilitzada per aplicar quotes \u00e9s fer-ho a nivell de grups. En aquest cas, podem assignar una quota a un grup i afegir-hi els usuaris. Aix\u00ed, els usuaris dins d'aquest grup heretaran la quota del grup.</p> <p>Afegim l'usuari Vitaliy al grup de <code>classe</code> i apliquem la quota.</p> <pre><code>setquota -g classe 5120 10240 0 0 /mnt/dades\n</code></pre> <p></p> <ul> <li>Atenci\u00f3! Aquesta configuraci\u00f3 nom\u00e9s funcionar\u00e0 si els usuaris no tenen una quota assignada de manera individual. Si l'usuari t\u00e9 una quota pr\u00f2pia, aquesta prevaldr\u00e0 sobre la quota del grup, com podem observar a la seg\u00fcent captura.</li> </ul> <p></p> <p>En aquesta captura, podem veure que l'usuari vitaliy est\u00e0 dins del grup classe, per\u00f2 quan utilitzem la comanda <code>repquota -g /mnt/dades</code> per verificar les quotes del grup, la quota aplicada a l'usuari vitaliy continua sent la seva quota individual, no la del grup.</p> <p>Quan verifiquem la quota de l'usuari amb la comanda <code>repquota -u /mnt/dades</code>, veiem que la quota de vitaliy preval sobre la quota del grup, ja que la quota personal de l'usuari \u00e9s visible en lloc de la quota del grup. Aix\u00f2 confirma que, quan un usuari t\u00e9 una quota assignada directament, aquesta preval sobre les quotes assignades al grup.</p> <p>Creaci\u00f3 de l'usuari \"Mireia\" i el grup \"Classe\"</p> <p>En aquest apartat, crearem un nou usuari anomenat Mireia. Posteriorment, afegirem Mireia al grup Classe i assignarem la carpeta <code>/mnt/dades</code> a aquest grup.</p> <p></p> <p>No \u00e9s estrictament necessari que el grup propietari de <code>/mnt/dades</code> sigui \"Classe\", per\u00f2 \u00e9s recomanable per assegurar que els membres del grup tinguin els permisos adequats per accedir i escriure a la carpeta.</p> <p>Per assignar el grup propietari, utilitzarem la comanda seg\u00fcent:</p> <pre><code>chown :classe /mnt/dades\n</code></pre>"},{"location":"quotes_disc/#creacio-de-fitxers-i-intent-de-sobrepassar-el-limit-de-quota","title":"Creaci\u00f3 de fitxers i intent de sobrepassar el l\u00edmit de quota","text":"<p>Despr\u00e9s de crear l'usuari i assignar-li el grup, crearem alguns fitxers per intentar sobrepassar el l\u00edmit de quota del grup Classe.</p> <p></p>"},{"location":"quotes_disc/#comprovacio-de-lestat-de-la-quota-de-grup","title":"Comprovaci\u00f3 de l'estat de la quota de grup","text":"<p>Finalment, comprovem l'estat de les quotes del grup Classe utilitzant la comanda:</p> <p><code>repquota -g /mnt/dades</code></p> <p></p> <p>Explicaci\u00f3 de la Captura</p> <p>Aquesta captura mostra la sortida de la comanda <code>repquota -g /mnt/dades</code> per al grup classe en un sistema de fitxers montat a <code>/mnt/dades</code>.</p> <ul> <li>Grup: <code>classe</code></li> <li>Usat: El grup ha utilitzat 20480 blocs. Aix\u00f2 significa que el grup classe ha utilitzat 20MB d'espai a la partici\u00f3.</li> <li>Blando (l\u00edmit tou): El l\u00edmit tou (soft limit) per al grup \u00e9s de 10240 blocs (10MB). El grup ha superat aquest l\u00edmit, per\u00f2 encara est\u00e0 dins del l\u00edmit dur.</li> <li>Duro (l\u00edmit dur): El l\u00edmit dur (hard limit) per al grup \u00e9s de 20480 blocs (20MB). El grup est\u00e0 exactament al l\u00edmit dur, el que significa que ja ha arribat al l\u00edmit m\u00e0xim d'espai perm\u00e8s.</li> <li>Gracia: El per\u00edode de gr\u00e0cia \u00e9s de 6 dies. Aix\u00f2 vol dir que el grup t\u00e9 6 dies per reduir el seu \u00fas d'espai per sota del l\u00edmit dur abans que es prenguin mesures.</li> </ul> <p>Notes addicionals:</p> <ul> <li>El s\u00edmbol <code>+</code> a la columna Usat indica que el grup ha superat el l\u00edmit tou per\u00f2 no ha arribat al l\u00edmit dur. </li> <li>Els altres usuaris (com <code>root</code> i <code>vitaliy</code>) no tenen cap quota assignada o nom\u00e9s s'han mostrant les dades generals sense que s'excedeixin els l\u00edmits.</li> </ul>"},{"location":"quotes_disc/#email-automatic-de-superar-quota-de-grup","title":"Email Autom\u00e0tic de Superar Quota de GrupFuncionament del ScriptContingut del scriptAplicaci\u00f3 del ScriptResultat Esperat","text":"<p>Quan un grup o usuari supera el l\u00edmit de quota, es pot configurar un sistema per enviar un correu electr\u00f2nic autom\u00e0ticament. Aquest correu s'envia mitjan\u00e7ant un script personalitzat, ja que la funcionalitat de <code>warnquota</code> nom\u00e9s funciona amb usuaris i no amb grups.</p> <p></p> <p>Configuraci\u00f3 del Script per Alertes de Quota (Fes clic per veure m\u00e9s)</p> \u00d7 Script per Enviar Alerta per Correu quan un Grup Supera la Quota <p>Aquest script est\u00e0 dissenyat per verificar si un grup ha superat el l\u00edmit de quota assignat i enviar un correu electr\u00f2nic d'alerta autom\u00e0ticament.</p> <p>Aquest script realitza les seg\u00fcents accions:</p> <ol> <li>Obtenir l'informe de quotes: Utilitza la comanda <code>repquota -g /mnt/dades</code> per obtenir les quotes del grup.</li> <li>Filtrar el grup espec\u00edfic: El resultat es filtra per buscar la l\u00ednia relacionada amb el grup \"classe\".</li> <li>Comprovar si s'ha superat el l\u00edmit: Si el l\u00edmit de quota s'ha superat (indicat pel s\u00edmbol <code>+</code>), es genera un correu electr\u00f2nic d'alerta.</li> <li>Enviar l'alerta per correu: Si el grup ha superat el l\u00edmit de quota, es crea i envia un correu electr\u00f2nic amb l'alerta.</li> </ol> <pre><code>\n#!/bin/bash\n\n# Obtenim l'informe de quotes del grup\nrepquota -g /mnt/dades | grep \"classe\" &gt; /tmp/group_quota_report.txt\n\n# Verifiquem si s'ha superat el l\u00edmit tou o dur\nif grep -q \"+\" /tmp/group_quota_report.txt; then\n    echo \"El grup classe ha superat el l\u00edmit tou o dur de la quota.\" | mail -s \"Alerta: Quota del grup classe superada\" exemple@correu.com\nfi\n  </code></pre> <p>Per aplicar aquest script, segueix aquests passos:</p> <ol> <li>Guardar el script: Guarda aquest script en un fitxer, per exemple <code>group_quota_check.sh</code>.</li> <li>Donar permisos d'execuci\u00f3: Utilitza la comanda seg\u00fcent per donar permisos d'execuci\u00f3 al script:       <pre><code>chmod +x group_quota_check.sh</code></pre> </li> <li>Afegir al Cron: Per executar aquest script autom\u00e0ticament cada dia, afegeix-lo a les tasques programades (cron jobs). Utilitza la comanda:       <pre><code>sudo crontab -e</code></pre>       I afegeix la l\u00ednia seg\u00fcent per executar el script cada dia a mitjanit:       <pre><code>0 0 * * * /path/to/group_quota_check.sh</code></pre> </li> </ol> <p>Quan el grup \"classe\" superi el l\u00edmit de quota, el sistema enviar\u00e0 autom\u00e0ticament un correu electr\u00f2nic amb el missatge:</p> <pre><code>El grup classe ha superat el l\u00edmit tou o dur de la quota.</code></pre> <p>Aquest sistema permet als administradors monitoritzar les quotes dels grups de manera eficient i notificar-los r\u00e0pidament en cas d'excedir els l\u00edmits establerts.</p>"},{"location":"raid/","title":"Documentaci\u00f3 RAID","text":""},{"location":"raid/#introduccio-als-raid","title":"Introducci\u00f3 als RAID","text":"<p>Els RAID (Redundant Array of Independent Disks) s\u00f3n t\u00e8cniques que combinen diversos discs f\u00edsics per crear un sistema d'emmagatzematge unificat, millorant el rendiment i/o la seguretat de les dades segons el nivell utilitzat.</p> <p>Avui en dia tamb\u00e9 existeixen solucions que, tot i no ser RAID en el sentit tradicional, ofereixen funcions similars de redund\u00e0ncia i toler\u00e0ncia a fallades. Un exemple d'aix\u00f2 \u00e9s CEPH, un sistema d'emmagatzematge distribu\u00eft que proporciona redund\u00e0ncia avan\u00e7ada, auto balanceig i alta escalabilitat.</p>"},{"location":"raid/#nivells-raid-mes-comuns","title":"Nivells RAID m\u00e9s comuns","text":"Nivell RAID Descripci\u00f3 Avantatges Desavantatges RAID 0 Distribueix les dades sense redund\u00e0ncia Alt rendiment Cap toler\u00e0ncia a fallades RAID 1 Duplica les dades en dos discs (mirall) Protecci\u00f3 de dades Capacitat efectiva redu\u00efda (50% utilitzable) RAID 5 Distribueix dades amb informaci\u00f3 de paritat Bon equilibri entre rendiment i seguretat M\u00ednim 3 discs; rendiment d'escriptura inferior RAID 6 Igual que RAID 5, per\u00f2 amb doble paritat Pot tolerar la fallada de fins a 2 discs Rendiment d'escriptura m\u00e9s baix; necessita m\u00e9s discs RAID 10 Combina duplicaci\u00f3 (RAID 1) i distribuci\u00f3 (RAID 0) Molt alt rendiment i seguretat Cost elevat per la necessitat de m\u00e9s discs"},{"location":"raid/#zfs-sistema-darxius-amb-funcions-raid","title":"ZFS: Sistema d'arxius amb funcions RAID","text":"<p>ZFS \u00e9s un sistema d'arxius combinat amb gestor de volums desenvolupat per Sun Microsystems (ara Oracle). Entre les seves caracter\u00edstiques destaca:</p> <ul> <li>Integritat de dades: Utilitza sumes de verificaci\u00f3 i t\u00e9 capacitat d'auto reparaci\u00f3.</li> <li>Snapshots i clonaci\u00f3: Permet fer c\u00f2pies de seguretat i recuperar dades f\u00e0cilment.</li> <li>Compresi\u00f3 i deduplicaci\u00f3: Optimitza l'\u00fas de l'espai.</li> <li>Pooled storage: Facilita una gesti\u00f3 flexible dels discos.</li> </ul> <p>ZFS integra els seus esquemes de redund\u00e0ncia, coneguts com a RAID-Z, que s\u00f3n funcionalment equivalents als RAID tradicionals per\u00f2 amb millores en rendiment, fiabilitat i simplicitat de gesti\u00f3.</p>"},{"location":"raid/#solucio-demmagatzematge-distribuit-ceph","title":"Soluci\u00f3 d'emmagatzematge distribu\u00eft: CEPH","text":"<p>CEPH \u00e9s un sistema d'emmagatzematge distribu\u00eft que va m\u00e9s enll\u00e0 del concepte tradicional de RAID. Les seves principals caracter\u00edstiques s\u00f3n:</p> <ul> <li>Redund\u00e0ncia avan\u00e7ada: Utilitza replicaci\u00f3 i erasure coding per garantir la disponibilitat de les dades.</li> <li>Auto balanceig: Redistribueix autom\u00e0ticament la c\u00e0rrega entre nodes per optimitzar el rendiment.</li> <li>Escalabilitat: Permet ampliar la capacitat d'emmagatzematge afegint m\u00e9s nodes sense parades.</li> </ul> <p>Tot i que CEPH opera a un nivell diferent (distribu\u00eft i basat en programari), comparteix amb els RAID l'objectiu de protegir i optimitzar l'emmagatzematge de dades.</p>"},{"location":"raid/#aspectes-clau-en-la-configuracio-de-raid","title":"Aspectes clau en la configuraci\u00f3 de RAID","text":"<ul> <li>Uniformitat dels discs i particions:   Es recomana utilitzar discs o particions de la mateixa marca i capacitat per obtenir una configuraci\u00f3 \u00f2ptima.</li> <li>Planificaci\u00f3 de la configuraci\u00f3:   Cal preparar correctament els discs, configurar el nivell RAID desitjat i, finalment, automatitzar el muntatge per facilitar l'acc\u00e9s a les dades.</li> </ul>"},{"location":"raid/#taula-comparativa-raid-vs-ceph-vs-zfs","title":"Taula comparativa: RAID vs CEPH vs ZFS","text":"Caracter\u00edstica RAID CEPH ZFS Tipus T\u00e8cnica d'agrupaci\u00f3 de discs Sistema d'emmagatzematge distribu\u00eft Sistema d'arxius amb gestor de volums i redund\u00e0ncia integrada Implementaci\u00f3 Hardware o software Basat en programari, distribu\u00eft en m\u00faltiples nodes Integrat amb el sistema d'arxius, amb gesti\u00f3 flexible de volums Redund\u00e0ncia Mirroring, paritat (RAID 1,5,6,10, etc.) Replicaci\u00f3 i erasure coding RAID-Z (integraci\u00f3 de paritat amb copy-on-write) Escalabilitat Limitada al grup fix de discs Altament escalable afegint nodes Escalabilitat dins del pool, encara que amb menys flexibilitat que CEPH Gesti\u00f3 Pot requerir configuraci\u00f3 manual Automatitza la redistribuci\u00f3 i recuperaci\u00f3 de dades Simplifica la gesti\u00f3 amb funcions avan\u00e7ades (snapshots, clonaci\u00f3, etc.) Funcions avan\u00e7ades Centrat en redund\u00e0ncia i rendiment Alta disponibilitat, toler\u00e0ncia a fallades i gesti\u00f3 distribu\u00efda Integritat de dades, compresi\u00f3, deduplicaci\u00f3, snapshots, etc."},{"location":"raid1/","title":"Configuraci\u00f3 de RAID 1","text":"<p>Aquest document descriu el proc\u00e9s per configurar un RAID 1 utilitzant dos discs d'1GB. RAID 1 duplica les dades entre els discs, oferint redund\u00e0ncia i protecci\u00f3 en cas de fallada d'algun d'ells.</p>"},{"location":"raid1/#preparacio-dels-discs","title":"Preparaci\u00f3 dels Discs","text":"<p>Neteja dels discs: Assegureu-vos que els discs estan nets o que les dades que contenen es poden esborrar.</p> <p>Creaci\u00f3 de particions: Quan creeu les particions, recordeu d'especificar l'opci\u00f3 \"t\" per definir el tipus de partici\u00f3 i \"fd\" per indicar que \u00e9s de tipus Linux RAID autodetectable.  </p> <p></p> <p>Instal\u00b7laci\u00f3 de l'eina de gesti\u00f3: Instal\u00b7leu <code>mdadm</code> (l'eina que us permetr\u00e0 configurar el RAID).   </p> <pre><code>sudo apt install mdadm \n</code></pre> <p></p> <p>Creaci\u00f3 del directori de muntatge: Creeu un directori on muntareu el RAID (per exemple, <code>/mnt/raid1</code>) i, temporalment, configureu permisos 777 per facilitar la prova. </p>"},{"location":"raid1/#creacio-del-dispositiu-raid-1","title":"Creaci\u00f3 del Dispositiu RAID 1","text":"<p>Creaci\u00f3 del RAID: Utilitzeu <code>mdadm</code> per crear un dispositiu RAID 1 que agrupi les particions dels dos discs (per exemple, <code>/dev/sda1</code> i <code>/dev/sdb1</code>) en un dispositiu com <code>/dev/md0</code>.  </p> <pre><code>sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sda1 /dev/sdb1\n</code></pre> <p></p> <p>Verificaci\u00f3 de l'estat del RAID:   Comproveu que el RAID s'est\u00e0 creant correctament. Podeu veure l'estat amb la comanda que mostra informaci\u00f3 detallada (per exemple, consultat a <code>/proc/mdstat</code> o amb \"mdadm --detail /dev/md0\"). </p> <p>Generaci\u00f3 i actualitzaci\u00f3 de la configuraci\u00f3 de mdadm:   Executeu la comanda per escanejar la configuraci\u00f3 actual del RAID i guardar-la al fitxer de configuraci\u00f3 (per exemple, \"mdadm --detail --scan &gt; /etc/mdadm/mdadm.conf\").  </p> <p>Nota: Aquesta comanda \u00e9s important perqu\u00e8 registra la configuraci\u00f3 actual del RAID al fitxer de configuraci\u00f3, assegurant que el sistema pugui detectar i muntar el RAID autom\u00e0ticament en futurs arrencades. </p> <p>Verificaci\u00f3 i edici\u00f3 del fitxer de configuraci\u00f3:   Obriu el fitxer <code>/etc/mdadm/mdadm.conf</code> amb un editor (per exemple, \"nano /etc/mdadm/mdadm.conf\") per confirmar que la configuraci\u00f3 s'ha desat correctament i, si cal, afegiu una nova l\u00ednia o ajustos addicionals. </p>"},{"location":"raid1/#formatacio-i-muntatge-del-dispositiu-raid","title":"Formataci\u00f3 i Muntatge del Dispositiu RAID","text":"<p>Formataci\u00f3:   Un cop creat i sincronitzat el dispositiu RAID (<code>/dev/md0</code>), formatgeu-lo amb el sistema d'arxius que preferiu (per exemple, ext4). </p> <p>Configuraci\u00f3 de muntatge autom\u00e0tic:   Afegiu una entrada al fitxer <code>/etc/fstab</code> perqu\u00e8 el dispositiu RAID es munte autom\u00e0ticament en arrencar el sistema. </p> <p>Muntatge i actualitzaci\u00f3 del sistema: Executeu les ordres necess\u00e0ries per muntar el dispositiu RAID, reiniciar el daemon corresponent i actualitzar la configuraci\u00f3 d'arrencada del sistema amb una comanda com \"update-initramfs -u -k all\".  </p> <p>Explicaci\u00f3: </p> <p>Aquesta actualitzaci\u00f3 (update-initramfs) assegura que el nou dispositiu RAID estigui incl\u00f2s en la configuraci\u00f3 d'arrencada del sistema, permetent que es munte correctament en futurs reinicis.  </p> <p></p>"},{"location":"raid1/#comprovacio-del-funcionament","title":"Comprovaci\u00f3 del funcionament","text":"<p>En aquest apartat comprovarem que el RAID creat funciona correctament.</p> <ul> <li>Comencem creant un fitxer \"prova.txt\" per fer una prova b\u00e0sica.</li> </ul> <p></p> <ul> <li>A continuaci\u00f3, desconnectem un disc del RAID amb la comanda <code>mdadm /dev/md0 -f /dev/sdb1</code>.</li> </ul> <pre><code>mdadm /dev/md0 -f /dev/sdb1\n</code></pre> <p></p> <ul> <li>Verifiquem l'estat del RAID amb <code>mdadm --detail /dev/md0</code>. La sortida mostra que el disc <code>/dev/sdb1</code> es troba en estat \"faulty\".</li> </ul> <p></p> <ul> <li>Procedim a treure el disc defectu\u00f3s amb <code>mdadm /dev/md0 --remove /dev/sdb1</code> i verifiquem la configuraci\u00f3 amb la mateixa comanda.</li> </ul> <pre><code>mdadm /dev/md0 --remove /dev/sdb1\n</code></pre> <p></p> <ul> <li>Per confirmar qu\u00e8 ha passat amb les nostres dades, fem un <code>ls</code> al directori del RAID (per exemple, <code>/raid1/</code>). Comprovem que les dades no s'han esborrat, gr\u00e0cies al RAID 1 que replica tot.</li> </ul> <p></p> <ul> <li>Finalment, reinserim el disc amb <code>mdadm /dev/md0 -a /dev/sdb1</code> i podem observar que el sistema inicia el proc\u00e9s de \"rebuiling\". En uns instants, el disc tornar\u00e0 a estar disponible per a l'\u00fas.</li> </ul> <pre><code>mdadm /dev/md0 -a /dev/sdb1\n</code></pre> <p></p>"},{"location":"raid1/#eliminar-el-raid","title":"Eliminar el RAID","text":"<p>Per desfer o esborrar el RAID, seguiu aquests passos:</p> <ul> <li>Desmuntar el dispositiu RAID: </li> </ul> <pre><code>umount /dev/md0\n</code></pre> <ul> <li>Aturar el dispositiu RAID: </li> </ul> <pre><code>mdadm --stop /dev/md0\n</code></pre> <ul> <li>Eliminar la informaci\u00f3 del superblock:</li> </ul> <pre><code>mdadm --zero-superblock /dev/sdb1 /dev/sdc1\n</code></pre> <ul> <li>Treure el dispositiu RAID: </li> </ul> <pre><code>mdadm --remove /dev/md0\n</code></pre> <ul> <li>Eliminar el directori de muntatge:   rm -r /raid1</li> </ul> <p>Comproveu que el RAID s'ha eliminat correctament amb:  </p> <pre><code>mdadm --detail /dev/md0\n</code></pre> <p>A continuaci\u00f3, esborreu la configuraci\u00f3 actual del RAID del fitxer <code>/etc/mdadm/mdadm.conf</code> deixant-lo buit.</p> <p></p> <p>Finalment, elimineu o comenteu la l\u00ednia que heu afegit al fitxer <code>/etc/fstab</code>.</p> <p></p>"},{"location":"raid5/","title":"Configuraci\u00f3 de RAID 5","text":""},{"location":"raid5/#raid-5","title":"RAID 5","text":"<p>RAID 5 combina la distribuci\u00f3 de dades amb la paritat, de manera que la informaci\u00f3 de paritat es reparteix entre tots els discos. Aix\u00f2 permet recuperar les dades en cas de fallada d'un disc. En aquesta configuraci\u00f3 s'utilitzen quatre discos, on la paritat actua com una protecci\u00f3 addicional.</p>"},{"location":"raid5/#afegir-els-discos","title":"Afegir els Discos","text":"<p>El primer pas \u00e9s assegurar-se que els quatre discos estiguin correctament connectats al sistema. Podeu verificar-ho visualment i amb eines de gesti\u00f3 del sistema. </p> <p>Comprovaci\u00f3 amb lsblk</p> <p>Un cop connectats, comproveu que el sistema reconeix tots els discos executant la comanda <code>lsblk</code>. Aquesta ordre mostrar\u00e0 una llista dels dispositius d'emmagatzematge disponibles. </p> <p>Creaci\u00f3 de Particions</p> <p>Cal crear particions a cada disc indicant el tipus adequat. Quan feu les particions, assegureu-vos d'especificar l'opci\u00f3 \"t\" per definir el tipus de partici\u00f3 i \"fd\" per indicar que s\u00f3n particions de Linux RAID autodetectable. Si necessiteu m\u00e9s informaci\u00f3 sobre com fer-ho, podeu consultar aquest enlla\u00e7. </p>"},{"location":"raid5/#creacio-del-raid-5","title":"Creaci\u00f3 del RAID 5","text":"<p>Per crear el RAID 5, s'executa la comanda seg\u00fcent: <code>sudo mdadm --create /dev/md0 --level=5 --raid-devices=4 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sde1</code> Aquesta instrucci\u00f3 agrupa les particions dels quatre discos en un \u00fanic dispositiu RAID, anomenat <code>/dev/md0</code>. </p> <p>Verificaci\u00f3 del RAID</p> <p>Despr\u00e9s de crear el RAID, \u00e9s important comprovar-ne l'estat. Executeu la comanda <code>sudo mdadm --detail /dev/md0</code> per confirmar que s'ha creat correctament i que est\u00e0 operatiu. </p> <p>Formataci\u00f3 del RAID</p> <p>Un cop creat el dispositiu RAID, cal formatgeu-lo amb el sistema d'arxius que preferiu, per exemple, ext4. Aquesta operaci\u00f3 prepara el RAID per a l'emmagatzematge de dades. </p> <p>Muntatge Temporal</p> <p>A continuaci\u00f3, creeu un directori de muntatge, com per exemple <code>/mnt/raid5</code>, i munteu-hi el dispositiu RAID de manera temporal per provar-ne el funcionament. </p>"},{"location":"raid5/#actualitzacio-de-la-configuracio-de-mdadm","title":"Actualitzaci\u00f3 de la Configuraci\u00f3 de mdadm","text":"<p>Per desar la configuraci\u00f3 actual del RAID, escanegeu-la i deseu-la al fitxer de configuraci\u00f3 executant: <code>mdadm --detail --scan &gt; /etc/mdadm/mdadm.conf</code> Aquesta acci\u00f3 permet que el sistema detecti autom\u00e0ticament el RAID en futurs arrencades. </p> <p>Revisi\u00f3 del Fitxer de Configuraci\u00f3</p> <p>Obriu el fitxer <code>/etc/mdadm/mdadm.conf</code> amb l'editor de text que preferiu per confirmar que la configuraci\u00f3 s'ha desat correctament. Si cal, realitzeu els ajustos addicionals corresponents. </p>"},{"location":"raid5/#configuracio-del-muntatge-automatic-fstab","title":"Configuraci\u00f3 del Muntatge Autom\u00e0tic FSTAB","text":"<p>Per assegurar que el dispositiu RAID es munte autom\u00e0ticament en arrencar el sistema, afegiu la l\u00ednia corresponent al fitxer <code>/etc/fstab</code>. D'aquesta manera, no caldr\u00e0 muntar-lo manualment en cada reinici. </p>"},{"location":"raid5/#actualitzacio-del-sistema-darrencada","title":"Actualitzaci\u00f3 del Sistema d'Arrencada","text":"<p>Finalment, executeu la comanda <code>update-initramfs -u -k all</code> per actualitzar la configuraci\u00f3 d'arrencada del sistema. Aquesta actualitzaci\u00f3 garanteix que el nou dispositiu RAID s'inclogui en el proc\u00e9s d'arrencada, permetent que es munte correctament en futurs reinicis. </p>"},{"location":"raid5/#proves-del-raid5","title":"Proves del RAID5","text":"<p>En aquest apartat es crearan fitxers dins del directori muntat del RAID 5 per comprovar la integritat de les dades. Posteriorment, es simular\u00e0 la fallada d'un dels discos (disk n\u00famero 3) per verificar que la redund\u00e0ncia implementada protegeix la informaci\u00f3.</p> <p>Per comen\u00e7ar, es creen fitxers de prova al directori del RAID. </p> <p>A continuaci\u00f3, es simula la fallada eliminant el disc n\u00famero 3 del conjunt RAID. </p> <p>Un cop realitzada aquesta simulaci\u00f3, es reinicia el sistema per comprovar si la informaci\u00f3 continua disponible o si s'ha perdut. Cal tenir en compte que, en aquest cas, el sistema sol trigar m\u00e9s en arrancar perqu\u00e8 intenta detectar i reconstruir el RAID amb la manca d'un disc.</p>"},{"location":"raid5/#recuperacio-del-raid5","title":"Recuperaci\u00f3 del RAID5","text":"<p>En reiniciar el sistema, hem detectat un \"SUSTO!\" ja que el RAID es troba inactiu i sembla que les dades han desaparegut. No et preocupis: aix\u00f2 nom\u00e9s vol dir que el RAID est\u00e0 aturat, no que les dades s'hagin perdut.</p> <p>Per reactivar el RAID i recuperar la seva funcionalitat, cal executar les seg\u00fcents comandes:</p> <pre><code>mdadm --stop /dev/md0  \n</code></pre> <pre><code>mdadm -As /dev/md0  \n</code></pre> <pre><code>mount -a \n</code></pre> <pre><code>update-initramfs -u -k all  \n</code></pre> <p>Un cop s'executin aquests passos, el RAID tornar\u00e0 a estar actiu i el dispositiu es muntar\u00e0 correctament, assegurant que tot torni a funcionar gr\u00e0cies a la redund\u00e0ncia del RAID 5.</p> <p></p>"},{"location":"raid5/#tornem-a-afegir-un-disc-nou-per-a-restaurar-la-configuracio-de-4-discs","title":"Tornem a afegir un disc nou per a restaurar la configuraci\u00f3 de 4 discs","text":"<p>Ja ens ha arribat el nou disc i el hem connectat al PC. </p> <p>Abans d'afegir-lo al RAID, \u00e9s necessari preparar el disc. Utilitzeu l'eina fdisk per crear la partici\u00f3 corresponent i configurar-la per a Linux RAID autodetectable. Un cop preparat, podeu afegir el disc al RAID amb mdadm i verificar la seva incorporaci\u00f3. </p> <p>Finalment, comproveu que les dades segueixen assegurades i que el RAID funciona correctament amb la nova configuraci\u00f3. </p>"},{"location":"samba/","title":"Compartir recursos amb SAMBA","text":""},{"location":"samba/#installacio-i-configuracio-de-samba","title":"Instal\u00b7laci\u00f3 i configuraci\u00f3 de Samba","text":"<p>Samba \u00e9s un servei similar a NFS que permet la compartici\u00f3 de carpetes, per\u00f2 tamb\u00e9 permet compartir altres recursos, com impressores.</p> <p>Difer\u00e8ncies principals amb NFS</p> <p>Una de les difer\u00e8ncies m\u00e9s importants respecte a NFS \u00e9s que l'autenticaci\u00f3 en Samba es realitza a nivell d'usuari, mentre que en NFS es fa a nivell de host. Aix\u00f2 permet un control m\u00e9s detallat sobre qui pot accedir als recursos compartits.</p> <p>Integraci\u00f3 amb LDAP</p> <p>Per utilitzar Samba no \u00e9s necessari tenir un servidor LDAP, per\u00f2 existeix la possibilitat d'integrar-lo amb LDAP per gestionar els usuaris de manera centralitzada.</p> <p>Compatibilitat</p> <p>Samba ofereix compatibilitat tant amb sistemes Ubuntu com amb Windows, facilitant la interoperabilitat entre diferents plataformes.</p>"},{"location":"samba/#installacio-i-proves","title":"Instal\u00b7laci\u00f3 i proves","text":""},{"location":"samba/#servidor-samba","title":"Servidor Samba","text":"<p>Comencem la instal\u00b7laci\u00f3 del servei Samba al nostre servidor amb la seg\u00fcent comanda:</p> <pre><code>sudo apt install samba\n</code></pre> <p></p> <p>A continuaci\u00f3, crearem la carpeta que volem compartir i li assignarem els permisos corresponents. El propietari i el grup han de ser <code>nobody:nogroup</code>. Pel que fa als permisos, aquests dependran del criteri de cada entorn. En aquesta pr\u00e0ctica, assignarem permisos 777 per facilitar la configuraci\u00f3.</p> <p></p> <p>Un cop fet aix\u00f2, comprovem que els permisos s'han aplicat correctament.</p> <p></p>"},{"location":"samba/#configuracio-de-smbconf","title":"Configuraci\u00f3 de <code>smb.conf</code>","text":"<p>Per compartir el directori creat, hem de modificar l'arxiu de configuraci\u00f3 de Samba, situat a <code>/etc/samba/smb.conf</code>, afegint una configuraci\u00f3 b\u00e0sica.</p> <p></p> <p>En aquesta configuraci\u00f3, hem especificat el path del directori compartit, l'opci\u00f3 <code>guest ok</code>, i l'opci\u00f3 <code>browsable</code>, que es pot configurar a \"yes\" o \"no\" segons les necessitats. A m\u00e9s, hem definit la m\u00e0scara del directori (<code>directory mask</code>) i la m\u00e0scara dels fitxers creats (<code>create mask</code>).</p> <p>Pel que fa als permisos destacats:</p> <ul> <li>L'opci\u00f3 <code>read list</code> permet acc\u00e9s de nom\u00e9s lectura exclusivament a l'usuari <code>jesus</code> i al grup <code>professors</code> (identificat amb l'arrova <code>@</code>).</li> <li>L'opci\u00f3 <code>write list</code> concedeix perm\u00eds d'escriptura \u00fanicament a <code>jesus</code>.</li> <li>L'usuari <code>joan</code> no tindr\u00e0 acc\u00e9s ni podr\u00e0 connectar-se al recurs compartit.</li> </ul> <p>Reinici del servei i comprovaci\u00f3</p> <p>Un cop configurat <code>smb.conf</code>, reiniciem el servei per aplicar els canvis i comprovem que funciona correctament.</p> <p></p>"},{"location":"samba/#creacio-dusuaris-i-grups","title":"Creaci\u00f3 d'usuaris i grups","text":"<p>Per gestionar l'acc\u00e9s als recursos compartits, creem els usuaris i els assignem als grups corresponents.</p> <p></p> <p>Un cop creats, comprovem que els usuaris s'han afegit correctament al grup corresponent.</p> <p></p>"},{"location":"samba/#canvi-de-contrasenya-per-a-usuaris-samba","title":"Canvi de contrasenya per a usuaris Samba","text":"<p>Perqu\u00e8 els usuaris puguin accedir al directori compartit, cal assignar-los una contrasenya espec\u00edfica per a Samba. Aix\u00f2 es fa amb la comanda seg\u00fcent:</p> <p><code>smbpasswd -a \"nom_usuari\"</code></p> <p></p> <ul> <li>Aquesta contrasenya \u00e9s independent de la contrasenya del sistema i \u00e9s necess\u00e0ria per autenticar-se en els recursos compartits de Samba.</li> </ul>"},{"location":"samba/#installacio-i-configuracio-del-client","title":"Instal\u00b7laci\u00f3 i configuraci\u00f3 del client","text":""},{"location":"samba/#installacio-del-client-samba","title":"Instal\u00b7laci\u00f3 del client Samba","text":"<p>Primerament, hem d'instal\u00b7lar el servei <code>smbclient</code> al nostre client.</p> <p></p> <p>Un cop instal\u00b7lat, obrim el cercador de fitxers i ens dirigim a \"Altres ubicacions\". Afegim la IP del nostre servidor Samba i el directori compartit. Per exemple:</p> <p><code>smb://10.0.2.15/asixa/</code></p> <p></p>"},{"location":"samba/#connexio-com-a-usuari-anonim","title":"Connexi\u00f3 com a usuari an\u00f2nim","text":"<p>Com que hem afegit el par\u00e0metre <code>guest</code>, ens podem connectar com a usuari an\u00f2nim.</p> <p></p> <p>Aquesta connexi\u00f3 ens permet veure els fitxers existents, per\u00f2 no ens permet obrir-los ni crear nous fitxers o directoris.</p> <p></p> <p>Si intentem crear un fitxer, obtenim un error.</p> <p></p> <p>Tampoc podem llegir el fitxer <code>hola</code>, que ja estava creat pr\u00e8viament.</p> <p></p>"},{"location":"samba/#connexio-amb-usuaris-amb-permisos-especifics","title":"Connexi\u00f3 amb usuaris amb permisos espec\u00edfics","text":"<p>Usuari Jesus</p> <p>Intentem accedir amb l'usuari <code>Jesus</code> i la contrasenya assignada en el pas previ.</p> <p></p> <p>Aquest usuari pot llegir i tamb\u00e9 crear fitxers i directoris.</p> <p></p> <p>Tamb\u00e9 podem llegir els fitxers.</p> <p></p> <p>Usuari Diego</p> <p>Tamb\u00e9 podem accedir amb l'usuari <code>Diego</code>, per\u00f2 aquest nom\u00e9s t\u00e9 permisos de lectura i no pot crear nous fitxers.</p> <p></p> <p>Si intentem crear un directori, obtenim un error.</p> <p></p> <p>Per\u00f2 en canvi si podem llegir.</p> <p></p> <p>Usuari Joan</p> <p>L'usuari <code>Joan</code> no pot accedir al recurs compartit, ja que li hem denegat l'acc\u00e9s en la configuraci\u00f3 de Samba.</p> <p></p>"},{"location":"samba/#ldap-samba","title":"Ldap + Samba","text":"<p>Integrar Samba amb LDAP \u00e9s for\u00e7a complex, ja que cal utilitzar el <code>samba.schema</code> entre molts altres par\u00e0metres. No recomano fer-ho, ja que pot causar molts inconvenients i dificultats en la configuraci\u00f3.</p> <p>Una soluci\u00f3 que pots considerar per simplificar la integraci\u00f3 entre Samba i LDAP \u00e9s utilitzar una eina com Samba AD (Active Directory), que est\u00e0 m\u00e9s estandarditzada i \u00e9s menys propensa a errors de configuraci\u00f3. Samba AD proporciona una implementaci\u00f3 compatible amb Active Directory que permet gestionar usuaris, grups i permisos a trav\u00e9s de LDAP, per\u00f2 amb un conjunt d'eines que faciliten la configuraci\u00f3 i l'administraci\u00f3.</p>"},{"location":"sistemes_fitxers/","title":"Sistemes de Fitxers","text":""},{"location":"sistemes_fitxers/#mida-sector","title":"Mida sector","text":"<p>El sector \u00e9s la unitat m\u00ednima f\u00edsica on es guarden les dades en un disc dur. Per defecte, la mida d'un sector \u00e9s de 512 bytes. Aix\u00f2 significa que cada vegada que s'emmagatzema informaci\u00f3 en un disc, com a m\u00ednim s'utilitza aquest espai, encara que la dada sigui m\u00e9s petita.</p>"},{"location":"sistemes_fitxers/#mida-block","title":"Mida block","text":"<p>El sistema operatiu no treballa directament amb sectors f\u00edsics, sin\u00f3 amb blocs l\u00f2gics. Un bloc \u00e9s una agrupaci\u00f3 de sectors, i la mida est\u00e0ndard d'un bloc \u00e9s de 4096 bytes. </p> <p>Aix\u00f2 implica que:</p> <ul> <li> <p>Un bloc pot contenir 8 sectors de 512 bytes cadascun.</p> </li> <li> <p>Tot i que un fitxer ocupi menys espai, com per exemple 100 bytes, se li assignar\u00e0 un bloc complet de 4096 bytes. Aix\u00f2 genera un petit espai \"desaprofitat\" dins del bloc.</p> </li> </ul>"},{"location":"sistemes_fitxers/#exemple-mida-del-fitxer-vs-mida-del-bloc","title":"Exemple: Mida del fitxer vs mida del bloc","text":"<p>Per entendre la difer\u00e8ncia entre la mida real d'un fitxer i la mida del bloc que ocupa, crearem un fitxer anomenat mireia i escriurem alguna dada dins. A continuaci\u00f3, comprovarem la seva mida real i la mida del bloc assignat.</p> <p>Observaci\u00f3:</p> <ul> <li> <p>La mida del fitxer mireia \u00e9s de 8 bytes.</p> </li> <li> <p>No obstant aix\u00f2, el sistema operatiu li assigna un bloc de 4,0 KB, ja que \u00e9s la mida est\u00e0ndard per a blocs en el sistema operatiu.</p> </li> </ul> <p>Aix\u00f2 exemplifica com, fins i tot si un fitxer \u00e9s molt petit, ocupa almenys un bloc complet.</p> <p></p>"},{"location":"sistemes_fitxers/#fragmentacio","title":"Fragmentaci\u00f3","text":"<p>La fragmentaci\u00f3 \u00e9s un fenomen que es produeix quan les dades emmagatzemades en un disc no estan organitzades de manera eficient. Hi ha dos tipus principals de fragmentaci\u00f3: interna i externa.</p>"},{"location":"sistemes_fitxers/#fragmentacio-interna","title":"Fragmentaci\u00f3 interna","text":"<p>La fragmentaci\u00f3 interna es produeix dins dels blocs del sistema operatiu. Quan un fitxer no ocupa tot l\u2019espai disponible en un bloc, es genera un espai desaprofitat. Aquest espai no pot ser utilitzat per cap altre fitxer, i, com m\u00e9s petits siguin els fitxers, m\u00e9s espai desaprofitat hi haur\u00e0.</p>"},{"location":"sistemes_fitxers/#exemple-practic","title":"Exemple pr\u00e0ctic:","text":"<ul> <li>Si un fitxer ocupa 100 bytes i el bloc assignat t\u00e9 una mida de 4096 bytes, els 3996 bytes restants del bloc es perden, ja que no es poden utilitzar per a altres dades.</li> </ul>"},{"location":"sistemes_fitxers/#solucions","title":"Solucions:","text":"<ul> <li>Ajustar la mida del bloc: Es poden utilitzar blocs m\u00e9s petits per optimitzar l'espai, per\u00f2 aix\u00f2 pot impactar negativament la velocitat de lectura i escriptura.</li> <li>Utilitzar blocs m\u00e9s grans: \u00c9s ideal per a fitxers grans, com ara v\u00eddeos o arxius ISO, ja que redueix la fragmentaci\u00f3 interna, per\u00f2 no \u00e9s recomanable per a fitxers petits.</li> </ul>"},{"location":"sistemes_fitxers/#fragmentacio-externa","title":"Fragmentaci\u00f3 externa","text":"<p>La fragmentaci\u00f3 externa es produeix quan les dades d\u2019un fitxer es guarden en blocs no consecutius del disc. Aix\u00f2 passa sovint amb el temps, a mesura que es creen, editen i eliminen fitxers. El resultat \u00e9s que el sistema operatiu necessita m\u00e9s temps per accedir a les dades, ja que ha de localitzar m\u00faltiples blocs en lloc d\u2019un sol segment contigu.</p>"},{"location":"sistemes_fitxers/#exemple-practic_1","title":"Exemple pr\u00e0ctic:","text":"<ul> <li>Imagina que tens un disc gaireb\u00e9 ple. Quan es crea un fitxer, les seves dades es poden repartir en diferents blocs disponibles per\u00f2 no consecutius. Aix\u00f2 fa que la lectura del fitxer sigui m\u00e9s lenta.</li> </ul>"},{"location":"sistemes_fitxers/#solucions_1","title":"Solucions:","text":"<ul> <li>Desfragmentaci\u00f3: Reorganitzar els blocs de manera que els fitxers siguin contigus al disc. Aquesta acci\u00f3 millora la velocitat de lectura i escriptura.</li> </ul>"},{"location":"sistemes_fitxers/#desfragmentacio","title":"Desfragmentaci\u00f3","text":"<p>La desfragmentaci\u00f3 \u00e9s el proc\u00e9s de reorganitzar els blocs d\u2019un disc per agrupar els fitxers en segments contigus i reduir la fragmentaci\u00f3 externa. Aquest proc\u00e9s pot millorar significativament el rendiment del sistema, especialment en discos HDD (no tan rellevant en discos SSD).</p>"},{"location":"sistemes_fitxers/#consideracions","title":"Consideracions:","text":"<ul> <li>La desfragmentaci\u00f3 \u00e9s especialment \u00fatil en sistemes que utilitzen discos durs HDD, ja que millora l'acc\u00e9s seq\u00fcencial i l'efici\u00e8ncia del sistema.</li> <li>En discos SSD, la desfragmentaci\u00f3 no \u00e9s necess\u00e0ria, ja que l'acc\u00e9s a les dades no dep\u00e8n de la ubicaci\u00f3 f\u00edsica al disc. A m\u00e9s, aquest proc\u00e9s pot reduir la vida \u00fatil del disc SSD.</li> </ul>"},{"location":"sistemes_fitxers/#eines-utils","title":"Eines \u00fatils:","text":""},{"location":"sistemes_fitxers/#en-windows","title":"En Windows:","text":"<ul> <li>Windows inclou una eina integrada que es pot executar manualment o programar autom\u00e0ticament.</li> <li>Per accedir-hi, obre el men\u00fa d'inici, cerca \"Desfragmentador de discs\" i segueix aquests passos:</li> <li>Selecciona la unitat que vols desfragmentar.</li> <li>Fes clic a \"Analitza\" per veure el grau de fragmentaci\u00f3.</li> <li>Si cal, fes clic a \"Optimitza\" o \"Desfragmenta\" per iniciar el proc\u00e9s.</li> </ul>"},{"location":"sistemes_fitxers/#en-linux","title":"En Linux:","text":"<ul> <li>En sistemes amb particions ext4, es poden utilitzar eines com <code>e4defrag</code> per desfragmentar fitxers o particions espec\u00edfiques.</li> <li>Comanda per desfragmentar una partici\u00f3 espec\u00edfica: <code>\"e4defrag /dev/sdX1\"</code></li> </ul>"},{"location":"sistemes_fitxers/#exemples-practics","title":"Exemples pr\u00e0ctics:","text":"<ul> <li>Windows: Si el teu disc dur HDD comen\u00e7a a anar m\u00e9s lent despr\u00e9s d'instal\u00b7lar i esborrar molts fitxers, utilitza l'eina de desfragmentaci\u00f3 per reorganitzar els blocs. Aix\u00f2 pot millorar significativament la velocitat d'acc\u00e9s als fitxers.</li> <li>Linux: En un servidor que utilitza una partici\u00f3 ext4 molt fragmentada amb fitxers grans i petits, executar una eina com <code>e4defrag</code> pot millorar el rendiment de lectura i escriptura.</li> </ul>"},{"location":"sistemes_fitxers/#recomanacions-generals","title":"Recomanacions generals","text":"<ol> <li>Discos HDD: Desfragmenta peri\u00f2dicament, especialment si la unitat s\u2019utilitza per a emmagatzematge intensiu o en sistemes antics.</li> <li>Discos SSD: Evita la desfragmentaci\u00f3, ja que no aporta millores i pot danyar el disc.</li> <li>Planificaci\u00f3: Configura desfragmentacions autom\u00e0tiques en Windows per mantenir un rendiment \u00f2ptim.</li> </ol>"},{"location":"sistemes_fitxers/#tipus-de-formateig","title":"Tipus de Formateig","text":""},{"location":"sistemes_fitxers/#formateig-de-baix-nivell","title":"Formateig de Baix Nivell","text":"<ul> <li> <p>S'executa directament sobre el disc f\u00edsic a nivell de sectors.</p> </li> <li> <p>Detecta i intenta reparar sectors defectuosos.</p> </li> <li> <p>Esborra completament els fitxers, fent que la seva recuperaci\u00f3 sigui gaireb\u00e9 impossible.</p> </li> </ul> <p>Exemple pr\u00e0ctic:</p> <ul> <li> <p>Els fabricants de discos realitzen aquest tipus de formateig abans de distribuir els discos al mercat. Aquest proc\u00e9s crea la infraestructura f\u00edsica necess\u00e0ria per a l'emmagatzematge de dades.</p> </li> <li> <p>Els usuaris finals no solen realitzar aquest tipus de formateig, per\u00f2 eines especialitzades permeten utilitzar-lo en casos de necessitat per reparar sectors defectuosos.</p> </li> </ul>"},{"location":"sistemes_fitxers/#formateig-de-nivell-mitja","title":"Formateig de Nivell Mitj\u00e0","text":"<ul> <li> <p>Configura el sistema de fitxers (com ara FAT32, NTFS o ext4).</p> </li> <li> <p>No esborra f\u00edsicament les dades, sin\u00f3 que elimina la informaci\u00f3 sobre la seva ubicaci\u00f3 al sistema de fitxers.</p> </li> <li> <p>Els fitxers es poden recuperar amb eines especialitzades fins que es sobreescriguin.</p> </li> </ul> <p>Exemple pr\u00e0ctic:</p> <ul> <li> <p>Canviar el sistema de fitxers d'un disc dur extern de FAT32 a NTFS per poder emmagatzemar fitxers m\u00e9s grans de 4 GB.</p> </li> <li> <p>\u00datil quan necessites optimitzar el sistema de fitxers segons els tipus de dades que es gestionen.</p> </li> </ul>"},{"location":"sistemes_fitxers/#formateig-dalt-nivell-o-rapid","title":"Formateig d'Alt Nivell o R\u00e0pid","text":"<ul> <li> <p>Una variant del formateig de nivell mitj\u00e0, que elimina \u00fanicament les metadades del sistema de fitxers.</p> </li> <li> <p>\u00c9s m\u00e9s r\u00e0pid per\u00f2 menys segur si es vol evitar que les dades es puguin recuperar.</p> </li> </ul> <p>Exemple pr\u00e0ctic: - Utilitzar el formateig r\u00e0pid per reinicialitzar una unitat USB o un disc dur extern de manera immediata. Aquest tipus de formateig s'usa habitualment per alliberar espai r\u00e0pidament sense eliminar f\u00edsicament les dades existents.</p>"},{"location":"sistemes_fitxers/#configuracio-de-blocs-i-pagines","title":"Configuraci\u00f3 de blocs i p\u00e0gines","text":"<p>Quan es formata un disc, \u00e9s important seleccionar correctament la mida del bloc (o unitat d'assignaci\u00f3). Aquesta configuraci\u00f3 afecta directament l'efici\u00e8ncia de l'emmagatzematge i el rendiment del sistema. Tamb\u00e9 hi ha el concepte de p\u00e0gina de mem\u00f2ria, que \u00e9s gestionat pel sistema operatiu.</p>"},{"location":"sistemes_fitxers/#comparativa-pagines-de-memoria-i-blocs-de-sistema-de-fitxers","title":"Comparativa: P\u00e0gines de mem\u00f2ria i blocs de sistema de fitxers","text":"Configuraci\u00f3 Mida Gran (Blocs/P\u00e0gines) Mida Petita (Blocs/P\u00e0gines) Gesti\u00f3 de mem\u00f2ria (p\u00e0gines) Quan \u00e9s adequat: Computaci\u00f3 d'alt rendiment, bases de dades grans, virtualitzaci\u00f3. Quan \u00e9s adequat: Sistemes de computaci\u00f3 general, sistemes amb RAM limitada, sistemes encastats. Avantatges: Taules de p\u00e0gines m\u00e9s petites, millor per a grans conjunts de dades, eficient per a aplicacions amb grans petjades de mem\u00f2ria. Avantatges: \u00das m\u00e9s eficient de la mem\u00f2ria per a processos petits, menys mem\u00f2ria desaprofitada, gesti\u00f3 m\u00e9s fina. Sistema de fitxers (blocs) Quan \u00e9s adequat: Servidors de mitjans, emmagatzematge de fitxers grans (v\u00eddeos, imatges), sistemes de c\u00f2pia de seguretat. Quan \u00e9s adequat: Sistemes amb molts fitxers petits (codi font, documents), volums d'arrencada. Avantatges: Eficient per a fitxers grans, redueix la sobrec\u00e0rrega en els metadades del sistema de fitxers, bo per a operacions seq\u00fcencials de lectura/escriptura. Avantatges: Redueix l'espai desaprofitat (slack space), millor per a acc\u00e9s aleatori, eficient per a operacions amb fitxers petits."},{"location":"sistemes_fitxers/#casos-practics","title":"Casos pr\u00e0ctics","text":"Sistema de Fitxers Cas d'\u00das: Pel\u00b7l\u00edcules / Mitjans Grans Cas d'\u00das: M\u00fasica / Fotos Cas d'\u00das: Documents / Fitxers Generals Cas d'\u00das: Disc d'Arrencada / Sistema NTFS (Windows) Bloc gran (p. ex., 64 KB). Eficient per a fitxers grans. Bloc est\u00e0ndard (p. ex., 4 KB). Equilibri general. Bloc est\u00e0ndard (p. ex., 4 KB). Rendiment fiable. Bloc est\u00e0ndard (p. ex., 4 KB). Compatibilitat i rendiment. EXT4 (Linux) Bloc gran (4-64 KB). Redueix la fragmentaci\u00f3 en fitxers grans. Bloc est\u00e0ndard (p. ex., 4 KB). Bon rendiment. Bloc est\u00e0ndard (p. ex., 4 KB). Molt eficient. Bloc est\u00e0ndard (p. ex., 4 KB). Suport per journaling. APFS (macOS) Configuraci\u00f3 per defecte. Optimitzat per SSDs. Configuraci\u00f3 per defecte. Compatible amb tot. Configuraci\u00f3 per defecte. Protecci\u00f3 contra fallades. Configuraci\u00f3 per defecte. Rendiment i fiabilitat. XFS (Linux) Configuraci\u00f3 est\u00e0ndard. Ideal per a grans volums de dades. Configuraci\u00f3 est\u00e0ndard. Bon rendiment escalable. Configuraci\u00f3 est\u00e0ndard. Alt rendiment. No habitual per a discs d'arrencada, per\u00f2 eficient per sistemes grans. <p>Font: Com utilitzar la mida de bloc correcta en formatar</p>"},{"location":"sistemes_fitxers/#recomanacions-generals_1","title":"Recomanacions generals","text":"<ol> <li>Per a fitxers grans: Trieu blocs m\u00e9s grans (p. ex., 64 KB o m\u00e9s).</li> <li>Per a fitxers petits: Utilitzeu blocs petits (p. ex., 4 KB) per evitar espai desaprofitat.</li> <li>Sistema operatiu i arrencada: Mantingueu la mida est\u00e0ndard (p. ex., 4 KB) per garantir compatibilitat i rendiment.</li> </ol>"},{"location":"sistemes_fitxers/#particions","title":"Particions","text":"<p>Les particions permeten dividir un disc f\u00edsic en m\u00faltiples unitats l\u00f2giques, facilitant l'organitzaci\u00f3 de dades, la instal\u00b7laci\u00f3 de diversos sistemes operatius i l'optimitzaci\u00f3 del rendiment.</p>"},{"location":"sistemes_fitxers/#que-es-una-particio","title":"Qu\u00e8 \u00e9s una partici\u00f3?","text":"<p>Una partici\u00f3 \u00e9s una divisi\u00f3 l\u00f2gica d'un disc dur o SSD que permet gestionar diferents tipus de dades o sistemes operatius de manera separada. Cada partici\u00f3 actua com una unitat independent, i pot tenir el seu propi sistema de fitxers.</p>"},{"location":"sistemes_fitxers/#avantatges-de-les-particions","title":"Avantatges de les particions","text":"<ul> <li>Organitzaci\u00f3 de dades: Mantenir els fitxers personals separats dels fitxers del sistema operatiu facilita la gesti\u00f3 i evita p\u00e8rdues accidentals.</li> <li>Compatibilitat: Permet tenir diferents sistemes operatius, com Windows i Linux, en el mateix disc.</li> <li>C\u00f2pies de seguretat: Les particions dedicades a les c\u00f2pies de seguretat protegeixen les dades en cas d'errors al sistema principal.</li> </ul>"},{"location":"sistemes_fitxers/#com-gestionar-particions","title":"Com gestionar particions?","text":""},{"location":"sistemes_fitxers/#en-windows_1","title":"En Windows","text":"<p>Windows inclou eines gr\u00e0fiques per gestionar particions, com la Gesti\u00f3 de discs. Aquesta eina permet crear, redimensionar i formatar particions sense necessitat de programari extern.</p> <p>Passos principals:</p> <ol> <li> <p>Obre la Gesti\u00f3 de discs prement <code>Windows + X</code> i seleccionant \"Gesti\u00f3 de discs\".</p> </li> <li> <p>Selecciona el disc que vols particionar i fes clic amb el bot\u00f3 dret per reduir o crear particions.</p> </li> <li> <p>Assigna un sistema de fitxers com NTFS o FAT32 i una lletra d'unitat.</p> </li> <li> <p>Aplica els canvis i espera que es completin.</p> </li> </ol> <p>Un v\u00eddeo val m\u00e9s que mil paraules! \ud83d\ude0a</p> <p>Refer\u00e8ncia: V\u00eddeo tutorial: Gesti\u00f3 de particions en Windows</p>"},{"location":"sistemes_fitxers/#en-linux_1","title":"En Linux","text":"<p>En sistemes Linux, les particions es poden gestionar mitjan\u00e7ant eines de l\u00ednia de comandes, com <code>fdisk</code> o <code>parted</code>, o mitjan\u00e7ant eines gr\u00e0fiques com <code>GParted</code>.</p> <p>Gesti\u00f3 amb <code>fdisk</code>:</p> <ol> <li> <p>Llista els discs disponibles amb la comanda <code>\"sudo fdisk -l\"</code>.</p> </li> <li> <p>Selecciona el disc que vols particionar amb <code>\"sudo fdisk /dev/sdX\"</code> (substitueix <code>/dev/sdX</code> pel disc desitjat).</p> </li> <li> <p>Crea una partici\u00f3 nova prement <code>n</code> i defineix les mides i el tipus.</p> </li> <li> <p>Escriu els canvis amb <code>w</code> i formatar la partici\u00f3 amb <code>\"sudo mkfs.ext4 /dev/sdX1\"</code>.</p> </li> </ol> <p>Gesti\u00f3 amb <code>GParted</code>:</p> <ol> <li> <p>Instal\u00b7la <code>GParted</code> amb <code>\"sudo apt-get install gparted\"</code>.</p> </li> <li> <p>Obre l'eina amb permisos d'administrador (<code>sudo gparted</code>).</p> </li> <li> <p>Selecciona el disc, crea particions noves i aplica els canvis.</p> </li> </ol> <p>Un v\u00eddeo val m\u00e9s que mil paraules! \ud83d\ude0a</p> <p>Refer\u00e8ncia: V\u00eddeo tutorial: Com gestionar particions en Linux</p>"},{"location":"sistemes_fitxers/#recomanacions-generals_2","title":"Recomanacions generals","text":"<ol> <li>Fes c\u00f2pies de seguretat: Abans de modificar particions, assegura't de fer una c\u00f2pia de seguretat de les dades importants.</li> <li>Planifica les particions: Decideix quantes particions necessites i per a qu\u00e8 les utilitzar\u00e0s (sistema operatiu, dades personals, c\u00f2pies de seguretat, etc.).</li> <li>Tria el sistema de fitxers adequat: Per a Windows, NTFS \u00e9s recomanable; per a Linux, ext4 \u00e9s la millor opci\u00f3 en la majoria dels casos.</li> </ol>"},{"location":"timeshift/","title":"Creaci\u00f3 d'una instant\u00e0nia de seguretat amb Timeshift","text":"<p>En aquest apartat utilitzarem Timeshift per crear una instant\u00e0nia del sistema. Aix\u00f2 ens permetr\u00e0 restaurar fitxers o configuracions en cas d'esborrar alguna cosa accidentalment. A Windows, existeix una funcionalitat similar anomenada Restore Point (punt de restauraci\u00f3), per\u00f2 a Linux no \u00e9s tan autom\u00e0tic. Amb Timeshift, aconseguirem una protecci\u00f3 equivalent.</p>"},{"location":"timeshift/#installacio-de-timeshift","title":"Instal\u00b7laci\u00f3 de Timeshift","text":"<p>Per instal\u00b7lar Timeshift, executa la seg\u00fcent comanda:</p> <pre><code>sudo apt install timeshift\n</code></pre> <p>Nota: No es recomana utilitzar el mode \"superusuari\" amb <code>sudo su</code> si no saps exactament qu\u00e8 fas. \u00c9s millor utilitzar sempre <code>sudo</code> abans de cada comanda per evitar esborrar fitxers importants de manera accidental.</p> <p></p>"},{"location":"timeshift/#creacio-de-fitxers-per-a-la-prova","title":"Creaci\u00f3 de fitxers per a la prova","text":"<p>Crearem dos fitxers de prova per simular l'escenari en qu\u00e8 es podrien perdre dades. Utilitzarem les comandes seg\u00fcents per crear un directori i un fitxer:</p> <pre><code>mkdir hello \n</code></pre> <pre><code>touch adios.txt\n</code></pre> <p></p>"},{"location":"timeshift/#configuracio-de-timeshift","title":"Configuraci\u00f3 de Timeshift","text":"<p>Obrim Timeshift i fem clic a Next per iniciar el proc\u00e9s de configuraci\u00f3.</p> <p></p> <p>Selecci\u00f3 de la unitat</p> <p>Seleccionem la unitat de disc adequada per a la nostra instant\u00e0nia. En aquest exemple, seleccionem SDA2. Assegura't de triar la unitat correcta segons la teva configuraci\u00f3 del sistema.</p> <p></p> <p>Programaci\u00f3 de les instant\u00e0nies</p> <p>\u00c9s molt important configurar quan es realitzaran les instant\u00e0nies autom\u00e0tiques. Es recomana establir-les per a que es facin en iniciar el sistema (on boot) per minimitzar l'impacte en el rendiment mentre treballes.</p> <p></p> <p>Inclusi\u00f3 i exclusi\u00f3 de directoris</p> <p>Seleccionem els directoris dels quals volem fer la c\u00f2pia de seguretat. Normalment, voldr\u00e0s incloure el directori <code>/home</code> (en aquest cas, /home/alumne) i excloure directoris com <code>/root</code>, ja que \u00e9s poc probable que vulguis restaurar fitxers del sistema.</p> <p></p> <p>Creaci\u00f3 de l'instant\u00e0nia</p> <p>Despr\u00e9s de configurar-ho tot, fem clic a Create per iniciar el proc\u00e9s de creaci\u00f3 de l'instant\u00e0nia. Ara caldr\u00e0 esperar mentre es realitza la c\u00f2pia de seguretat.</p> <p></p> <p>Un cop finalitzat, ja tindrem una c\u00f2pia de seguretat o instant\u00e0nia creada.</p> <p></p>"},{"location":"timeshift/#prova-de-restauracio","title":"Prova de restauraci\u00f3","text":"<p>Ara simularem la p\u00e8rdua de dades esborrant els fitxers que hem creat anteriorment:</p> <pre><code>rm -rf hello \n</code></pre> <pre><code>rm adios\n</code></pre> <p></p> <p>Restauraci\u00f3 de l'instant\u00e0nia</p> <p>Obrim Timeshift de nou, fem clic a Restore, i despr\u00e9s seguim els passos amb Next.</p> <p></p> <p>Confirmaci\u00f3</p> <p>Confirmem les accions que es duran a terme per restaurar el sistema a l'estat anterior. Pot ser que se'ns demani reiniciar el sistema.</p> <p></p> <p>Si el sistema requereix un reinici, deixem que completi el proc\u00e9s autom\u00e0ticament sense intervenir.</p> <p></p>"},{"location":"timeshift/#verificacio-de-la-restauracio","title":"Verificaci\u00f3 de la restauraci\u00f3","text":"<p>Un cop reiniciat l'ordinador, utilitzem la comanda <code>ls</code> per comprovar si els fitxers esborrats s'han restaurat correctament.</p> <p></p>"},{"location":"tipus-licencia/","title":"Llic\u00e8ncies GPL (General Public License)","text":"<p>La GPL \u00e9s una de les llic\u00e8ncies m\u00e9s populars per a programari lliure. Les seves caracter\u00edstiques principals s\u00f3n:</p> <ul> <li>Copyleft: Si modifiques un programa GPL, has de distribuir-lo amb la mateixa llic\u00e8ncia. M\u00e9s informaci\u00f3 a la p\u00e0gina oficial de la GPL.</li> <li>Codi obert: Tothom pot accedir al codi font i modificar-lo.</li> <li>Protecci\u00f3 de la llibertat: Sempre garanteix llibertat per a l'usuari.</li> </ul>"},{"location":"tipus-licencia/#llicencies-permissives","title":"Llic\u00e8ncies Permissives","text":"<p>Les llic\u00e8ncies permissives (com MIT o Apache) s\u00f3n m\u00e9s flexibles. Els punts clau s\u00f3n:</p> <ul> <li>Menys restriccions: Permeten redistribuir el codi amb altres llic\u00e8ncies, incloent-hi llic\u00e8ncies tancades.</li> <li>M\u00e9s flexibilitat: Projectes comercials poden integrar codi sense compartir modificacions.</li> <li>Facilitat d'\u00fas: Molt comunes en projectes empresarials.</li> </ul>"},{"location":"tipus-licencia/#programari-lliure","title":"Programari Lliure","text":"<p>El programari lliure garanteix les seg\u00fcents llibertats:</p> <ul> <li>\u00das lliure: Pots utilitzar el programari com vulguis.</li> <li>Modificaci\u00f3: Pots estudiar i canviar el codi.</li> <li>Distribuci\u00f3: Pots compartir-lo o vendre'l.</li> </ul>"},{"location":"tipus-licencia/#llicencia-ubuntu","title":"Llic\u00e8ncia Ubuntu","text":"<p>Ubuntu fa servir principalment la GPL, assegurant que el sistema \u00e9s obert i modificable. Tamb\u00e9 inclou programari sota llic\u00e8ncies permissives (com BSD), que ofereixen m\u00e9s flexibilitat per a components espec\u00edfics. Per a m\u00e9s detalls, consulta Ubuntu Licensing.</p>"},{"location":"tipus-licencia/#llicencia-virtualbox","title":"Llic\u00e8ncia VirtualBox","text":"<p>VirtualBox utilitza dues llic\u00e8ncies:</p> <ul> <li>OSE (Open Source Edition): Llicenciada sota la GPL, \u00e9s completament oberta i modificable. M\u00e9s informaci\u00f3 a la VirtualBox License FAQ.</li> <li>PUEL (Personal Use and Evaluation License): Aquesta versi\u00f3 inclou funcions extra, per\u00f2 no permet modificar el codi ni distribuir-lo. Consulta'n els detalls a VirtualBox Licensing.</li> </ul>"},{"location":"vbox/","title":"Configuraci\u00f3 inicial de VirtualBox","text":""},{"location":"vbox/#creacio-duna-maquina-virtual","title":"Creaci\u00f3 d'una m\u00e0quina virtual","text":"<p>Comen\u00e7a obrint VirtualBox i seleccionant \"Nou\" des del men\u00fa d'Eines. Aix\u00f2 et permetr\u00e0 crear una nova m\u00e0quina virtual per executar Ubuntu o qualsevol altre sistema operatiu.</p> <p></p> <p>A continuaci\u00f3, selecciona la ISO del sistema operatiu. Fes clic al men\u00fa desplegable i escull la ISO que vols utilitzar, com ara la d'Ubuntu.</p> <p></p> <p>\u00c9s important fer clic en \"Skip unattended installation\". D'aquesta manera, podrem realitzar la instal\u00b7laci\u00f3 manual.</p> <p></p> <p>Per configurar la connexi\u00f3 a la xarxa, \u00e9s recomanable utilitzar la XARXA NAT, ja que sol evitar complicacions. Si tens una xarxa dom\u00e8stica segura, tamb\u00e9 pots optar pel Mode Pont.</p> <p></p> <p>Ara \u00e9s moment d'assignar recursos. Si el teu ordinador t\u00e9 m\u00e9s de 16 GB de RAM, assigna uns 4 GB a la m\u00e0quina virtual per garantir un bon rendiment. A m\u00e9s, pots configurar el nombre de nuclis de CPU (per exemple, 2 nuclis) i la mida del disc dur segons les teves necessitats.</p> <p></p>"},{"location":"vbox/#installacio-del-sistema-operatiu-os","title":"Instal\u00b7laci\u00f3 del Sistema Operatiu (OS)","text":"<p>Un cop creada la m\u00e0quina, fes clic a Inicia per arrencar el proc\u00e9s d'instal\u00b7laci\u00f3. Quan aparegui la pantalla negra amb les opcions, selecciona Provar o Instal\u00b7lar.</p> <p></p> <p>Durant la instal\u00b7laci\u00f3, selecciona la modalitat Interactive si vols personalitzar el proc\u00e9s d'instal\u00b7laci\u00f3.</p> <p></p> <p>Tamb\u00e9 se't donar\u00e0 l'opci\u00f3 de connectar la m\u00e0quina virtual a Internet. Si vols fer-ho, assegura't que la connexi\u00f3 a la xarxa estigui activada.</p> <p></p> <p>Si ets un usuari avan\u00e7at, pots optar per la configuraci\u00f3 manual de les particions del disc. Si prefereixes un proc\u00e9s m\u00e9s senzill, tria la configuraci\u00f3 autom\u00e0tica.</p> <p></p> <p>Finalment, defineix les particions del disc, com ara swap, root i home, segons les teves prefer\u00e8ncies.</p> <ol> <li> <p>Partici\u00f3 Root (<code>/</code>) La partici\u00f3 root (representada per <code>/</code>) \u00e9s el cor del sistema Linux. Aqu\u00ed s'hi instal\u00b7len tots els fitxers i directoris necessaris per al funcionament del sistema operatiu. Aix\u00f2 inclou el nucli de Linux, biblioteques, aplicacions, i altres components essencials. Aquesta partici\u00f3 ha de tenir una mida adequada per garantir que tingui prou espai per a totes les aplicacions i actualitzacions del sistema.</p> </li> <li> <p>Sistema de fitxers recomanat: <code>ext4</code></p> </li> <li> <p>Mida recomanada: Almenys 20 GB (dep\u00e8n del tipus d'\u00fas)</p> </li> <li> <p>Partici\u00f3 Home (<code>/home</code>) La partici\u00f3 home (<code>/home</code>) \u00e9s on es desen els fitxers i configuracions personals de cada usuari del sistema. Cadascun dels usuaris tindr\u00e0 un directori dins de <code>/home</code>, i mantenir-lo separat de la partici\u00f3 root permet actualitzar o reinstal\u00b7lar el sistema operatiu sense perdre les dades personals.</p> </li> <li> <p>Sistema de fitxers recomanat: <code>ext4</code></p> </li> <li> <p>Mida recomanada: Dep\u00e8n de les teves necessitats d'emmagatzematge. Pot ocupar gran part de l'espai disponible si tens molts fitxers personals.</p> </li> <li> <p>Partici\u00f3 Swap La partici\u00f3 swap s'utilitza com a mem\u00f2ria virtual. Quan el sistema es queda sense mem\u00f2ria RAM disponible, comen\u00e7a a utilitzar l'espai de la partici\u00f3 swap per gestionar processos inactius. Tot i que l'\u00fas de swap pot fer que el sistema sigui m\u00e9s lent que amb mem\u00f2ria RAM real, \u00e9s \u00fatil per evitar que el sistema es quedi sense recursos.</p> </li> </ol> <p></p> <p>En aquesta pantalla, selecciona el sistema de fitxers ext4 i la partici\u00f3 root per instal\u00b7lar el sistema operatiu. Despr\u00e9s, fes clic a Next per continuar la instal\u00b7laci\u00f3 dins de la partici\u00f3 root.</p> <p></p> <p>Se't preguntar\u00e0 si tot est\u00e0 configurat correctament. Revisa la informaci\u00f3 i fes clic a Continuar per seguir endavant.</p> <p></p> <p>A la seg\u00fcent pantalla, haur\u00e0s de crear el teu usuari, contrasenya i nom de l'ordinador. Per seguretat, selecciona l'opci\u00f3 que demana la contrasenya cada cop que inici\u00efs sessi\u00f3.</p> <p></p>"}]}