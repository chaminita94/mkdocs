
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../anacron/">
      
      
        <link rel="next" href="../ldap/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Quotes per a Usuaris i Grups - Virtualització</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#que-son-les-quotes-de-disc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Virtualització" class="md-header__button md-logo" aria-label="Virtualització" data-md-component="logo">
      
  <img src="../linux-ethandud.gif" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Virtualització
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quotes per a Usuaris i Grups
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../objectius/" class="md-tabs__link">
        
  
    
  
  Per què triar Linux?

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../instalacio_inicial/" class="md-tabs__link">
          
  
  Sprint 1

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../fitx_importants/" class="md-tabs__link">
          
  
  Sprint 2

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ldap/" class="md-tabs__link">
          
  
  Sprint 3

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../raid/" class="md-tabs__link">
          
  
  Sprint 4

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../monitoratge/" class="md-tabs__link">
          
  
  Sprint 5

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../licencia/" class="md-tabs__link">
          
  
  Licència

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Typeracer.html" class="md-tabs__link">
        
  
    
  
  Typeracer

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../customize/" class="md-tabs__link">
        
  
    
  
  Customize your MKDOCS

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Virtualització" class="md-nav__button md-logo" aria-label="Virtualització" data-md-component="logo">
      
  <img src="../linux-ethandud.gif" alt="logo">

    </a>
    Virtualització
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../objectius/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Per què triar Linux?
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sprint 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../instalacio_inicial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalació Inicial Usuari Avançat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració Inicial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../netplan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració de Xarxa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bootloaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestors D'arrancada
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reparació d'inici
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timeshift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creació d'una instantània del sistema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../comandes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comandes bàssiques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fixació de Paquets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../windows10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows 10 pro
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sprint 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fitx_importants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fitxers Importants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gestio_usuaris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió d'Usuaris
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gestproces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de Processos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../permisos_especials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permisos Especials i ACL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aplicar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aplicarció de Permisos Especial i ACL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sistemes_fitxers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sistemes de Fitxers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../particions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de Particions i Compartició de Recursos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../copies_segur/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Còpies de Seguretat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anacron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatitzacions de Tasques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Quotes per a Usuaris i Grups
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Quotes per a Usuaris i Grups
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-son-les-quotes-de-disc" class="md-nav__link">
    <span class="md-ellipsis">
      Què són les QUOTES de disc?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Què són les QUOTES de disc?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aplicar-quotes" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicar quotes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aplicar quotes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activar-quotes-en-un-directori" class="md-nav__link">
    <span class="md-ellipsis">
      Activar Quotes en un Directori
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicar-quotes-a-un-usuari" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicar quotes a un usuari
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aplicar quotes a un usuari">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemple" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superar-el-limit-de-quota" class="md-nav__link">
    <span class="md-ellipsis">
      Superar el Límit de Quota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracio-de-warnquota-amb-notificacions-per-correu" class="md-nav__link">
    <span class="md-ellipsis">
      Configuració de warnquota amb notificacions per correu
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aplicar-quotes-a-grups" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicar Quotes a Grups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aplicar Quotes a Grups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacio-de-fitxers-i-intent-de-sobrepassar-el-limit-de-quota" class="md-nav__link">
    <span class="md-ellipsis">
      Creació de fitxers i intent de sobrepassar el límit de quota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprovacio-de-lestat-de-la-quota-de-grup" class="md-nav__link">
    <span class="md-ellipsis">
      Comprovació de l'estat de la quota de grup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprovació de l'estat de la quota de grup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#email-automatic-de-superar-quota-de-grup" class="md-nav__link">
    <span class="md-ellipsis">
      Email Automàtic de Superar Quota de Grup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Sprint 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació DOMINI LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../client_ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració del client LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gestio_domini/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestio del domini LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mobils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perfils mòbils i Compartició de Recursos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samba/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compartir recursos amb SAMBA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ldapgui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració LDAP GUI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Sprint 4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentació RAID
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raid1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració de RAID 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raid5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració de RAID 5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 5
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Sprint 5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoratge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoratge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actualizacion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Servidor d'Actualitzacions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lynis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auditoria de Seguretat per a Linux
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Licència
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Licència
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../licencia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llicència d'us
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tipus-licencia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tipus de Llicències
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Typeracer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Typeracer
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../customize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize your MKDOCS
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Quotes per a Usuaris i Grups</h1>

<h2 id="que-son-les-quotes-de-disc"><strong>Què són les QUOTES de disc?</strong></h2>
<p>Les quotes de disc són una eina essencial per limitar i gestionar l'espai d'emmagatzematge utilitzat per usuaris i grups en un sistema Linux. Aquestes permeten prevenir l'ús excessiu d'espai de disc, assegurant que cap usuari o grup monopolitzi els recursos del sistema.</p>
<p>En aquest apartat aprendrem:</p>
<ul>
<li>
<p>Què són les quotes de disc i per què són útils.</p>
</li>
<li>
<p>Com assignar quotes a usuaris individuals.</p>
</li>
<li>
<p>Com configurar quotes per a grups.</p>
</li>
<li>
<p>Com monitoritzar les quotes i configurar notificacions automàtiques.</p>
</li>
</ul>
<h3 id="aplicar-quotes">Aplicar quotes</h3>
<p>Primerament, instal·lem <code>quota</code> utilitzant la següent comanda:</p>
<pre><code>apt install quota
</code></pre>
<p>Hem creat una partició <code>/dev/sdb1</code> i posteriorment hem muntat la carpeta <code>/mnt/dades</code> editant el fitxer <code>fstab</code>.</p>
<blockquote>
<p><strong>Atenció!</strong> Molt de compte amb el fitxer <code>fstab</code>. Si introdueixes alguna configuració incorrecta, el sistema pot no arrencar i hauràs de reparar-lo manualment.</p>
</blockquote>
<p><img alt="alt text" src="../custom/fstabquota.png" /></p>
<p>Afegim les opcions <code>defaults,usrquota,grpquota</code>. Això habilitarà les quotes tant per a grups com per a usuaris.</p>
<p>Després de configurar-ho, reiniciem el sistema perquè el muntatge s'apliqui correctament.</p>
<hr />
<h4 id="activar-quotes-en-un-directori">Activar Quotes en un Directori</h4>
<p>Un cop el sistema estigui en marxa, comprovem si els fitxers de quota existeixen executant:</p>
<ul>
<li><code>quotacheck -cug /mnt/dades</code>  </li>
<li><code>quotaon /mnt/dades</code>  </li>
</ul>
<p>Aquests passos verificaran i activaran les quotes.</p>
<p><img alt="alt text" src="../custom/qtcheck.png" /></p>
<blockquote>
<p><strong>Nota!</strong> Si no veus els fitxers <code>aquota.group</code> i <code>aquota.user</code>, pots forçar-ne la creació amb:
<code>quotacheck -cugm /mnt/dades</code><br />
i posteriorment activar-los amb <code>quotaon /mnt/dades</code>.</p>
</blockquote>
<hr />
<h4 id="aplicar-quotes-a-un-usuari"><strong>Aplicar quotes a un usuari</strong></h4>
<p>Per assignar quotes als usuaris, existeixen dues maneres. Una d'elles és utilitzant <strong><code>edquota -u + nom</code></strong>, que permet editar manualment les quotes assignades a un usuari.</p>
<pre><code>edquota -u &quot;exemple&quot;
</code></pre>
<p><img alt="alt text" src="../custom/edq.png" /></p>
<ul>
<li><strong>Blando o Soft</strong>: Indica el límit tou, que l'usuari pot excedir durant el període de gràcia.  </li>
<li><strong>Duro o Hard</strong>: Representa el límit màxim que no es pot excedir.</li>
</ul>
<p>Configura aquests valors segons les necessitats de cada usuari.</p>
<p><strong>Una altra manera d'assignar quotes és amb la següent comanda:</strong></p>
<pre><code>setquota -u vitaliy 1024 2048 0 0 /mnt/dades
</code></pre>
<p>Aquesta comanda fa el mateix que l'edició manual amb <strong><code>edquota</code></strong>, però no cal entrar dins del fitxer ni modificar-lo manualment.</p>
<h5 id="exemple"><strong>Exemple</strong></h5>
<p>En aquesta secció, expliquem com assignar quotes als usuaris amb exemples pràctics.</p>
<p><img alt="alt text" src="../custom/carpetes.png" /></p>
<blockquote>
<p><strong>Nota: Si l'usuari no pot escriure executa <code>chmod 777 /mnt/dades</code>.</strong></p>
</blockquote>
<!-- Botó per mostrar el popup -->
<p><button class="popup-button" onclick="showPopup('popup1', 'overlay1')">Explicació de la Captura</button></p>
<!-- Overlay i Popup -->
<div class="overlay" id="overlay1" onclick="hidePopup('popup1', 'overlay1')"></div>
<div class="popup" id="popup1">
  <span class="close-btn" onclick="hidePopup('popup1', 'overlay1')">×</span>
  <h3>Explicació Pas a Pas de la Captura</h3>

  <p>A la captura de pantalla es mostren els passos següents per aplicar quotes a un usuari:</p>

  <ol>
    <li>
      <strong><code>setquota -u vitaliy 1024 2048 0 0 /mnt/dades</code></strong>  
      <p>Aquesta comanda assigna una quota a l'usuari <code>vitaliy</code>:</p>
      <ul>
        <li><strong>1024</strong>: Límit tou (soft limit) de 1 MB.</li>
        <li><strong>2048</strong>: Límit dur (hard limit) de 2 MB.</li>
        <li><strong>0 0</strong>: No s'assigna cap límit per als inodes.</li>
      </ul>
    </li>
    <li>
      <strong><code>repquota -a</code></strong>  
      <p>Comprova les quotes del sistema. Al principi només apareix l'usuari <code>root</code> amb un ús mínim d'espai.</p>
    </li>
    <li>
      <strong>Inici de sessió com a usuari <code>vitaliy</code></strong>  
      <p>L'usuari <code>vitaliy</code> crea un directori i un fitxer per consumir espai:</p>
      <ul>
        <li><code>mkdir hello</code>: Crea un directori anomenat "hello".</li>
        <li><code>touch hello</code>: Crea un fitxer buit.</li>
      </ul>
    </li>
    <li>
      <strong>Comprovació de quotes després de l'activitat</strong>  
      <p>Es torna a executar <code>repquota -a</code> per verificar l'ús actualitzat de l'usuari:</p>
      <ul>
        <li>L'usuari <code>vitaliy</code> apareix ara amb:</li>
        <ul>
          <li><strong>Usat</strong>: L'espai utilitzat (4 blocs).</li>
          <li><strong>Blando</strong>: Límit tou (1024 blocs).</li>
          <li><strong>Duro</strong>: Límit dur (2048 blocs).</li>
        </ul>
      </ul>
    </li>
  </ol>

  <p>Aquests passos confirmen que les quotes estan funcionant correctament per a l'usuari <code>vitaliy</code>.</p>
</div>

<script>
  function showPopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'block';
    document.getElementById(overlayId).style.display = 'block';
  }

  function hidePopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'none';
    document.getElementById(overlayId).style.display = 'none';
  }
</script>

<style>
  .popup-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  .popup-button:hover {
    background-color: #0056b3;
  }

  .popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #2c2c2c;
    border: 1px solid #444444;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
    padding: 20px;
    z-index: 1000;
    width: 80%;
    max-width: 900px;
    overflow-y: auto;
    max-height: 80%;
    color: #ffffff;
  }

  .popup .close-btn {
    float: right;
    cursor: pointer;
    font-size: 18px;
    color: #888888;
  }

  .popup .close-btn:hover {
    color: #ffffff;
  }

  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }
</style>

<hr />
<p><strong>Intentem sobrepassar el límit per veure què pot passar</strong></p>
<p><img alt="alt text" src="../custom/limit.png" /></p>
<p>La comanda <code>dd</code> s'utilitza per copiar i convertir fitxers de manera controlada. En aquest cas, s'utilitza per crear fitxers de prova amb dades generades aleatòriament a partir de <code>/dev/zero</code>.</p>
<p><strong>Comanda:</strong></p>
<p><code>dd if=/dev/zero of=test bs=1K count=800</code></p>
<ul>
<li><strong><code>if=/dev/zero</code></strong>: Especifica el fitxer d'entrada, en aquest cas <code>/dev/zero</code>, que és un dispositiu especial que genera zeros contínuament.</li>
<li><strong><code>of=test</code></strong>: El fitxer de sortida, en aquest cas es crea un fitxer anomenat <code>test</code>.</li>
<li><strong><code>bs=1K</code></strong>: La mida del bloc de dades que es copiaran és de 1KB.</li>
<li><strong><code>count=800</code></strong>: Es copien 800 blocs de 1KB, resultant en un fitxer de 800KB.</li>
</ul>
<p>L'execució de la comanda crea un fitxer <code>test</code> de 819200 bytes (800KB) i mostra la velocitat de còpia (en aquest cas, <strong>585 MB/s</strong> en la primera execució i <strong>713 MB/s</strong> en la segona).</p>
<hr />
<p><strong>Comprovació de la quota d'usuari</strong></p>
<p>A la captura es mostra la comanda <code>quota -u vitaliy</code> per comprovar l'estat de la quota d'un usuari específic, en aquest cas, l'usuari <strong>vitaliy</strong>.</p>
<p><img alt="alt text" src="../custom/vitq.png" /></p>
<p><strong>Comanda:</strong></p>
<p><code>quota -u vitaliy</code></p>
<p>Aquesta comanda mostra la informació de les quotes de disc per a l'usuari <code>vitaliy</code>.</p>
<p><strong>Explicació de la sortida:</strong></p>
<ul>
<li><strong><code>/dev/sdb1</code></strong>: La partició on s'aplica la quota (en aquest cas, <code>/dev/sdb1</code>).</li>
<li><strong><code>1604*</code></strong>: L'espai actual utilitzat per l'usuari en blocs (1604 blocs). El símbol <code>*</code> indica que s'ha superat el límit tou.</li>
<li><strong><code>1024</code></strong>: Límit tou (soft limit) assignat, en blocs (1024 blocs o 1 MB).</li>
<li><strong><code>2048</code></strong>: Límit dur (hard limit) assignat, en blocs (2048 blocs o 2 MB).</li>
<li><strong><code>7 días</code></strong>: El període de gràcia de 7 dies per superar el límit tou.</li>
<li><strong><code>3</code></strong>: El nombre de fitxers utilitzats.</li>
</ul>
<hr />
<h3 id="superar-el-limit-de-quota"><strong>Superar el Límit de Quota</strong></h3>
<p><img alt="alt text" src="../custom/limitsuperat.png" /></p>
<p>A la captura es mostra el que passa quan l'usuari <strong>vitaliy</strong> supera el límit de quota assignat:</p>
<ol>
<li>
<p><strong>Comanda <code>dd</code> per crear fitxers</strong>:<br />
   L'usuari intenta crear fitxers amb la comanda <code>dd</code>, però es genera un error perquè s'ha superat la quota de disc. Els missatges d'error són els següents:</p>
</li>
<li>
<p><em>"dd: error al escribir en 'test2': Se ha excedido la cuota de disco"</em></p>
</li>
<li><em>"dd: error al escribir en 'test3': Se ha excedido la cuota de disco"</em></li>
</ol>
<p>Això indica que quan l'usuari intenta escriure més dades en els fitxers, el sistema bloqueja l'operació perquè s'ha arribat al límit de quota.</p>
<ol>
<li>
<p><strong>Comprovació de la quota amb <code>quota</code></strong>:<br />
   Quan l'usuari comprova l'estat de la seva quota amb la comanda <code>quota -u vitaliy</code>, es pot veure que ha superat el límit de quota assignat:</p>
</li>
<li>
<p><strong><code>/dev/sdb1  2048*  1024  2048  6 días</code></strong></p>
<ul>
<li><em><code>2048*</code></em>: L'usuari ha utilitzat 2048 blocs, que és el límit dur (hard limit).</li>
<li><em><code>1024</code></em>: Límit tou (soft limit) de 1 MB.</li>
<li><em><code>2048</code></em>: Límit dur (hard limit) de 2 MB.</li>
<li><em><code>6 días</code></em>: El període de gràcia de 6 dies, durant el qual l'usuari pot seguir utilitzant l'espai fins que redueixi l'ús d'espai.</li>
</ul>
</li>
<li>
<p><strong>Comportament al superar el límit</strong>:<br />
   Quan un usuari supera el límit dur (hard limit), el sistema impedeix que pugui escriure més dades al disc fins que redueixi l'ús d'espai per sota del límit dur. Això és el que es veu en la captura: el sistema bloqueja l'escriptura després d'excedir la quota.</p>
</li>
</ol>
<p>Quan descarreguem una foto i intentem guardar-la a <code>/mnt/dades</code>, obtenim el següent resultat:</p>
<p><img alt="Error al guardar la foto" src="../custom/fallo-foto.png" /></p>
<p>Aquest procés falla. A més, si intentem moure alguna foto o arxiu dins del directori <code>/mnt/dades/</code>, apareix aquest altre error indicant que hem superat la quota.</p>
<p><img alt="Error al moure arxiu" src="../custom/fotoerr.png" /></p>
<h3 id="configuracio-de-warnquota-amb-notificacions-per-correu">Configuració de <code>warnquota</code> amb notificacions per correu</h3>
<p>Com a administradors, és important saber quan un usuari supera el límit de quota, ja que sovint els usuaris no són conscients d'aquests límits. Una manera senzilla de gestionar-ho és configurar l'enviament de correus electrònics per avisar els usuaris quan hagin superat la seva quota.</p>
<p>No entrarem en detall, però si estàs interessat en fer-ho, fes clic al botó de baix.</p>
<!-- Botó per mostrar la configuració de warnquota -->
<p><button class="popup-button" onclick="showPopup('popupWarnquota', 'overlayWarnquota')">Configuració de Warning (Fes clic per veure més)</button></p>
<!-- Overlay i Popup per mostrar la configuració de warnquota -->
<div class="overlay" id="overlayWarnquota" onclick="hidePopup('popupWarnquota', 'overlayWarnquota')"></div>
<div class="popup" id="popupWarnquota">
  <span class="close-btn" onclick="hidePopup('popupWarnquota', 'overlayWarnquota')">×</span>
  <h3>Configuració de `warnquota`</h3>
  <p>Aquesta guia detalla els passos seguits per configurar `warnquota` perquè enviï correus electrònics quan els usuaris superen les seves quotes, i s'executi automàticament cada dia.</p>

  <ol>
    <li><strong>Instal·lació de les eines necessàries</strong>
      <ul>
        <li>Instal·lar els paquets requerits:
          <ul>
            <li><code>quota</code>: Per gestionar les quotes.</li>
            <li><code>mailutils</code>: Per enviar correus electrònics.</li>
            <li><code>postfix</code>: Per enviar correus electrònics.</li>
          </ul>
        </li>
        <li>Comandes utilitzades:
          <pre><code>apt update
apt install quota mailutils postfix</code></pre>
        </li>
      </ul>
    </li>
    <li><strong>Configuració del servei de correu</strong>
      <ul>
        <li>Es va instal·lar <code>mailutils</code>, que configura un agent de correu (com <code>postfix</code>) per permetre l'enviament d'emails.</li>
        <li>Durant la instal·lació de <code>postfix</code>, es va seleccionar "Internet Site" com a configuració.</li>
      </ul>
    </li>
    <li><strong>Edició del fitxer de configuració de <code>warnquota</code></strong>
      <ul>
        <li>Es va editar el fitxer <code>/etc/warnquota.conf</code> per personalitzar els avisos de correu.</li>
        <li>Contingut del fitxer ajustat:
          <pre><code>
MAIL_CMD = "/usr/sbin/sendmail -t"
FROM = "Administració &lt;admin@exemple.com&gt;"
SUBJECT = "Alerta: Has superat la quota!"
CC_TO = "exemple@correu.com"
SUPPORT = "exemple@correu.com"
PHONE = "&lt;opcional: número de telèfon&gt;"
CHARSET = UTF-8
          </code></pre>
        </li>
      </ul>
    </li>
    <li><strong>Prova manual de <code>warnquota</code></strong>
      <ul>
        <li>Es va executar <code>warnquota</code> manualment per verificar que els correus s'enviaven correctament:
          <pre><code>warnquota</code></pre>
        </li>
        <li>Es va comprovar que els correus arribaven a l'adreça configurada (<code>exemple@correu.com</code>).</li>
      </ul>
    </li>
    <li><strong>Configuració de l'execució automàtica</strong>
      <ul>
        <li>Es va configurar un cron job per executar <code>warnquota</code> diàriament.</li>
        <li>Contingut del cron job afegit:
          <pre><code>
0 0 * * * /usr/sbin/warnquota
          </code></pre>
        </li>
        <li>Aquest cron job es va afegir utilitzant:
          <pre><code>sudo crontab -e</code></pre>
        </li>
      </ul>
    </li>
  </ol>

  <h4>Resultat final</h4>
  <ul>
    <li><code>warnquota</code> envia correus electrònics als usuaris que superen el límit.</li>
    <li>Es verifica l'execució automàtica diària al log del sistema:
      <pre><code>grep warnquota /var/log/syslog</code></pre>
    </li>
  </ul>
  <p>Aquestes configuracions asseguren que les quotes estan monitoritzades i que els usuaris són avisats de manera eficient.</p>
</div>

<script>
  function showPopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'block';
    document.getElementById(overlayId).style.display = 'block';
  }

  function hidePopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'none';
    document.getElementById(overlayId).style.display = 'none';
  }
</script>

<style>
  .popup-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  .popup-button:hover {
    background-color: #0056b3;
  }

  .popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #2c2c2c;
    border: 1px solid #444444;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
    padding: 20px;
    z-index: 1000;
    width: 80%;
    max-width: 900px;
    overflow-y: auto;
    max-height: 80%;
    color: #ffffff;
  }

  .popup .close-btn {
    float: right;
    cursor: pointer;
    font-size: 18px;
    color: #888888;
  }

  .popup .close-btn:hover {
    color: #ffffff;
  }

  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }
</style>

<p>Després de configurar-ho tot, comprovem si s'envia un correu electrònic forçant l'enviament manualment. Per fer-ho, executa la comanda <code>warnquota</code> i comprova si arriben els correus electrònics.</p>
<p><img alt="alt text" src="../custom/emailq.png" /></p>
<p>Si un usuari supera la quota, el sistema li enviarà automàticament un correu electrònic d'avís.</p>
<p><img alt="alt text" src="../custom/automailuser.png" /></p>
<h2 id="aplicar-quotes-a-grups"><strong>Aplicar Quotes a Grups</strong></h2>
<p>Una altra manera molt utilitzada per aplicar quotes és fer-ho a nivell de grups. En aquest cas, podem assignar una quota a un grup i afegir-hi els usuaris. Així, els usuaris dins d'aquest grup heretaran la quota del grup.</p>
<p>Afegim l'usuari Vitaliy al grup de <code>classe</code> i apliquem la quota.</p>
<pre><code>setquota -g classe 5120 10240 0 0 /mnt/dades
</code></pre>
<p><img alt="alt text" src="../custom/classeg.png" /></p>
<ul>
<li><strong>Atenció!</strong> Aquesta configuració només funcionarà si els usuaris no tenen una quota assignada de manera individual. Si l'usuari té una quota pròpia, aquesta prevaldrà sobre la quota del grup, com podem observar a la següent captura.</li>
</ul>
<p><img alt="alt text" src="../custom/Comprovaciogrup.png" /></p>
<p>En aquesta captura, podem veure que l'usuari <strong>vitaliy</strong> està dins del grup <strong>classe</strong>, però quan utilitzem la comanda <code>repquota -g /mnt/dades</code> per verificar les quotes del grup, la quota aplicada a l'usuari <strong>vitaliy</strong> continua sent la seva quota individual, no la del grup.</p>
<p>Quan verifiquem la quota de l'usuari amb la comanda <code>repquota -u /mnt/dades</code>, veiem que la quota de <strong>vitaliy</strong> preval sobre la quota del grup, ja que la quota personal de l'usuari és visible en lloc de la quota del grup. Això confirma que, quan un usuari té una quota assignada directament, aquesta preval sobre les quotes assignades al grup.</p>
<hr />
<p><strong>Creació de l'usuari "Mireia" i el grup "Classe"</strong></p>
<p>En aquest apartat, crearem un nou usuari anomenat <strong>Mireia</strong>. Posteriorment, afegirem <strong>Mireia</strong> al grup <strong>Classe</strong> i assignarem la carpeta <code>/mnt/dades</code> a aquest grup.</p>
<p><img alt="alt text" src="../custom/mirgroupquopta.png" /></p>
<p>No és estrictament necessari que el grup propietari de <code>/mnt/dades</code> sigui "Classe", però és recomanable per assegurar que els membres del grup tinguin els permisos adequats per accedir i escriure a la carpeta.</p>
<p>Per assignar el grup propietari, utilitzarem la comanda següent:</p>
<pre><code class="language-bash">chown :classe /mnt/dades
</code></pre>
<hr />
<h3 id="creacio-de-fitxers-i-intent-de-sobrepassar-el-limit-de-quota"><strong>Creació de fitxers i intent de sobrepassar el límit de quota</strong></h3>
<p>Després de crear l'usuari i assignar-li el grup, crearem alguns fitxers per intentar sobrepassar el límit de quota del grup <strong>Classe</strong>.</p>
<p><img alt="alt text" src="../custom/excedirq.png" /></p>
<h3 id="comprovacio-de-lestat-de-la-quota-de-grup"><strong>Comprovació de l'estat de la quota de grup</strong></h3>
<p>Finalment, comprovem l'estat de les quotes del grup <strong>Classe</strong> utilitzant la comanda:</p>
<p><code>repquota -g /mnt/dades</code></p>
<p><img alt="alt text" src="../custom/gclassecap.png" /></p>
<p><strong>Explicació de la Captura</strong></p>
<p>Aquesta captura mostra la sortida de la comanda <code>repquota -g /mnt/dades</code> per al grup <strong>classe</strong> en un sistema de fitxers montat a <code>/mnt/dades</code>.</p>
<ul>
<li><strong>Grup</strong>: <code>classe</code></li>
<li><strong>Usat</strong>: El grup ha utilitzat <strong>20480</strong> blocs. Això significa que el grup <strong>classe</strong> ha utilitzat 20MB d'espai a la partició.</li>
<li><strong>Blando (límit tou)</strong>: El límit tou (soft limit) per al grup és de <strong>10240</strong> blocs (10MB). El grup ha superat aquest límit, però encara està dins del límit dur.</li>
<li><strong>Duro (límit dur)</strong>: El límit dur (hard limit) per al grup és de <strong>20480</strong> blocs (20MB). El grup està exactament al límit dur, el que significa que ja ha arribat al límit màxim d'espai permès.</li>
<li><strong>Gracia</strong>: El període de gràcia és de <strong>6 dies</strong>. Això vol dir que el grup té 6 dies per reduir el seu ús d'espai per sota del límit dur abans que es prenguin mesures.</li>
</ul>
<p><strong>Notes addicionals:</strong></p>
<ul>
<li>El símbol <strong><code>+</code></strong> a la columna <strong>Usat</strong> indica que el grup ha superat el límit tou però no ha arribat al límit dur. </li>
<li>Els altres usuaris (com <code>root</code> i <code>vitaliy</code>) no tenen cap quota assignada o només s'han mostrant les dades generals sense que s'excedeixin els límits.</li>
</ul>
<hr />
<h4 id="email-automatic-de-superar-quota-de-grup"><strong>Email Automàtic de Superar Quota de Grup</strong></h4>
<p>Quan un grup o usuari supera el límit de quota, es pot configurar un sistema per enviar un correu electrònic automàticament. Aquest correu s'envia mitjançant un script personalitzat, ja que la funcionalitat de <code>warnquota</code> només funciona amb usuaris i no amb grups.</p>
<p><img alt="alt text" src="../custom/emailg.png" /></p>
<!-- Botó per mostrar la configuració del script de quota -->
<p><button class="popup-button" onclick="showPopup('popupGroupQuota', 'overlayGroupQuota')">Configuració del Script per Alertes de Quota (Fes clic per veure més)</button></p>
<!-- Overlay i Popup per mostrar la configuració del script -->
<div class="overlay" id="overlayGroupQuota" onclick="hidePopup('popupGroupQuota', 'overlayGroupQuota')"></div>
<div class="popup" id="popupGroupQuota">
  <span class="close-btn" onclick="hidePopup('popupGroupQuota', 'overlayGroupQuota')">×</span>
  <h3>Script per Enviar Alerta per Correu quan un Grup Supera la Quota</h3>
  <p>Aquest script està dissenyat per verificar si un grup ha superat el límit de quota assignat i enviar un correu electrònic d'alerta automàticament.</p>

  <h4>Funcionament del Script</h4>
  <p>Aquest script realitza les següents accions:</p>
  <ol>
    <li><strong>Obtenir l'informe de quotes</strong>: Utilitza la comanda <code>repquota -g /mnt/dades</code> per obtenir les quotes del grup.</li>
    <li><strong>Filtrar el grup específic</strong>: El resultat es filtra per buscar la línia relacionada amb el grup "classe".</li>
    <li><strong>Comprovar si s'ha superat el límit</strong>: Si el límit de quota s'ha superat (indicat pel símbol <code>+</code>), es genera un correu electrònic d'alerta.</li>
    <li><strong>Enviar l'alerta per correu</strong>: Si el grup ha superat el límit de quota, es crea i envia un correu electrònic amb l'alerta.</li>
  </ol>

  <h4>Contingut del script</h4>
  <pre><code>
#!/bin/bash

# Obtenim l'informe de quotes del grup
repquota -g /mnt/dades | grep "classe" > /tmp/group_quota_report.txt

# Verifiquem si s'ha superat el límit tou o dur
if grep -q "+" /tmp/group_quota_report.txt; then
    echo "El grup classe ha superat el límit tou o dur de la quota." | mail -s "Alerta: Quota del grup classe superada" exemple@correu.com
fi
  </code></pre>

  <h4>Aplicació del Script</h4>
  <p>Per aplicar aquest script, segueix aquests passos:</p>
  <ol>
    <li><strong>Guardar el script:</strong> Guarda aquest script en un fitxer, per exemple <code>group_quota_check.sh</code>.</li>
    <li><strong>Donar permisos d'execució:</strong> Utilitza la comanda següent per donar permisos d'execució al script:
      <pre><code>chmod +x group_quota_check.sh</code></pre>
    </li>
    <li><strong>Afegir al Cron:</strong> Per executar aquest script automàticament cada dia, afegeix-lo a les tasques programades (cron jobs). Utilitza la comanda:
      <pre><code>sudo crontab -e</code></pre>
      I afegeix la línia següent per executar el script cada dia a mitjanit:
      <pre><code>0 0 * * * /path/to/group_quota_check.sh</code></pre>
    </li>
  </ol>

  <h4>Resultat Esperat</h4>
  <p>Quan el grup "classe" superi el límit de quota, el sistema enviarà automàticament un correu electrònic amb el missatge:</p>
  <pre><code>El grup classe ha superat el límit tou o dur de la quota.</code></pre>
  <p>Aquest sistema permet als administradors monitoritzar les quotes dels grups de manera eficient i notificar-los ràpidament en cas d'excedir els límits establerts.</p>
</div>

<script>
  function showPopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'block';
    document.getElementById(overlayId).style.display = 'block';
  }

  function hidePopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'none';
    document.getElementById(overlayId).style.display = 'none';
  }
</script>

<style>
  .popup-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  .popup-button:hover {
    background-color: #0056b3;
  }

  .popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #2c2c2c;
    border: 1px solid #444444;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
    padding: 20px;
    z-index: 1000;
    width: 80%;
    max-width: 900px;
    overflow-y: auto;
    max-height: 80%;
    color: #ffffff;
  }

  .popup .close-btn {
    float: right;
    cursor: pointer;
    font-size: 18px;
    color: #888888;
  }

  .popup .close-btn:hover {
    color: #ffffff;
  }

  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }
</style>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.download", "footer.hide", "palette.toggle"], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="../consent.js"></script>
      
        <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
      
    
  </body>
</html>