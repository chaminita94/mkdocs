
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../sistemes_fitxers/">
      
      
        <link rel="next" href="../copies_segur/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Gestió de Particions i Compartició de Recursos - Virtualització</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creacio-i-muntatge-de-particions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Virtualització" class="md-header__button md-logo" aria-label="Virtualització" data-md-component="logo">
      
  <img src="../linux-ethandud.gif" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Virtualització
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gestió de Particions i Compartició de Recursos
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../objectius/" class="md-tabs__link">
        
  
    
  
  Per què triar Linux?

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Typeracer.html" class="md-tabs__link">
        
  
    
  
  Typeracer

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../instalacio_inicial/" class="md-tabs__link">
          
  
  Sprint 1

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../fitx_importants/" class="md-tabs__link">
          
  
  Sprint 2

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../licencia/" class="md-tabs__link">
          
  
  Licència

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Virtualització" class="md-nav__button md-logo" aria-label="Virtualització" data-md-component="logo">
      
  <img src="../linux-ethandud.gif" alt="logo">

    </a>
    Virtualització
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../objectius/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Per què triar Linux?
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Typeracer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Typeracer
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint 1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sprint 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../instalacio_inicial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalació Inicial Usuari Avançat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració Inicial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../netplan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració de Xarxa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bootloaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestors D'arrancada
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reparació d'inici
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timeshift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creació d'una instantània del sistema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../comandes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comandes bàssiques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../packet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fixació de Paquets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Sprint 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fitx_importants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fitxers Importants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gestio_usuaris/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió d'Usuaris
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gestproces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de Processos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../permisos_especials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permisos Especials i ACL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aplicar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aplicarció de Permisos Especial i ACL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sistemes_fitxers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sistemes de Fitxers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Gestió de Particions i Compartició de Recursos
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Gestió de Particions i Compartició de Recursos
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creacio-i-muntatge-de-particions" class="md-nav__link">
    <span class="md-ellipsis">
      Creació i muntatge de particions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creació i muntatge de particions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacio-de-la-particio-i-formateig" class="md-nav__link">
    <span class="md-ellipsis">
      Creació de la partició i formateig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formateig-de-particions-ext4" class="md-nav__link">
    <span class="md-ellipsis">
      Formateig de particions EXT4
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Formateig de particions EXT4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comprovacio-de-la-mida-del-bloc" class="md-nav__link">
    <span class="md-ellipsis">
      Comprovació de la mida del bloc
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formateig-de-particions-ntfs" class="md-nav__link">
    <span class="md-ellipsis">
      Formateig de particions NTFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificacio" class="md-nav__link">
    <span class="md-ellipsis">
      Verificació
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muntatge-temporal-de-la-carpeta-a-la-particio" class="md-nav__link">
    <span class="md-ellipsis">
      Muntatge temporal de la carpeta a la partició
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muntatge-permanent-de-la-carpeta-a-la-particio" class="md-nav__link">
    <span class="md-ellipsis">
      Muntatge Permanent de la carpeta a la partició
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparticio-de-fitxers-en-xarxa" class="md-nav__link">
    <span class="md-ellipsis">
      Compartició de Fitxers en Xarxa
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compartició de Fitxers en Xarxa">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nautilus-share" class="md-nav__link">
    <span class="md-ellipsis">
      Nautilus-Share
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samba" class="md-nav__link">
    <span class="md-ellipsis">
      Samba
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Samba">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#que-es-samba" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Què és Samba?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacio-i-configuracio-del-samba" class="md-nav__link">
    <span class="md-ellipsis">
      Instalació i Configuració del Samba.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compartir-un-directori-amb-samba" class="md-nav__link">
    <span class="md-ellipsis">
      Compartir un directori amb Samba
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compartir-un-directori-formatat-amb-ntfs-mitjancant-samba" class="md-nav__link">
    <span class="md-ellipsis">
      Compartir un directori formatat amb NTFS mitjançant Samba
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../copies_segur/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Còpies de Seguretat i Automatitzacions de Tasques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quotes_disc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quotes per a Usuaris i Grups
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Licència
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Licència
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../licencia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llicència d'us
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tipus-licencia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tipus de Llicències
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Gestió de Particions i Compartició de Recursos</h1>

<h2 id="creacio-i-muntatge-de-particions">Creació i muntatge de particions</h2>
<p>En aquest apartat aprendrem a crear particions tant en format <strong>ext4</strong> com <strong>NTFS</strong>. També veurem com muntar particions de manera <strong>temporal</strong> i <strong>definitiva</strong>.</p>
<p>A més, explicarem com utilitzar <strong>FSTAB</strong> per configurar el muntatge automàtic de particions. Finalment, compartirem aquestes particions utilitzant <strong>Samba</strong> i <strong>nautilus-share</strong>.</p>
<h3 id="creacio-de-la-particio-i-formateig"><strong>Creació de la partició i formateig</strong></h3>
<p>Primer de tot, comprovem el nom de la nostra partició amb la comanda <strong><code>fdisk -l</code></strong>.</p>
<p><img alt="Creació de particions" src="../disk.png" /></p>
<blockquote>
<p><strong>Nota:</strong> En el nostre cas, el disc és <code>/dev/sdb</code> (el teu pot ser diferent).</p>
</blockquote>
<p>Per crear la partició, executarem la comanda següent: <code>sudo fdisk /dev/sdb</code>.</p>
<pre><code>sudo fdisk /dev/sdb
</code></pre>
<ol>
<li>Escriu <strong><code>n</code></strong> per crear una nova partició.</li>
<li>Selecciona <strong><code>p</code></strong> per crear una partició primària.</li>
<li>Defineix la mida de la partició introduint el sector inicial i la meitat del disc, per exemple <strong>2000000 bytes</strong>.</li>
<li>Escriu <strong><code>w</code></strong> per guardar els canvis i sortir del programa.</li>
</ol>
<p><img alt="Creació de partició" src="../particio.png" /></p>
<p><strong>Comprovació de la partició</strong></p>
<p>Un cop creada la partició, comprovem si s'ha creat correctament.</p>
<p><img alt="Comprovació de partició" src="../comprovadisk.png" /></p>
<hr />
<h3 id="formateig-de-particions-ext4"><strong>Formateig de particions EXT4</strong></h3>
<p>Amb la partició creada, procedirem a formatar-la en format <strong>ext4</strong>.</p>
<p>Utilitzarem la següent comanda:</p>
<pre><code>sudo mkfs.ext4 -b 2048 /dev/sdb1
</code></pre>
<ul>
<li>L'opció <strong><code>-b 2048</code></strong> especifica la mida del bloc que assignem manualment.</li>
</ul>
<p><img alt="Format ext4" src="../ext4.png" /></p>
<!-- Button for Extra Options -->
<p><button class="popup-button" onclick="showPopup('popup-ext4', 'overlay-ext4')">Opcions extres per mkfs.ext4</button></p>
<!-- Overlay and Popup for Extra Options -->
<div class="overlay" id="overlay-ext4" onclick="hidePopup('popup-ext4', 'overlay-ext4')"></div>
<div class="popup" id="popup-ext4">
  <span class="close-btn" onclick="hidePopup('popup-ext4', 'overlay-ext4')">×</span>
  <h3>Opcions extres per a <code>mkfs.ext4</code></h3>
  <p>La comanda:</p>
  <p><code>mkfs.ext4 /dev/sdb1</code></p>
  <p>pot incloure les opcions següents:</p>
  <h4>Opcions comunes:</h4>
  <ul>
    <li><strong><code>-L &lt;etiqueta&gt;</code></strong>: Assigna una etiqueta a la partició (per exemple, "EXT4_PARTITION").</li>
    <pre><code>mkfs.ext4 -L EXT4_PARTITION /dev/sdb1</code></pre>

    <li><strong><code>-m &lt;percentatge&gt;</code></strong>: Estableix l'espai reservat per a l'usuari root (per defecte és el 5%). Utilitza un percentatge més petit per estalviar espai en particions grans.</li>
    <pre><code>mkfs.ext4 -m 1 /dev/sdb1</code></pre>

    <li><strong><code>-b &lt;mida-del-bloc&gt;</code></strong>: Especifica la mida del bloc (per exemple, 1024, 2048 o 4096 bytes).</li>
    <pre><code>mkfs.ext4 -b 4096 /dev/sdb1</code></pre>

    <li><strong><code>-E &lt;característiques&gt;</code></strong>: Afegeix opcions extres, com activar la inicialització lenta (lazy initialization) o commits ràpids.</li>
    <pre><code>mkfs.ext4 -E lazy_itable_init=1 /dev/sdb1</code></pre>

    <li><strong><code>-T &lt;ús&gt;</code></strong>: Optimitza per a casos d'ús específics (per exemple, small, largefile, largefile4).</li>
    <pre><code>mkfs.ext4 -T largefile /dev/sdb1</code></pre>
  </ul>
</div>

<h4 id="comprovacio-de-la-mida-del-bloc">Comprovació de la mida del bloc</h4>
<p>Fem la comprovació de la mida del bloc que hem assignat a la partició. Per fer-ho, utilitzem la següent comanda: </p>
<pre><code>sudo tune2fs -l /dev/sdb1 | grep Block
</code></pre>
<p>Aquest és el resultat obtingut:</p>
<p><img alt="alt text" src="../block.png" /></p>
<ul>
<li><strong>Block count</strong>: Indica el nombre total de blocs que té la partició, en aquest cas, <strong>499488 blocs</strong>.</li>
<li><strong>Block size</strong>: Mostra la mida del bloc assignada, que és <strong>2048 bytes</strong> (2 KB).</li>
<li><strong>Blocks per group</strong>: Indica el nombre de blocs per grup, que és <strong>16384</strong>.</li>
</ul>
<p><strong>Conversió a MB</strong></p>
<p>La mida total del sistema de fitxers es pot calcular així:</p>
<ol>
<li>
<p>Multipliquem el <strong>Block count</strong> pel <strong>Block size</strong>:<br />
<code>499488 blocs * 2048 bytes = 1022035968 bytes</code></p>
</li>
<li>
<p>Convertim el resultat a megabytes:<br />
<code>1022035968 bytes ÷ 1024 ÷ 1024 = 974 MB</code></p>
</li>
</ol>
<p>Així, la mida aproximada de la partició és <strong>974 MB</strong>.</p>
<hr />
<h3 id="formateig-de-particions-ntfs"><strong>Formateig de particions NTFS</strong></h3>
<p>Hem creat una segona partició, <strong>/dev/sdb2</strong>, de 1GB al mateix disc. Aquesta partició es destinarà al format <strong>NTFS</strong>.</p>
<p><img alt="Creació de partició" src="../custom/NTFS.png" /></p>
<p>Un cop creades les particions, les hem formatat segons els sistemes de fitxers desitjats:</p>
<ul>
<li><strong>/dev/sdb1</strong>: Formatada amb <strong>ext4</strong>, un sistema de fitxers ideal per a sistemes Linux.</li>
<li><strong>/dev/sdb2</strong>: Formatada amb <strong>NTFS</strong>, un sistema de fitxers compatible amb Windows.</li>
</ul>
<p>Hem aprofitat per formatar <strong>/dev/sdb1</strong> amb <strong>ext4</strong> durant el mateix procés.</p>
<p><img alt="Formatació de particions" src="../custom/ntfsext.png" /></p>
<!-- Button for NTFS Extra Options -->
<p><button class="popup-button" onclick="showPopup('popup-ntfs', 'overlay-ntfs')">Opcions extres per mkfs.ntfs</button></p>
<!-- Overlay and Popup for NTFS Extra Options -->
<div class="overlay" id="overlay-ntfs" onclick="hidePopup('popup-ntfs', 'overlay-ntfs')"></div>
<div class="popup" id="popup-ntfs">
  <span class="close-btn" onclick="hidePopup('popup-ntfs', 'overlay-ntfs')">×</span>
  <h3>Opcions extres per a <code>mkfs.ntfs</code></h3>
  <p>La comanda:</p>
  <p><code>mkfs.ntfs /dev/sdb2</code></p>
  <p>pot incloure les opcions següents:</p>
  <h4>Opcions comunes:</h4>
  <ul>
    <li><strong><code>-L &lt;etiqueta&gt;</code></strong>: Assigna una etiqueta a la partició (per exemple, "NTFS_PARTITION").</li>
    <pre><code>mkfs.ntfs -L NTFS_PARTITION /dev/sdb2</code></pre>

    <li><strong><code>-c &lt;mida-del-clúster&gt;</code></strong>: Especifica la mida del clúster (per exemple, 512, 1024, 2048, 4096 bytes, etc.).</li>
    <pre><code>mkfs.ntfs -c 4096 /dev/sdb2</code></pre>

    <li><strong><code>--fast</code></strong>: Realitza un format ràpid (equivalent a l'opció <code>-Q</code>).</li>
    <pre><code>mkfs.ntfs --fast /dev/sdb2</code></pre>

    <li><strong><code>--force</code></strong>: Obliga el format encara que la partició estigui muntada o en ús.</li>
    <pre><code>mkfs.ntfs --force /dev/sdb2</code></pre>

    <li><strong><code>-f</code></strong>: Activa el mode ràpid, formatant la partició sense comprovar si hi ha blocs dolents.</li>
    <pre><code>mkfs.ntfs -f /dev/sdb2</code></pre>
  </ul>
</div>

<hr />
<h3 id="verificacio">Verificació</h3>
<p>Un cop formatades, podem verificar el tipus de sistema de fitxers i el muntatge de les particions utilitzant:</p>
<pre><code>lsblk -f
</code></pre>
<p><img alt="alt text" src="../custom/lalala.png" /></p>
<h3 id="muntatge-temporal-de-la-carpeta-a-la-particio"><strong>Muntatge temporal de la carpeta a la partició</strong></h3>
<p>Després, crearem una carpeta i un arxiu dins d'aquesta carpeta.</p>
<p><img alt="alt text" src="../carpetaparticio.png" /></p>
<p>Executem la comanda següent:</p>
<pre><code>sudo mount -t ext4 /dev/sdb1 /var/partition1/
</code></pre>
<p>Aquesta acció muntarà la carpeta dins de <code>/dev/sdb1</code>. </p>
<p>Per a l'usuari no és visible, però d'aquesta manera ens assegurem que les dades no es perdin si succeeix algun problema amb el disc principal.</p>
<p><img alt="alt text" src="../mount.png" /></p>
<p><strong>Exemple:</strong> Els arxius es guarden a la partició que hem muntat, però els arxius que prèviament hem creat a <code>/partition1/</code> no s'han esborrat. En realitat, aquests arxius queden "ocults", ja que la carpeta <code>/partition1/</code> està muntada sobre la partició <strong><code>/dev/sdb1</code></strong>. Quan desmuntem la partició, els arxius locals tornen a ser visibles.</p>
<p><img alt="alt text" src="../explicaciomuntatge.png" /></p>
<p><strong>Explicació de la captura</strong></p>
<ol>
<li>
<p><strong><code>ls partition1/</code></strong>: Llistem el contingut del directori <code>partition1/</code>. Inicialment només apareix el directori <strong><code>lost+found</code></strong>, que es crea automàticament en particions formatades amb ext4.</p>
</li>
<li>
<p><strong><code>touch partition1/bye</code></strong>: Creem un fitxer buit anomenat <strong><code>bye</code></strong> dins de la carpeta muntada <code>partition1/</code>.</p>
</li>
<li>
<p><strong><code>umount /dev/sdb1</code></strong>: Desmuntem la partició <strong><code>/dev/sdb1</code></strong>, fent que el contingut de la partició deixi d'estar accessible.</p>
</li>
<li>
<p><strong><code>ls partition1/</code></strong>: Tornem a llistar el contingut de la carpeta. Ara no apareix el fitxer <strong><code>bye</code></strong>, ja que aquest estava dins de la partició muntada i aquesta ja no està accessible.</p>
</li>
<li>
<p><strong><code>ls partition1/</code> després de desmuntar</strong>: Aquí es mostren només els fitxers que pertanyen al directori local, fora del sistema de fitxers muntat. Quan es desmunta, el contingut de la partició queda separat del directori. Això demostra com el muntatge i desmuntatge funcionen per accedir al contingut de particions.</p>
</li>
</ol>
<blockquote>
<p>Nota: Tornem a muntar la carpeta amb la comanda anterior.</p>
</blockquote>
<p>Comprovem que la partició existeix utilitzant la comanda <code>df -T</code>.</p>
<p><img alt="alt text" src="../DFT.png" /></p>
<p>S'observa que la partició està present. Després, reiniciem la màquina per assegurar-nos que tot funciona correctament.</p>
<p>En fer la comprovació després del reinici, observem que la partició ja no està muntada. Això es deu al fet que la carpeta estava muntada de forma <strong>temporal</strong> i no de manera <strong>permanent</strong>.</p>
<p><img alt="alt text" src="../borrada.png" /></p>
<h3 id="muntatge-permanent-de-la-carpeta-a-la-particio"><strong>Muntatge Permanent de la carpeta a la partició</strong></h3>
<p>Per fer que el muntatge sigui permanent, cal editar el fitxer <strong><code>/etc/fstab</code></strong> afegint els paràmetres necessaris.</p>
<p><img alt="alt text" src="../fstab.png" /></p>
<blockquote>
<p><strong>IMPORTANT!</strong> Tingues molta cura amb les modificacions en aquest fitxer, ja que un error pot fer que el sistema no arranqui. Si això succeeix, hauràs d'utilitzar un <strong>Live Boot</strong> per reparar el fitxer <strong>FSTAB</strong>.</p>
</blockquote>
<!-- Button for the first popup -->
<p><button class="popup-button" onclick="showPopup('popup1', 'overlay1')">Explicació del FSTAB (Fes clic)</button></p>
<!-- Button for the second popup -->
<p><button class="popup-button" onclick="showPopup('popup2', 'overlay2')">Opcions extres per FSTAB (Fes clic)</button></p>
<!-- Overlay and popup for the first button -->
<div class="overlay" id="overlay1" onclick="hidePopup('popup1', 'overlay1')"></div>
<div class="popup" id="popup1">
  <span class="close-btn" onclick="hidePopup('popup1', 'overlay1')">×</span>
  <h3>Explicació de la línia en el rectangle vermell</h3>
  <p><strong><code>/dev/sdb1 /var/particio1 ext4 defaults 0 0</code></strong></p>
  <ul>
    <li><strong><code>/dev/sdb1</code></strong>: Indica la partició que volem muntar (en aquest cas, <strong>sdb1</strong>).</li>
    <li><strong><code>/var/particio1</code></strong>: El punt de muntatge, és a dir, el directori on es muntarà la partició.</li>
    <li><strong><code>ext4</code></strong>: El sistema de fitxers utilitzat per la partició.</li>
    <li><strong><code>defaults</code></strong>: Opcions de muntatge predeterminades, que inclouen:
      <ul>
        <li>Lectura i escriptura (rw).</li>
        <li>Muntar amb permisos de l'usuari.</li>
        <li>Sincronització per defecte.</li>
      </ul>
    </li>
    <li><strong><code>0 0</code></strong>: 
      <ul>
        <li>El primer número (<strong>0</strong>) indica si es fa un "dump" de la partició per còpies de seguretat (0 = no fer-ho).</li>
        <li>El segon número (<strong>0</strong>) indica si es comprova la partició durant l'inici del sistema (0 = no comprovar).</li>
      </ul>
    </li>
  </ul>
</div>

<!-- Overlay and popup for the second button -->
<div class="overlay" id="overlay2" onclick="hidePopup('popup2', 'overlay2')"></div>
<div class="popup" id="popup2">
  <span class="close-btn" onclick="hidePopup('popup2', 'overlay2')">×</span>
  <h3>Opcions extres que es poden afegir al FSTAB</h3>
  <ol>
    <li><strong><code>noatime</code></strong>: Desactiva l'actualització de l'hora d'accés als fitxers. Millora el rendiment, especialment en discos SSD.</li>
    <li><strong><code>nodiratime</code></strong>: Similar a <code>noatime</code>, però només per directoris.</li>
    <li><strong><code>errors=remount-ro</code></strong>: En cas d'error, la partició es remunta en mode només lectura per evitar danys.</li>
    <li><strong><code>sync</code></strong>: Escriu immediatament els canvis al disc, en lloc de mantenir-los en memòria cau.</li>
    <li><strong><code>user</code></strong>: Permet que qualsevol usuari pugui muntar i desmuntar la partició.</li>
    <li><strong><code>uid=1000,gid=1000</code></strong>: Assigna un identificador d'usuari i grup específic per als fitxers i directoris de la partició.</li>
    <li><strong><code>acl</code></strong>: Activa les llistes de control d'accés per gestionar permisos avançats.</li>
    <li><strong><code>noexec</code></strong>: Evita l'execució de fitxers binaris a la partició.</li>
    <li><strong><code>nosuid</code></strong>: Desactiva els permisos especials <code>setuid</code> i <code>setgid</code> a la partició.</li>
    <li><strong><code>ro</code></strong>: Muntar la partició en mode només lectura.</li>
  </ol>
  <p>Aquestes opcions es poden combinar segons les necessitats, per exemple:</p>
  <p><code>/dev/sdb1 /var/particio1 ext4 defaults,noatime,nosuid 0 0</code></p>
</div>

<script>
  function showPopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'block';
    document.getElementById(overlayId).style.display = 'block';
  }

  function hidePopup(popupId, overlayId) {
    document.getElementById(popupId).style.display = 'none';
    document.getElementById(overlayId).style.display = 'none';
  }
</script>

<style>
  .popup-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  .popup-button:hover {
    background-color: #0056b3;
  }

   .popup {
   display: none;
   position: fixed;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   background-color: #2c2c2c; /* Dark Gray */
   border: 1px solid #444444; /* Border */
   box-shadow: 0 0 10px rgba(0, 0, 0, 0.6); /* Subtle shadow */
   padding: 20px;
   z-index: 1000;
   width: 80%;
   max-width: 900px;
   overflow-y: auto;
   max-height: 80%;
   color: #ffffff; /* Text color */
   }
   .popup .close-btn {
   float: right;
   cursor: pointer;
   font-size: 18px;
   color: #888888; /* Button color */
   }
   .popup .close-btn:hover {
   color: #ffffff; /* Hover color */
   }
  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }
</style>

<hr />
<p>Després de reiniciar el sistema, utilitzem la comanda <code>df -T</code> per verificar l'estat de la partició. </p>
<p>Podem observar que la partició es munta automàticament en iniciar la sessió gràcies a la configuració del fitxer <strong><code>/etc/fstab</code></strong>.</p>
<p><img alt="alt text" src="../df-t.png" /></p>
<h3 id="comparticio-de-fitxers-en-xarxa"><strong>Compartició de Fitxers en Xarxa</strong></h3>
<p>Hi ha diverses maneres de compartir fitxers en xarxa, però en aquest exemple utilitzarem <strong>Nautilus-share</strong> i <strong>Samba</strong>.</p>
<p><strong>Què significa compartir arxius en xarxa?</strong></p>
<p>Compartir arxius en xarxa permet que diferents dispositius connectats a la mateixa xarxa accedeixin a fitxers o carpetes des d'un ordinador central. Això facilita l'intercanvi de dades sense necessitat de copiar fitxers manualment amb dispositius externs, com USB o discs durs. És una solució molt útil en entorns domèstics o d'oficina per col·laborar, gestionar recursos i estalviar temps.</p>
<p>Amb aquest procés, es poden configurar permisos perquè només usuaris específics tinguin accés, garantint la seguretat i el control sobre els fitxers.</p>
<h4 id="nautilus-share">Nautilus-Share</h4>
<p>Hem creat una carpeta anomenada <strong>partition1</strong> dins del directori <strong>/var/</strong>, i ara la compartirem a través de la xarxa utilitzant <strong>Nautilus</strong>.</p>
<p><img alt="Compartició amb Nautilus" src="../nautilus1.png" /></p>
<p>Primer de tot, cal instal·lar <strong>Nautilus-share</strong> amb la següent comanda:</p>
<pre><code>sudo apt install nautilus-share
</code></pre>
<p>Un cop creada la carpeta <strong>partition1</strong>, és necessari ajustar els permisos i el propietari per facilitar l'accés a altres usuaris.</p>
<ol>
<li>
<p><strong>Permisos 777</strong>:<br />
   Els permisos <strong>777</strong> atorguen màxima flexibilitat, ja que permeten a qualsevol usuari llegir, escriure i executar els fitxers dins de la carpeta. Aquesta configuració és útil quan es vol garantir accés total, però s'ha d'usar amb precaució, especialment en entorns on la seguretat és prioritària.</p>
</li>
<li>
<p><strong>Propietari nobody:nogroup</strong>:<br />
   Assignar <strong>nobody:nogroup</strong> com a propietari de la carpeta fa que no estigui associada a cap usuari o grup específic. Això significa que qualsevol persona que accedeixi a la xarxa podrà interactuar amb els fitxers dins de la carpeta.</p>
</li>
</ol>
<blockquote>
<p><strong>Nota:</strong> Aquesta configuració és adequada per a entorns on la seguretat no és una preocupació principal. En sistemes més restringits, és recomanable ajustar els permisos i propietaris segons les necessitats específiques de seguretat.</p>
</blockquote>
<p><img alt="alt text" src="../modown.png" /></p>
<p><strong>Obrir Nautilus amb permisos d'administrador</strong>:<br />
Obrim un terminal i escrivim <code>sudo nautilus</code>. Esperem que s'obri l'explorador de fitxers.</p>
<p><strong>Localitzar la carpeta</strong>:<br />
Ens dirigim al directori <strong>/var/</strong> i localitzem la carpeta <strong>partition1</strong> que hem creat prèviament.</p>
<p><img alt="alt text" src="../nautilus2.png" /></p>
<p><strong>Opció de compartir</strong>:<br />
Fem clic dret a la carpeta <strong>que volem compartir</strong> i seleccionem l'opció <strong>Sharing Options</strong>.</p>
<p><img alt="alt text" src="../comp.png" /></p>
<p><strong>Configuració de la compartició</strong>:<br />
Apareixerà una finestra per configurar la compartició de la carpeta. Habilitem les opcions que desitgem (com "Compartir aquesta carpeta") i fem clic a <strong>Modify Share</strong>.</p>
<p><img alt="alt text" src="../opcions.png" /></p>
<p><strong>Accés des d'un altre dispositiu</strong>:  </p>
<ul>
<li>
<p>Verifiquem la IP de la nostra màquina amb la comanda <code>ip -a</code>.</p>
</li>
<li>
<p>Ens dirigim a un altre ordinador de la mateixa xarxa i escrivim a la barra de cerca del gestor de fitxers: <code>smb://la-ip-de-la-maquina/</code>. </p>
</li>
<li>
<p>Per exemple, en aquest cas: <code>smb://192.168.1.18/</code>.</p>
</li>
</ul>
<p><img alt="alt text" src="../worksnautilus.png" /></p>
<p>En fer doble clic a la carpeta <strong>partition1</strong>, se'ns demanaran credencials d'accés. Si disposem de credencials, les podem utilitzar, però com que hem configurat l'accés com a <strong>"Guest"</strong>, podem seleccionar l'opció <strong>Anonymous</strong>.</p>
<p><img alt="alt text" src="../anon.png" /></p>
<p>Un cop connectats, ja podem crear, visualitzar i esborrar arxius i carpetes dins de <strong>partition1</strong>.</p>
<p><img alt="alt text" src="../done.png" /></p>
<p>Si ens dirigim a la màquina des d'on hem compartit el fitxer, podem comprovar si s'ha creat la nova carpeta.</p>
<p>En efecte, la carpeta s'ha creat amb el nom del propietari <strong>"nobody:nogroup"</strong>, tal com hem configurat prèviament.</p>
<p><img alt="alt text" src="../carpeta.png" /></p>
<h4 id="samba">Samba</h4>
<h5 id="que-es-samba"><strong>¿Què és Samba?</strong></h5>
<p><strong>Samba</strong> és una implementació de programari lliure del protocol SMB/CIFS (Server Message Block/Common Internet File System) que permet la compartició de fitxers, carpetes i impressores entre ordinadors que utilitzen diferents sistemes operatius, com Linux, Windows i macOS. </p>
<p>Samba s’utilitza principalment en entorns mixtos, on cal que màquines amb Linux puguin interactuar amb sistemes Windows per compartir recursos de xarxa. És una eina clau per integrar sistemes operatius i facilitar la col·laboració en xarxes locals.</p>
<p><strong>Funcions principals de Samba:</strong></p>
<ul>
<li><strong>Compartir fitxers i carpetes</strong>: Permet que ordinadors d'una xarxa accedeixin a recursos compartits, com carpetes o unitats de disc.</li>
<li><strong>Compartir impressores</strong>: Facilita l'accés a impressores configurades en altres dispositius.</li>
<li>
<p><strong>Autenticació i permisos</strong>: Proporciona eines per gestionar usuaris, grups i permisos d'accés.</p>
</li>
<li>
<p><strong>Integració amb Windows</strong>: Samba pot actuar com un controlador de domini per a entorns Windows, gestionant autenticacions i serveis.</p>
</li>
</ul>
<p><strong>Avantatges de Samba:</strong></p>
<ul>
<li><strong>Multiplataforma</strong>: Funciona en xarxes amb diversos sistemes operatius.</li>
<li><strong>Flexibilitat</strong>: Configurable per adaptar-se a diferents necessitats (compartició pública, accés restringit, etc.).</li>
<li><strong>Gratuït i de codi obert</strong>: Està disponible sense cost i amb suport d’una comunitat activa.</li>
</ul>
<p><strong>Exemple d'ús:</strong></p>
<p>Un servidor Linux amb Samba pot permetre que usuaris de Windows accedeixin a fitxers i carpetes com si es trobessin en un servidor Windows, sense necessitat de canviar el sistema operatiu o les eines utilitzades.</p>
<p><strong>Nota sobre Kerberos:</strong></p>
<blockquote>
<p>En configuracions simples, Samba no requereix l'ús de Kerberos per compartir fitxers entre Linux i Windows. No obstant això, en entorns empresarials o quan es necessita integració amb Active Directory, Kerberos es fa necessari per gestionar l'autenticació segura. Això permet un accés centralitzat i segur als recursos compartits en xarxes complexes.</p>
</blockquote>
<hr />
<h5 id="instalacio-i-configuracio-del-samba">Instalació i Configuració del <strong>Samba</strong>.</h5>
<p>Executem la comanda <code>sudo apt install samba</code>.</p>
<pre><code>sudo apt install samba
</code></pre>
<p><img alt="Instal·lació de Samba" src="../custom/sambainstall.png" /></p>
<p>Posteriorment configurem el arxiu del smb.conf i afegir les linies que tenim a continuació.</p>
<pre><code>sudo nano /etc/samba/smb.conf
</code></pre>
<p><img alt="alt text" src="../custom/smbconf.png" /></p>
<!-- Button for the Samba configuration popup -->
<p><button class="popup-button" onclick="showPopup('sambaConfigPopup', 'sambaOverlay')">Explicació de la configuració de Samba (Fes clic)</button></p>
<!-- Overlay and popup for the Samba configuration -->
<div class="overlay" id="sambaOverlay" onclick="hidePopup('sambaConfigPopup', 'sambaOverlay')"></div>
<div class="popup" id="sambaConfigPopup">
  <span class="close-btn" onclick="hidePopup('sambaConfigPopup', 'sambaOverlay')">×</span>
  <h3>Explicació de la configuració en vermell al fitxer <code>smb.conf</code></h3>
  <p>Aquesta configuració, dins del fitxer <code>/etc/samba/smb.conf</code>, defineix una carpeta compartida i els permisos associats per a la seva compartició a través de Samba. Analitzem les línies destacades en vermell:</p>
  <ul>
    <li><strong><code>path = /var/particio1</code></strong>: Especifica el camí complet al directori que es vol compartir. En aquest cas, la carpeta és <code>/var/particio1</code>.</li>
    <li><strong><code>guest ok = yes</code></strong>: Permet que usuaris no autenticats (convidats) accedeixin a aquesta carpeta. Això és útil si es vol oferir un accés senzill, però s'ha d'utilitzar amb precaució en xarxes públiques.</li>
    <li><strong><code>directory mask = 0755</code></strong>: Estableix els permisos per als directoris dins de la carpeta compartida.  
      <ul>
        <li><code>0755</code> permet:</li>
        <ul>
          <li>Lectura, escriptura i execució per al propietari.</li>
          <li>Només lectura i execució per a altres usuaris i grups.</li>
        </ul>
      </ul>
    </li>
    <li><strong><code>create mask = 0644</code></strong>: Defineix els permisos per als fitxers que es creïn dins de la carpeta compartida.  
      <ul>
        <li><code>0644</code> permet:</li>
        <ul>
          <li>Lectura i escriptura per al propietari.</li>
          <li>Només lectura per a altres usuaris i grups.</li>
        </ul>
      </ul>
    </li>
    <li><strong><code>browseable = yes</code></strong>: Permet que la carpeta aparegui com a visible (explorable) per als clients de xarxa. Si es posa a <code>no</code>, la carpeta encara es pot accedir, però no es mostrarà en navegadors de xarxa.</li>
    <li><strong><code>read list = diego</code></strong>: Defineix que l'usuari <code>diego</code> té permisos només de lectura a la carpeta compartida. Aquest usuari pot veure i obrir fitxers, però no editar-los ni crear-ne de nous.</li>
    <li><strong><code>write list = diego</code></strong>: Afegeix l'usuari <code>diego</code> a la llista d'usuaris amb permisos d'escriptura. Aquest paràmetre li permet crear, modificar i eliminar fitxers dins de la carpeta compartida.</li>
  </ul>
  <p><strong>Resum:</strong> Aquesta configuració comparteix la carpeta <code>/var/particio1</code> amb els següents paràmetres:</p>
  <ul>
    <li><strong>Accés de convidats:</strong> Permès (qualsevol pot accedir).</li>
    <li><strong>Permisos per defecte:</strong>
      <ul>
        <li>Directoris: Lectura, escriptura i execució per al propietari.</li>
        <li>Fitxers: Lectura i escriptura per al propietari.</li>
      </ul>
    </li>
    <li><strong>Usuari específic (<code>diego</code>):</strong> Té permisos tant de lectura com d'escriptura.</li>
  </ul>
  <p><strong>Nota:</strong> Aquesta configuració s'ha d'ajustar segons les necessitats específiques de seguretat i privadesa de la xarxa.</p>
</div>

<h4 id="compartir-un-directori-amb-samba">Compartir un directori amb Samba</h4>
<p>Primer, crearem el directori <strong>/var/partition1/</strong> i configurarem els permisos i el propietari per garantir que sigui accessible a tots els usuaris.</p>
<ol>
<li>
<p><strong>Creació de la carpeta</strong>:<br />
   El directori <strong>partition1/</strong> es crearà dins del directori <strong>/var/</strong>.</p>
</li>
<li>
<p><strong>Permisos 777</strong>:<br />
   Assignarem permisos <strong>777</strong> al directori per permetre que qualsevol usuari pugui llegir, escriure i executar fitxers dins d'aquest.  </p>
</li>
<li><strong>Lectura (r)</strong>: Permet veure el contingut dels fitxers.</li>
<li><strong>Escriptura (w)</strong>: Permet modificar o crear fitxers.</li>
<li>
<p><strong>Execució (x)</strong>: Permet accedir a directoris i executar fitxers.</p>
</li>
<li>
<p><strong>Propietari nobody:nogroup</strong>:<br />
   Canviarem el propietari del directori a <strong>nobody:nogroup</strong> perquè no estigui associat a cap usuari o grup específic. Això garanteix que qualsevol persona pugui accedir als recursos compartits sense restriccions.</p>
</li>
</ol>
<p><img alt="alt text" src="../custom/chmod77.png" /></p>
<p>Per aquest exemple, crearem un usuari anomenat <strong>diego</strong>.</p>
<blockquote>
<p><strong>Nota:</strong> Si necessites més informació sobre com es creen usuaris, visita l'apartat de creació d'usuaris a la següent ruta:<br />
<a href="https://chaminita94.github.io/mkdocs/gestio_usuaris/#afegir-un-nou-usuari" target="_blank" rel="noopener noreferrer">Gestió d'usuaris: Afegir un nou usuari</a></p>
</blockquote>
<p><strong>Afegir l'usuari a Samba amb <code>smbpasswd</code></strong></p>
<p>La comanda <strong><code>smbpasswd -a diego</code></strong> s'utilitza per afegir l'usuari <strong><code>diego</code></strong> al sistema de gestió d'usuaris de Samba. Aquesta comanda permet que l'usuari pugui accedir als recursos compartits configurats a través de Samba.</p>
<p><img alt="Assignar contrasenya SMB" src="../smbpass.png" /></p>
<p><strong>Pas a pas del procés</strong>:</p>
<p><strong>Assignació d'una contrasenya SMB</strong>:</p>
<ul>
<li>Es demana a l'administrador que introdueixi i confirmi una contrasenya per a l'usuari <strong><code>diego</code></strong>.</li>
<li>Aquesta contrasenya serà utilitzada específicament per autenticar-se als recursos compartits de Samba.</li>
</ul>
<p><strong>Afegir l'usuari a la base de dades de Samba</strong>:</p>
<ul>
<li>L'usuari <strong><code>diego</code></strong> es registra a la base de dades d'usuaris de Samba.</li>
<li>Això permet que tingui accés a les carpetes compartides segons els permisos configurats al fitxer <code>smb.conf</code>.</li>
</ul>
<blockquote>
<p><strong>Nota:</strong> Aquest procés no afecta els permisos ni les contrasenyes del sistema Linux de l'usuari, ja que la base de dades d'usuaris de Samba és independent.</p>
</blockquote>
<p><strong>Reiniciar el servei de Samba</strong>:<br />
Després de configurar el fitxer <code>smb.conf</code>, cal reiniciar els serveis de Samba perquè els canvis es facin efectius.  </p>
<ul>
<li><strong><code>systemctl restart smbd</code></strong>: Reinicia el servei que gestiona la compartició de fitxers i autenticació d’usuaris.  </li>
<li><strong><code>systemctl restart nmbd</code></strong>: Reinicia el servei que gestiona el servei de noms i la descoberta de recursos en la xarxa.</li>
</ul>
<p><img alt="Reinici del servei" src="../custom/restar.png" /></p>
<p><strong>Connexió des d'un altre ordinador</strong>:<br />
En un altre dispositiu de la mateixa xarxa, obrim el gestor de fitxers i introduïm l'adreça IP del servidor Samba al camp de cerca, seguint aquest format:<br />
<code>smb://&lt;IP_del_ordinador&gt;</code></p>
<blockquote>
<p><strong>Consell:</strong> Si no saps quina és la IP del servidor, pots consultar-la executant la comanda <strong>ip -a</strong> al servidor Samba.</p>
</blockquote>
<p><img alt="Connexió al recurs compartit" src="../custom/smbshare.png" /></p>
<p><strong>Introduir les credencials</strong>:<br />
Quan es demanin credencials, introduïm el nom d'usuari i la contrasenya que hem configurat prèviament per Samba. En aquest exemple, introduïm les credencials de l'usuari <strong>Diego</strong>.</p>
<p><img alt="Introduir credencials" src="../custom/diegoshare.png" /></p>
<p><strong>Provar la connexió</strong>:<br />
Un cop connectats, intentem crear un fitxer o carpeta dins del recurs compartit per assegurar-nos que tenim els permisos necessaris.</p>
<p><img alt="Creació de fitxer" src="../custom/diegoshared.png" /></p>
<p><strong>Comprovació al servidor</strong>:<br />
Tornem al servidor i comprovem que el fitxer o carpeta que hem creat està correctament desat al directori <strong>/var/particio1/</strong>.</p>
<p><img alt="Comprovació del fitxer creat" src="../custom/diegocrea.png" /></p>
<p><strong>Verificació del propietari</strong>:<br />
En efecte, el fitxer creat té com a propietari l'usuari <strong>Diego</strong>, tal com s'ha configurat en el fitxer <code>smb.conf</code>.</p>
<hr />
<h4 id="compartir-un-directori-formatat-amb-ntfs-mitjancant-samba">Compartir un directori formatat amb NTFS mitjançant Samba</h4>
<p>També és possible compartir un directori formatat amb <strong>NTFS</strong> utilitzant <strong>Samba</strong>. A continuació, es detallen els passos principals:</p>
<hr />
<p><strong>Crear i muntar el directori</strong></p>
<p>S'ha creat un directori anomenat <strong>Windows</strong> al camí <strong>/var/Windows</strong>. A continuació, s'ha configurat l'arxiu <strong>/etc/fstab</strong> per tal de muntar automàticament la partició <strong>/dev/sdb2</strong> al directori <strong>/var/Windows</strong> durant l'arrencada del sistema.</p>
<p>En l'arxiu <strong>fstab</strong>, s'ha afegit la configuració adequada per a la partició NTFS, assegurant que aquesta es muntarà correctament sempre que el sistema s'iniciï.</p>
<p><img alt="Configuració de fstab" src="../custom/fswindows.png" /></p>
<hr />
<p><strong>Configurar Samba per compartir el directori</strong></p>
<p>Per compartir el directori <strong>Windows</strong> mitjançant <strong>Samba</strong>, s'ha editat l'arxiu <strong>/etc/samba/smb.conf</strong> per afegir una configuració específica. Aquesta configuració permet que el directori sigui visible a la xarxa, navegable i amb permisos adequats per als usuaris.</p>
<p>Els paràmetres inclouen opcions com la visibilitat de la carpeta a la xarxa, els permisos d'escriptura i l'accés per a convidats.</p>
<p><img alt="Configuració de Samba" src="../custom/smb.png" /></p>
<p>Un cop realitzada aquesta configuració, s'han reiniciat els serveis de Samba perquè els canvis s'apliquin correctament.</p>
<hr />
<p><strong>Resum del procés</strong></p>
<ul>
<li>S'ha creat la partició <strong>/dev/sdb2</strong>.</li>
<li>La partició s'ha formatat amb el sistema de fitxers <strong>NTFS</strong>.</li>
<li>S'ha muntat la carpeta <strong>/var/Windows</strong> a la partició <strong>/dev/sdb2</strong>.</li>
<li>S'ha configurat Samba per compartir aquesta carpeta, permetent l'accés des d'altres dispositius de la xarxa.</li>
</ul>
<p><img alt="Compartició de Windows amb Samba" src="../custom/WindowsSh.png" /></p>
<p>Amb aquests passos, el directori <strong>Windows</strong> és accessible a la xarxa mitjançant Samba, amb permisos adequats per als usuaris.</p>
<p>Un cop configurat Samba i compartit el directori <strong>Windows</strong>, comprovem que és possible crear arxius des d'un ordinador Windows.</p>
<hr />
<p><strong>Creació d'arxius des de Windows</strong></p>
<p>Des de l'ordinador Windows, accedim al recurs compartit i creem un fitxer per comprovar que tenim permisos d'escriptura adequats.</p>
<p><img alt="Creació d'arxius a Windows" src="../custom/WindwosH.png" /></p>
<p><strong>Verificació des de Linux</strong></p>
<p>Tornem a la màquina Linux i comprovem que el fitxer creat des de Windows apareix correctament al directori <strong>/var/Windows</strong>.</p>
<p><img alt="Verificació del fitxer a Linux" src="../custom/linxuw.png" /></p>
<hr />












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.copy", "content.code.download", "footer.hide", "palette.toggle"], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="../consent.js"></script>
      
        <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
      
    
  </body>
</html>